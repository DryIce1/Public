/* THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
If you want to view the source, please visit the GitHub repository of this plugin. */

"use strict";var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var p=(a,n)=>{for(var t in n)d(a,t,{get:n[t],enumerable:!0})},u=(a,n,t,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of m(n))!g.call(a,s)&&s!==t&&d(a,s,{get:()=>n[s],enumerable:!(e=h(n,s))||e.enumerable});return a};var b=a=>u(d({},"__esModule",{value:!0}),a);var w={};p(w,{default:()=>c});module.exports=b(w);var o=require("obsidian"),c=class extends o.Plugin{constructor(){super(...arguments);this.freezeDelaySecs=4}async onload(){console.info("Theme Design Utilities Plugin loaded."),this.addCommand({id:"freeze-obsidian",name:"Freeze Obsidian (with "+this.freezeDelaySecs.toString()+"s delay)",callback:()=>{this.freezeTimer(this.freezeDelaySecs)}}),this.addCommand({id:"toggle-devtools",name:"Toggle Devtools",callback:()=>electronWindow.toggleDevTools()}),this.addCommand({id:"test-notice",name:"Test Notice",callback:()=>new o.Notice(`I am a test notice. \u{1F44B} 

I will stay here until you click me.`,0)}),this.addCommand({id:"toggle-emulate-mobile",name:"Toggle mobile emulation",callback:()=>this.app.emulateMobile(!this.app.isMobile)}),this.addCommand({id:"cheatsheet-css-classes",name:"Cheatsheet \u2013 Obsidian CSS Classes",callback:()=>window.open("https://raw.githubusercontent.com/chrisgrieser/obsidian-theme-design-utilities/master/cheatsheets/css-classes.png")}),this.addCommand({id:"color-playground",name:"Open GitHub Folder with Color Playground files to download",callback:()=>window.open("https://github.com/chrisgrieser/obsidian-theme-design-utilities/tree/main/color-playground")}),this.addCommand({id:"toggle-dark-light-mode",name:"Toggle between Dark and Light Mode",callback:()=>this.toggleDarkMode()}),this.addCommand({id:"cycle-views",name:"Cycle between Source Mode, Live Preview, and Reading Mode",callback:()=>this.cycleViews()}),this.addCommand({id:"cycle-themes",name:"Cycle between the installed themes",callback:()=>this.cycleThemes()}),this.addCommand({id:"debugging-outline",name:"Toggle Red Outlines for Debugging",callback:()=>this.toggleDebuggingCSS()}),this.addCommand({id:"toggle-garbled-text",name:"Toggle Garbled Text",callback:()=>this.toggleGarbleText()}),this.addCommand({id:"test-body-class",name:'Toggle class ".foobar" for .app-container',callback:()=>this.toggleTestClass()}),this.addCommand({id:"version-info",name:"CSS Feature Compatibility / Tech Stack Versions",callback:()=>this.versionInfo()})}onunload(){console.info("Theme Design Utilities Plugin unloaded."),this.app.dom.appContainerEl.removeClass("foobar")}versionInfo(){let t=process.versions.chrome?.split(".")[0],e=process.versions.node.split(".")[0],s=process.versions.electron?.split(".")[0],i=[`Chrome Version: ${t}`,`Node Version: ${e}`,`Electron Version: ${s}`].join(`
`);new o.Notice(i,7*1e3)}freezeTimer(t){let e=new o.Notice(`\u26A0 Will freeze Obsidian in ${t}s`,(t-.2)*1e3);electronWindow.openDevTools();let s=0,i=setInterval(()=>{let l=(t-s).toFixed(1);e.setMessage(`\u26A0 Will freeze Obsidian in ${l}s`),s+=.1},100);setTimeout(()=>{debugger;clearInterval(i)},t*1e3)}cycleThemes(){let t=this.app.customCss.theme,e=[...Object.keys(this.app.customCss.themes),...this.app.customCss.oldThemes];if(e.length===0){new o.Notice("Cannot cycle themes since no community theme is installed.");return}e.push("");let s=(e.indexOf(t)+1)%e.length,i=e[s];i!==void 0&&this.app.customCss.setTheme(i)}toggleDarkMode(){let t=this.app.vault.getConfig("theme")==="obsidian",e="moonstone",s="obsidian";t?(this.app.setTheme(e),this.app.vault.setConfig("theme",e),this.app.workspace.trigger("css-change")):(this.app.setTheme(s),this.app.vault.setConfig("theme",s),this.app.workspace.trigger("css-change"))}cycleViews(){if(!this.app.workspace.getActiveViewOfType(o.MarkdownView)){new o.Notice("Not a regular note or no file open.");return}let s=this.app.workspace.getLeaf();if(!s){new o.Notice("Not a regular note or no file open.");return}let i=s.getViewState(),l;i.state.mode==="preview"?l="preview":i.state.mode==="source"&&i.state.source?l="source":l="live";let r=i;switch(l){case"preview":{r.state.mode="source",r.state.source=!0,new o.Notice("Now: Source Mode",2e3);break}case"source":{r.state.mode="source",r.state.source=!1,new o.Notice("Now: Live Preview",2e3);break}default:r.state.mode="preview",new o.Notice("Now: Reading Mode",2e3)}s.setViewState(r)}toggleDebuggingCSS(){let t=this.styleEl?.textContent,e="";t||(e="* {outline: red 1px solid !important}",this.styleEl=document.createElement("style"),this.styleEl.setAttribute("type","text/css"),document.head.appendChild(this.styleEl),this.register(()=>this.styleEl?.detach())),this.styleEl&&(this.styleEl.textContent=e),this.app.workspace.trigger("css-change")}toggleGarbleText(){let t=this.styleEl?.textContent,e="";t||(e="body *:not(:hover) { font-family: Flow Circular !important; }",this.styleEl=document.createElement("style"),this.styleEl.setAttribute("type","text/css"),document.head.appendChild(this.styleEl),this.register(()=>this.styleEl?.detach())),this.styleEl&&(this.styleEl.textContent=e),this.app.workspace.trigger("css-change")}toggleTestClass(){this.app.dom.appContainerEl.classList.value.includes("foobar")?this.app.dom.appContainerEl.removeClass("foobar"):this.app.dom.appContainerEl.addClass("foobar")}};
