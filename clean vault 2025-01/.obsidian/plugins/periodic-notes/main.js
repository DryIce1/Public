/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var sg=Object.create;var zt=Object.defineProperty,lg=Object.defineProperties,cg=Object.getOwnPropertyDescriptor,ug=Object.getOwnPropertyDescriptors,fg=Object.getOwnPropertyNames,qo=Object.getOwnPropertySymbols,pg=Object.getPrototypeOf,ko=Object.prototype.hasOwnProperty,dg=Object.prototype.propertyIsEnumerable;var Fo=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t)=>{for(var r in t||(t={}))ko.call(t,r)&&Fo(e,r,t[r]);if(qo)for(var r of qo(t))dg.call(t,r)&&Fo(e,r,t[r]);return e},Ar=(e,t)=>lg(e,ug(t));var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mg=(e,t)=>{for(var r in t)zt(e,r,{get:t[r],enumerable:!0})},Do=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fg(t))!ko.call(e,i)&&i!==r&&zt(e,i,{get:()=>t[i],enumerable:!(n=cg(t,i))||n.enumerable});return e};var nt=(e,t,r)=>(r=e!=null?sg(pg(e)):{},Do(t||!e||!e.__esModule?zt(r,"default",{value:e,enumerable:!0}):r,e)),gg=e=>Do(zt({},"__esModule",{value:!0}),e);var te=(e,t,r)=>new Promise((n,i)=>{var o=l=>{try{s(r.next(l))}catch(c){i(c)}},a=l=>{try{s(r.throw(l))}catch(c){i(c)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,a);s((r=r.apply(e,t)).next())});var $n=g((MC,ia)=>{var Mg=typeof global=="object"&&global&&global.Object===Object&&global;ia.exports=Mg});var Oe=g((qC,oa)=>{var qg=$n(),Fg=typeof self=="object"&&self&&self.Object===Object&&self,kg=qg||Fg||Function("return this")();oa.exports=kg});var it=g((FC,aa)=>{var Dg=Oe(),Ig=Dg.Symbol;aa.exports=Ig});var ua=g((kC,ca)=>{var sa=it(),la=Object.prototype,Ng=la.hasOwnProperty,Lg=la.toString,Xt=sa?sa.toStringTag:void 0;function jg(e){var t=Ng.call(e,Xt),r=e[Xt];try{e[Xt]=void 0;var n=!0}catch(o){}var i=Lg.call(e);return n&&(t?e[Xt]=r:delete e[Xt]),i}ca.exports=jg});var pa=g((DC,fa)=>{var Rg=Object.prototype,Hg=Rg.toString;function Vg(e){return Hg.call(e)}fa.exports=Vg});var bt=g((IC,ga)=>{var da=it(),Bg=ua(),Gg=pa(),zg="[object Null]",Ug="[object Undefined]",ma=da?da.toStringTag:void 0;function Wg(e){return e==null?e===void 0?Ug:zg:ma&&ma in Object(e)?Bg(e):Gg(e)}ga.exports=Wg});var We=g((NC,ha)=>{function $g(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}ha.exports=$g});var Yn=g((LC,va)=>{var Yg=bt(),Kg=We(),Zg="[object AsyncFunction]",Xg="[object Function]",Qg="[object GeneratorFunction]",Jg="[object Proxy]";function eh(e){if(!Kg(e))return!1;var t=Yg(e);return t==Xg||t==Qg||t==Zg||t==Jg}va.exports=eh});var _a=g((jC,ya)=>{var th=Oe(),rh=th["__core-js_shared__"];ya.exports=rh});var xa=g((RC,wa)=>{var Kn=_a(),ba=function(){var e=/[^.]+$/.exec(Kn&&Kn.keys&&Kn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nh(e){return!!ba&&ba in e}wa.exports=nh});var Zn=g((HC,Sa)=>{var ih=Function.prototype,oh=ih.toString;function ah(e){if(e!=null){try{return oh.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Sa.exports=ah});var Ea=g((VC,Ca)=>{var sh=Yn(),lh=xa(),ch=We(),uh=Zn(),fh=/[\\^$.*+?()[\]{}|]/g,ph=/^\[object .+?Constructor\]$/,dh=Function.prototype,mh=Object.prototype,gh=dh.toString,hh=mh.hasOwnProperty,vh=RegExp("^"+gh.call(hh).replace(fh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yh(e){if(!ch(e)||lh(e))return!1;var t=sh(e)?vh:ph;return t.test(uh(e))}Ca.exports=yh});var Oa=g((BC,Pa)=>{function _h(e,t){return e==null?void 0:e[t]}Pa.exports=_h});var $e=g((GC,Ta)=>{var bh=Ea(),wh=Oa();function xh(e,t){var r=wh(e,t);return bh(r)?r:void 0}Ta.exports=xh});var Qt=g((zC,Aa)=>{var Sh=$e(),Ch=Sh(Object,"create");Aa.exports=Ch});var Fa=g((UC,qa)=>{var Ma=Qt();function Eh(){this.__data__=Ma?Ma(null):{},this.size=0}qa.exports=Eh});var Da=g((WC,ka)=>{function Ph(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}ka.exports=Ph});var Na=g(($C,Ia)=>{var Oh=Qt(),Th="__lodash_hash_undefined__",Ah=Object.prototype,Mh=Ah.hasOwnProperty;function qh(e){var t=this.__data__;if(Oh){var r=t[e];return r===Th?void 0:r}return Mh.call(t,e)?t[e]:void 0}Ia.exports=qh});var ja=g((YC,La)=>{var Fh=Qt(),kh=Object.prototype,Dh=kh.hasOwnProperty;function Ih(e){var t=this.__data__;return Fh?t[e]!==void 0:Dh.call(t,e)}La.exports=Ih});var Ha=g((KC,Ra)=>{var Nh=Qt(),Lh="__lodash_hash_undefined__";function jh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Nh&&t===void 0?Lh:t,this}Ra.exports=jh});var Ba=g((ZC,Va)=>{var Rh=Fa(),Hh=Da(),Vh=Na(),Bh=ja(),Gh=Ha();function wt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wt.prototype.clear=Rh;wt.prototype.delete=Hh;wt.prototype.get=Vh;wt.prototype.has=Bh;wt.prototype.set=Gh;Va.exports=wt});var za=g((XC,Ga)=>{function zh(){this.__data__=[],this.size=0}Ga.exports=zh});var Jt=g((QC,Ua)=>{function Uh(e,t){return e===t||e!==e&&t!==t}Ua.exports=Uh});var er=g((JC,Wa)=>{var Wh=Jt();function $h(e,t){for(var r=e.length;r--;)if(Wh(e[r][0],t))return r;return-1}Wa.exports=$h});var Ya=g((e3,$a)=>{var Yh=er(),Kh=Array.prototype,Zh=Kh.splice;function Xh(e){var t=this.__data__,r=Yh(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Zh.call(t,r,1),--this.size,!0}$a.exports=Xh});var Za=g((t3,Ka)=>{var Qh=er();function Jh(e){var t=this.__data__,r=Qh(t,e);return r<0?void 0:t[r][1]}Ka.exports=Jh});var Qa=g((r3,Xa)=>{var ev=er();function tv(e){return ev(this.__data__,e)>-1}Xa.exports=tv});var es=g((n3,Ja)=>{var rv=er();function nv(e,t){var r=this.__data__,n=rv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Ja.exports=nv});var tr=g((i3,ts)=>{var iv=za(),ov=Ya(),av=Za(),sv=Qa(),lv=es();function xt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xt.prototype.clear=iv;xt.prototype.delete=ov;xt.prototype.get=av;xt.prototype.has=sv;xt.prototype.set=lv;ts.exports=xt});var jr=g((o3,rs)=>{var cv=$e(),uv=Oe(),fv=cv(uv,"Map");rs.exports=fv});var os=g((a3,is)=>{var ns=Ba(),pv=tr(),dv=jr();function mv(){this.size=0,this.__data__={hash:new ns,map:new(dv||pv),string:new ns}}is.exports=mv});var ss=g((s3,as)=>{function gv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}as.exports=gv});var rr=g((l3,ls)=>{var hv=ss();function vv(e,t){var r=e.__data__;return hv(t)?r[typeof t=="string"?"string":"hash"]:r.map}ls.exports=vv});var us=g((c3,cs)=>{var yv=rr();function _v(e){var t=yv(this,e).delete(e);return this.size-=t?1:0,t}cs.exports=_v});var ps=g((u3,fs)=>{var bv=rr();function wv(e){return bv(this,e).get(e)}fs.exports=wv});var ms=g((f3,ds)=>{var xv=rr();function Sv(e){return xv(this,e).has(e)}ds.exports=Sv});var hs=g((p3,gs)=>{var Cv=rr();function Ev(e,t){var r=Cv(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}gs.exports=Ev});var Rr=g((d3,vs)=>{var Pv=os(),Ov=us(),Tv=ps(),Av=ms(),Mv=hs();function St(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}St.prototype.clear=Pv;St.prototype.delete=Ov;St.prototype.get=Tv;St.prototype.has=Av;St.prototype.set=Mv;vs.exports=St});var Qn=g((m3,_s)=>{var ys=Rr(),qv="Expected a function";function Xn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qv);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Xn.Cache||ys),r}Xn.Cache=ys;_s.exports=Xn});var Hr=g((g3,bs)=>{function Fv(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}bs.exports=Fv});var Ye=g((h3,ws)=>{function kv(e){return e!=null&&typeof e=="object"}ws.exports=kv});var Ss=g((v3,xs)=>{var Dv=bt(),Iv=Ye(),Nv="[object Arguments]";function Lv(e){return Iv(e)&&Dv(e)==Nv}xs.exports=Lv});var Vr=g((y3,Ps)=>{var Cs=Ss(),jv=Ye(),Es=Object.prototype,Rv=Es.hasOwnProperty,Hv=Es.propertyIsEnumerable,Vv=Cs(function(){return arguments}())?Cs:function(e){return jv(e)&&Rv.call(e,"callee")&&!Hv.call(e,"callee")};Ps.exports=Vv});var xe=g((_3,Os)=>{var Bv=Array.isArray;Os.exports=Bv});var qs=g((b3,Ms)=>{var Ts=it(),Gv=Vr(),zv=xe(),As=Ts?Ts.isConcatSpreadable:void 0;function Uv(e){return zv(e)||Gv(e)||!!(As&&e&&e[As])}Ms.exports=Uv});var Ds=g((w3,ks)=>{var Wv=Hr(),$v=qs();function Fs(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=$v),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?Fs(s,t-1,r,n,i):Wv(i,s):n||(i[i.length]=s)}return i}ks.exports=Fs});var Jn=g((x3,Is)=>{function Yv(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}Is.exports=Yv});var nr=g((S3,Ns)=>{var Kv=bt(),Zv=Ye(),Xv="[object Symbol]";function Qv(e){return typeof e=="symbol"||Zv(e)&&Kv(e)==Xv}Ns.exports=Qv});var Br=g((C3,Ls)=>{var Jv=xe(),ey=nr(),ty=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ry=/^\w*$/;function ny(e,t){if(Jv(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ey(e)?!0:ry.test(e)||!ty.test(e)||t!=null&&e in Object(t)}Ls.exports=ny});var Rs=g((E3,js)=>{var iy=Qn(),oy=500;function ay(e){var t=iy(e,function(n){return r.size===oy&&r.clear(),n}),r=t.cache;return t}js.exports=ay});var Vs=g((P3,Hs)=>{var sy=Rs(),ly=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cy=/\\(\\)?/g,uy=sy(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ly,function(r,n,i,o){t.push(i?o.replace(cy,"$1"):n||r)}),t});Hs.exports=uy});var $s=g((O3,Ws)=>{var Bs=it(),fy=Jn(),py=xe(),dy=nr(),my=1/0,Gs=Bs?Bs.prototype:void 0,zs=Gs?Gs.toString:void 0;function Us(e){if(typeof e=="string")return e;if(py(e))return fy(e,Us)+"";if(dy(e))return zs?zs.call(e):"";var t=e+"";return t=="0"&&1/e==-my?"-0":t}Ws.exports=Us});var Gr=g((T3,Ys)=>{var gy=$s();function hy(e){return e==null?"":gy(e)}Ys.exports=hy});var ei=g((A3,Ks)=>{var vy=xe(),yy=Br(),_y=Vs(),by=Gr();function wy(e,t){return vy(e)?e:yy(e,t)?[e]:_y(by(e))}Ks.exports=wy});var ir=g((M3,Zs)=>{var xy=nr(),Sy=1/0;function Cy(e){if(typeof e=="string"||xy(e))return e;var t=e+"";return t=="0"&&1/e==-Sy?"-0":t}Zs.exports=Cy});var zr=g((q3,Xs)=>{var Ey=ei(),Py=ir();function Oy(e,t){t=Ey(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Py(t[r++])];return r&&r==n?e:void 0}Xs.exports=Oy});var Js=g((F3,Qs)=>{var Ty=tr();function Ay(){this.__data__=new Ty,this.size=0}Qs.exports=Ay});var tl=g((k3,el)=>{function My(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}el.exports=My});var nl=g((D3,rl)=>{function qy(e){return this.__data__.get(e)}rl.exports=qy});var ol=g((I3,il)=>{function Fy(e){return this.__data__.has(e)}il.exports=Fy});var sl=g((N3,al)=>{var ky=tr(),Dy=jr(),Iy=Rr(),Ny=200;function Ly(e,t){var r=this.__data__;if(r instanceof ky){var n=r.__data__;if(!Dy||n.length<Ny-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Iy(n)}return r.set(e,t),this.size=r.size,this}al.exports=Ly});var Ur=g((L3,ll)=>{var jy=tr(),Ry=Js(),Hy=tl(),Vy=nl(),By=ol(),Gy=sl();function Ct(e){var t=this.__data__=new jy(e);this.size=t.size}Ct.prototype.clear=Ry;Ct.prototype.delete=Hy;Ct.prototype.get=Vy;Ct.prototype.has=By;Ct.prototype.set=Gy;ll.exports=Ct});var ul=g((j3,cl)=>{var zy="__lodash_hash_undefined__";function Uy(e){return this.__data__.set(e,zy),this}cl.exports=Uy});var pl=g((R3,fl)=>{function Wy(e){return this.__data__.has(e)}fl.exports=Wy});var ml=g((H3,dl)=>{var $y=Rr(),Yy=ul(),Ky=pl();function Wr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $y;++t<r;)this.add(e[t])}Wr.prototype.add=Wr.prototype.push=Yy;Wr.prototype.has=Ky;dl.exports=Wr});var hl=g((V3,gl)=>{function Zy(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}gl.exports=Zy});var yl=g((B3,vl)=>{function Xy(e,t){return e.has(t)}vl.exports=Xy});var ti=g((G3,_l)=>{var Qy=ml(),Jy=hl(),e_=yl(),t_=1,r_=2;function n_(e,t,r,n,i,o){var a=r&t_,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var p=-1,f=!0,d=r&r_?new Qy:void 0;for(o.set(e,t),o.set(t,e);++p<s;){var _=e[p],m=t[p];if(n)var h=a?n(m,_,p,t,e,o):n(_,m,p,e,t,o);if(h!==void 0){if(h)continue;f=!1;break}if(d){if(!Jy(t,function(v,y){if(!e_(d,y)&&(_===v||i(_,v,r,n,o)))return d.push(y)})){f=!1;break}}else if(!(_===m||i(_,m,r,n,o))){f=!1;break}}return o.delete(e),o.delete(t),f}_l.exports=n_});var ri=g((z3,bl)=>{var i_=Oe(),o_=i_.Uint8Array;bl.exports=o_});var xl=g((U3,wl)=>{function a_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}wl.exports=a_});var Cl=g((W3,Sl)=>{function s_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}Sl.exports=s_});var Al=g(($3,Tl)=>{var El=it(),Pl=ri(),l_=Jt(),c_=ti(),u_=xl(),f_=Cl(),p_=1,d_=2,m_="[object Boolean]",g_="[object Date]",h_="[object Error]",v_="[object Map]",y_="[object Number]",__="[object RegExp]",b_="[object Set]",w_="[object String]",x_="[object Symbol]",S_="[object ArrayBuffer]",C_="[object DataView]",Ol=El?El.prototype:void 0,ni=Ol?Ol.valueOf:void 0;function E_(e,t,r,n,i,o,a){switch(r){case C_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S_:return!(e.byteLength!=t.byteLength||!o(new Pl(e),new Pl(t)));case m_:case g_:case y_:return l_(+e,+t);case h_:return e.name==t.name&&e.message==t.message;case __:case w_:return e==t+"";case v_:var s=u_;case b_:var l=n&p_;if(s||(s=f_),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=d_,a.set(e,t);var u=c_(s(e),s(t),n,i,o,a);return a.delete(e),u;case x_:if(ni)return ni.call(e)==ni.call(t)}return!1}Tl.exports=E_});var ii=g((Y3,Ml)=>{var P_=Hr(),O_=xe();function T_(e,t,r){var n=t(e);return O_(e)?n:P_(n,r(e))}Ml.exports=T_});var Fl=g((K3,ql)=>{function A_(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}ql.exports=A_});var oi=g((Z3,kl)=>{function M_(){return[]}kl.exports=M_});var $r=g((X3,Il)=>{var q_=Fl(),F_=oi(),k_=Object.prototype,D_=k_.propertyIsEnumerable,Dl=Object.getOwnPropertySymbols,I_=Dl?function(e){return e==null?[]:(e=Object(e),q_(Dl(e),function(t){return D_.call(e,t)}))}:F_;Il.exports=I_});var Ll=g((Q3,Nl)=>{function N_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}Nl.exports=N_});var Rl=g((J3,jl)=>{function L_(){return!1}jl.exports=L_});var Yr=g((or,Et)=>{var j_=Oe(),R_=Rl(),Bl=typeof or=="object"&&or&&!or.nodeType&&or,Hl=Bl&&typeof Et=="object"&&Et&&!Et.nodeType&&Et,H_=Hl&&Hl.exports===Bl,Vl=H_?j_.Buffer:void 0,V_=Vl?Vl.isBuffer:void 0,B_=V_||R_;Et.exports=B_});var Kr=g((e8,Gl)=>{var G_=9007199254740991,z_=/^(?:0|[1-9]\d*)$/;function U_(e,t){var r=typeof e;return t=t==null?G_:t,!!t&&(r=="number"||r!="symbol"&&z_.test(e))&&e>-1&&e%1==0&&e<t}Gl.exports=U_});var Zr=g((t8,zl)=>{var W_=9007199254740991;function $_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=W_}zl.exports=$_});var Wl=g((r8,Ul)=>{var Y_=bt(),K_=Zr(),Z_=Ye(),X_="[object Arguments]",Q_="[object Array]",J_="[object Boolean]",eb="[object Date]",tb="[object Error]",rb="[object Function]",nb="[object Map]",ib="[object Number]",ob="[object Object]",ab="[object RegExp]",sb="[object Set]",lb="[object String]",cb="[object WeakMap]",ub="[object ArrayBuffer]",fb="[object DataView]",pb="[object Float32Array]",db="[object Float64Array]",mb="[object Int8Array]",gb="[object Int16Array]",hb="[object Int32Array]",vb="[object Uint8Array]",yb="[object Uint8ClampedArray]",_b="[object Uint16Array]",bb="[object Uint32Array]",Y={};Y[pb]=Y[db]=Y[mb]=Y[gb]=Y[hb]=Y[vb]=Y[yb]=Y[_b]=Y[bb]=!0;Y[X_]=Y[Q_]=Y[ub]=Y[J_]=Y[fb]=Y[eb]=Y[tb]=Y[rb]=Y[nb]=Y[ib]=Y[ob]=Y[ab]=Y[sb]=Y[lb]=Y[cb]=!1;function wb(e){return Z_(e)&&K_(e.length)&&!!Y[Y_(e)]}Ul.exports=wb});var ar=g((n8,$l)=>{function xb(e){return function(t){return e(t)}}$l.exports=xb});var Xr=g((sr,Pt)=>{var Sb=$n(),Yl=typeof sr=="object"&&sr&&!sr.nodeType&&sr,lr=Yl&&typeof Pt=="object"&&Pt&&!Pt.nodeType&&Pt,Cb=lr&&lr.exports===Yl,ai=Cb&&Sb.process,Eb=function(){try{var e=lr&&lr.require&&lr.require("util").types;return e||ai&&ai.binding&&ai.binding("util")}catch(t){}}();Pt.exports=Eb});var si=g((i8,Xl)=>{var Pb=Wl(),Ob=ar(),Kl=Xr(),Zl=Kl&&Kl.isTypedArray,Tb=Zl?Ob(Zl):Pb;Xl.exports=Tb});var li=g((o8,Ql)=>{var Ab=Ll(),Mb=Vr(),qb=xe(),Fb=Yr(),kb=Kr(),Db=si(),Ib=Object.prototype,Nb=Ib.hasOwnProperty;function Lb(e,t){var r=qb(e),n=!r&&Mb(e),i=!r&&!n&&Fb(e),o=!r&&!n&&!i&&Db(e),a=r||n||i||o,s=a?Ab(e.length,String):[],l=s.length;for(var c in e)(t||Nb.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kb(c,l)))&&s.push(c);return s}Ql.exports=Lb});var Qr=g((a8,Jl)=>{var jb=Object.prototype;function Rb(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jb;return e===r}Jl.exports=Rb});var ci=g((s8,ec)=>{function Hb(e,t){return function(r){return e(t(r))}}ec.exports=Hb});var rc=g((l8,tc)=>{var Vb=ci(),Bb=Vb(Object.keys,Object);tc.exports=Bb});var ic=g((c8,nc)=>{var Gb=Qr(),zb=rc(),Ub=Object.prototype,Wb=Ub.hasOwnProperty;function $b(e){if(!Gb(e))return zb(e);var t=[];for(var r in Object(e))Wb.call(e,r)&&r!="constructor"&&t.push(r);return t}nc.exports=$b});var Ot=g((u8,oc)=>{var Yb=Yn(),Kb=Zr();function Zb(e){return e!=null&&Kb(e.length)&&!Yb(e)}oc.exports=Zb});var Tt=g((f8,ac)=>{var Xb=li(),Qb=ic(),Jb=Ot();function e1(e){return Jb(e)?Xb(e):Qb(e)}ac.exports=e1});var ui=g((p8,sc)=>{var t1=ii(),r1=$r(),n1=Tt();function i1(e){return t1(e,n1,r1)}sc.exports=i1});var uc=g((d8,cc)=>{var lc=ui(),o1=1,a1=Object.prototype,s1=a1.hasOwnProperty;function l1(e,t,r,n,i,o){var a=r&o1,s=lc(e),l=s.length,c=lc(t),u=c.length;if(l!=u&&!a)return!1;for(var p=l;p--;){var f=s[p];if(!(a?f in t:s1.call(t,f)))return!1}var d=o.get(e),_=o.get(t);if(d&&_)return d==t&&_==e;var m=!0;o.set(e,t),o.set(t,e);for(var h=a;++p<l;){f=s[p];var v=e[f],y=t[f];if(n)var b=a?n(y,v,f,t,e,o):n(v,y,f,e,t,o);if(!(b===void 0?v===y||i(v,y,r,n,o):b)){m=!1;break}h||(h=f=="constructor")}if(m&&!h){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(m=!1)}return o.delete(e),o.delete(t),m}cc.exports=l1});var pc=g((m8,fc)=>{var c1=$e(),u1=Oe(),f1=c1(u1,"DataView");fc.exports=f1});var mc=g((g8,dc)=>{var p1=$e(),d1=Oe(),m1=p1(d1,"Promise");dc.exports=m1});var hc=g((h8,gc)=>{var g1=$e(),h1=Oe(),v1=g1(h1,"Set");gc.exports=v1});var yc=g((v8,vc)=>{var y1=$e(),_1=Oe(),b1=y1(_1,"WeakMap");vc.exports=b1});var cr=g((y8,Ec)=>{var fi=pc(),pi=jr(),di=mc(),mi=hc(),gi=yc(),Cc=bt(),At=Zn(),_c="[object Map]",w1="[object Object]",bc="[object Promise]",wc="[object Set]",xc="[object WeakMap]",Sc="[object DataView]",x1=At(fi),S1=At(pi),C1=At(di),E1=At(mi),P1=At(gi),ot=Cc;(fi&&ot(new fi(new ArrayBuffer(1)))!=Sc||pi&&ot(new pi)!=_c||di&&ot(di.resolve())!=bc||mi&&ot(new mi)!=wc||gi&&ot(new gi)!=xc)&&(ot=function(e){var t=Cc(e),r=t==w1?e.constructor:void 0,n=r?At(r):"";if(n)switch(n){case x1:return Sc;case S1:return _c;case C1:return bc;case E1:return wc;case P1:return xc}return t});Ec.exports=ot});var kc=g((_8,Fc)=>{var hi=Ur(),O1=ti(),T1=Al(),A1=uc(),Pc=cr(),Oc=xe(),Tc=Yr(),M1=si(),q1=1,Ac="[object Arguments]",Mc="[object Array]",Jr="[object Object]",F1=Object.prototype,qc=F1.hasOwnProperty;function k1(e,t,r,n,i,o){var a=Oc(e),s=Oc(t),l=a?Mc:Pc(e),c=s?Mc:Pc(t);l=l==Ac?Jr:l,c=c==Ac?Jr:c;var u=l==Jr,p=c==Jr,f=l==c;if(f&&Tc(e)){if(!Tc(t))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new hi),a||M1(e)?O1(e,t,r,n,i,o):T1(e,t,l,r,n,i,o);if(!(r&q1)){var d=u&&qc.call(e,"__wrapped__"),_=p&&qc.call(t,"__wrapped__");if(d||_){var m=d?e.value():e,h=_?t.value():t;return o||(o=new hi),i(m,h,r,n,o)}}return f?(o||(o=new hi),A1(e,t,r,n,i,o)):!1}Fc.exports=k1});var vi=g((b8,Nc)=>{var D1=kc(),Dc=Ye();function Ic(e,t,r,n,i){return e===t?!0:e==null||t==null||!Dc(e)&&!Dc(t)?e!==e&&t!==t:D1(e,t,r,n,Ic,i)}Nc.exports=Ic});var jc=g((w8,Lc)=>{var I1=Ur(),N1=vi(),L1=1,j1=2;function R1(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var p=new I1;if(n)var f=n(c,u,l,e,t,p);if(!(f===void 0?N1(u,c,L1|j1,n,p):f))return!1}}return!0}Lc.exports=R1});var yi=g((x8,Rc)=>{var H1=We();function V1(e){return e===e&&!H1(e)}Rc.exports=V1});var Vc=g((S8,Hc)=>{var B1=yi(),G1=Tt();function z1(e){for(var t=G1(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,B1(i)]}return t}Hc.exports=z1});var _i=g((C8,Bc)=>{function U1(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}Bc.exports=U1});var zc=g((E8,Gc)=>{var W1=jc(),$1=Vc(),Y1=_i();function K1(e){var t=$1(e);return t.length==1&&t[0][2]?Y1(t[0][0],t[0][1]):function(r){return r===e||W1(r,e,t)}}Gc.exports=K1});var Wc=g((P8,Uc)=>{var Z1=zr();function X1(e,t,r){var n=e==null?void 0:Z1(e,t);return n===void 0?r:n}Uc.exports=X1});var Yc=g((O8,$c)=>{function Q1(e,t){return e!=null&&t in Object(e)}$c.exports=Q1});var Zc=g((T8,Kc)=>{var J1=ei(),e0=Vr(),t0=xe(),r0=Kr(),n0=Zr(),i0=ir();function o0(e,t,r){t=J1(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=i0(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&n0(i)&&r0(a,i)&&(t0(e)||e0(e)))}Kc.exports=o0});var Qc=g((A8,Xc)=>{var a0=Yc(),s0=Zc();function l0(e,t){return e!=null&&s0(e,t,a0)}Xc.exports=l0});var eu=g((M8,Jc)=>{var c0=vi(),u0=Wc(),f0=Qc(),p0=Br(),d0=yi(),m0=_i(),g0=ir(),h0=1,v0=2;function y0(e,t){return p0(e)&&d0(t)?m0(g0(e),t):function(r){var n=u0(r,e);return n===void 0&&n===t?f0(r,e):c0(t,n,h0|v0)}}Jc.exports=y0});var ur=g((q8,tu)=>{function _0(e){return e}tu.exports=_0});var nu=g((F8,ru)=>{function b0(e){return function(t){return t==null?void 0:t[e]}}ru.exports=b0});var ou=g((k8,iu)=>{var w0=zr();function x0(e){return function(t){return w0(t,e)}}iu.exports=x0});var su=g((D8,au)=>{var S0=nu(),C0=ou(),E0=Br(),P0=ir();function O0(e){return E0(e)?S0(P0(e)):C0(e)}au.exports=O0});var cu=g((I8,lu)=>{var T0=zc(),A0=eu(),M0=ur(),q0=xe(),F0=su();function k0(e){return typeof e=="function"?e:e==null?M0:typeof e=="object"?q0(e)?A0(e[0],e[1]):T0(e):F0(e)}lu.exports=k0});var fu=g((N8,uu)=>{function D0(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(r(o[l],l,o)===!1)break}return t}}uu.exports=D0});var du=g((L8,pu)=>{var I0=fu(),N0=I0();pu.exports=N0});var gu=g((j8,mu)=>{var L0=du(),j0=Tt();function R0(e,t){return e&&L0(e,t,j0)}mu.exports=R0});var vu=g((R8,hu)=>{var H0=Ot();function V0(e,t){return function(r,n){if(r==null)return r;if(!H0(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}hu.exports=V0});var _u=g((H8,yu)=>{var B0=gu(),G0=vu(),z0=G0(B0);yu.exports=z0});var wu=g((V8,bu)=>{var U0=_u(),W0=Ot();function $0(e,t){var r=-1,n=W0(e)?Array(e.length):[];return U0(e,function(i,o,a){n[++r]=t(i,o,a)}),n}bu.exports=$0});var Su=g((B8,xu)=>{function Y0(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}xu.exports=Y0});var Pu=g((G8,Eu)=>{var Cu=nr();function K0(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=Cu(e),a=t!==void 0,s=t===null,l=t===t,c=Cu(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&e<t||c&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}Eu.exports=K0});var Tu=g((z8,Ou)=>{var Z0=Pu();function X0(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var l=Z0(i[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}Ou.exports=X0});var Mu=g((U8,Au)=>{var bi=Jn(),Q0=zr(),J0=cu(),ew=wu(),tw=Su(),rw=ar(),nw=Tu(),iw=ur(),ow=xe();function aw(e,t,r){t.length?t=bi(t,function(o){return ow(o)?function(a){return Q0(a,o.length===1?o[0]:o)}:o}):t=[iw];var n=-1;t=bi(t,rw(J0));var i=ew(e,function(o,a,s){var l=bi(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return tw(i,function(o,a){return nw(o,a,r)})}Au.exports=aw});var Fu=g((W8,qu)=>{function sw(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}qu.exports=sw});var Iu=g(($8,Du)=>{var lw=Fu(),ku=Math.max;function cw(e,t,r){return t=ku(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=ku(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),lw(e,this,s)}}Du.exports=cw});var Lu=g((Y8,Nu)=>{function uw(e){return function(){return e}}Nu.exports=uw});var wi=g((K8,ju)=>{var fw=$e(),pw=function(){try{var e=fw(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();ju.exports=pw});var Vu=g((Z8,Hu)=>{var dw=Lu(),Ru=wi(),mw=ur(),gw=Ru?function(e,t){return Ru(e,"toString",{configurable:!0,enumerable:!1,value:dw(t),writable:!0})}:mw;Hu.exports=gw});var Gu=g((X8,Bu)=>{var hw=800,vw=16,yw=Date.now;function _w(e){var t=0,r=0;return function(){var n=yw(),i=vw-(n-r);if(r=n,i>0){if(++t>=hw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Bu.exports=_w});var Uu=g((Q8,zu)=>{var bw=Vu(),ww=Gu(),xw=ww(bw);zu.exports=xw});var $u=g((J8,Wu)=>{var Sw=ur(),Cw=Iu(),Ew=Uu();function Pw(e,t){return Ew(Cw(e,t,Sw),e+"")}Wu.exports=Pw});var Ku=g((e5,Yu)=>{var Ow=Jt(),Tw=Ot(),Aw=Kr(),Mw=We();function qw(e,t,r){if(!Mw(r))return!1;var n=typeof t;return(n=="number"?Tw(r)&&Aw(t,r.length):n=="string"&&t in r)?Ow(r[t],e):!1}Yu.exports=qw});var Qu=g((t5,Xu)=>{var Fw=Ds(),kw=Mu(),Dw=$u(),Zu=Ku(),Iw=Dw(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Zu(e,t[0],t[1])?t=[]:r>2&&Zu(t[0],t[1],t[2])&&(t=[t[0]]),kw(e,Fw(t,1),[])});Xu.exports=Iw});var vf=g((W5,hf)=>{function s2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}hf.exports=s2});var qi=g(($5,_f)=>{var yf=wi();function l2(e,t,r){t=="__proto__"&&yf?yf(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}_f.exports=l2});var Fi=g((Y5,bf)=>{var c2=qi(),u2=Jt(),f2=Object.prototype,p2=f2.hasOwnProperty;function d2(e,t,r){var n=e[t];(!(p2.call(e,t)&&u2(n,r))||r===void 0&&!(t in e))&&c2(e,t,r)}bf.exports=d2});var mr=g((K5,wf)=>{var m2=Fi(),g2=qi();function h2(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?g2(r,s,l):m2(r,s,l)}return r}wf.exports=h2});var Sf=g((Z5,xf)=>{var v2=mr(),y2=Tt();function _2(e,t){return e&&v2(t,y2(t),e)}xf.exports=_2});var Ef=g((X5,Cf)=>{function b2(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}Cf.exports=b2});var Of=g((Q5,Pf)=>{var w2=We(),x2=Qr(),S2=Ef(),C2=Object.prototype,E2=C2.hasOwnProperty;function P2(e){if(!w2(e))return S2(e);var t=x2(e),r=[];for(var n in e)n=="constructor"&&(t||!E2.call(e,n))||r.push(n);return r}Pf.exports=P2});var an=g((J5,Tf)=>{var O2=li(),T2=Of(),A2=Ot();function M2(e){return A2(e)?O2(e,!0):T2(e)}Tf.exports=M2});var Mf=g((e9,Af)=>{var q2=mr(),F2=an();function k2(e,t){return e&&q2(t,F2(t),e)}Af.exports=k2});var If=g((gr,qt)=>{var D2=Oe(),Df=typeof gr=="object"&&gr&&!gr.nodeType&&gr,qf=Df&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,I2=qf&&qf.exports===Df,Ff=I2?D2.Buffer:void 0,kf=Ff?Ff.allocUnsafe:void 0;function N2(e,t){if(t)return e.slice();var r=e.length,n=kf?kf(r):new e.constructor(r);return e.copy(n),n}qt.exports=N2});var Lf=g((t9,Nf)=>{function L2(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}Nf.exports=L2});var Rf=g((r9,jf)=>{var j2=mr(),R2=$r();function H2(e,t){return j2(e,R2(e),t)}jf.exports=H2});var ki=g((n9,Hf)=>{var V2=ci(),B2=V2(Object.getPrototypeOf,Object);Hf.exports=B2});var Di=g((i9,Vf)=>{var G2=Hr(),z2=ki(),U2=$r(),W2=oi(),$2=Object.getOwnPropertySymbols,Y2=$2?function(e){for(var t=[];e;)G2(t,U2(e)),e=z2(e);return t}:W2;Vf.exports=Y2});var Gf=g((o9,Bf)=>{var K2=mr(),Z2=Di();function X2(e,t){return K2(e,Z2(e),t)}Bf.exports=X2});var Uf=g((a9,zf)=>{var Q2=ii(),J2=Di(),e4=an();function t4(e){return Q2(e,e4,J2)}zf.exports=t4});var $f=g((s9,Wf)=>{var r4=Object.prototype,n4=r4.hasOwnProperty;function i4(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&n4.call(e,"index")&&(r.index=e.index,r.input=e.input),r}Wf.exports=i4});var sn=g((l9,Kf)=>{var Yf=ri();function o4(e){var t=new e.constructor(e.byteLength);return new Yf(t).set(new Yf(e)),t}Kf.exports=o4});var Xf=g((c9,Zf)=>{var a4=sn();function s4(e,t){var r=t?a4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}Zf.exports=s4});var Jf=g((u9,Qf)=>{var l4=/\w*$/;function c4(e){var t=new e.constructor(e.source,l4.exec(e));return t.lastIndex=e.lastIndex,t}Qf.exports=c4});var ip=g((f9,np)=>{var ep=it(),tp=ep?ep.prototype:void 0,rp=tp?tp.valueOf:void 0;function u4(e){return rp?Object(rp.call(e)):{}}np.exports=u4});var ap=g((p9,op)=>{var f4=sn();function p4(e,t){var r=t?f4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}op.exports=p4});var lp=g((d9,sp)=>{var d4=sn(),m4=Xf(),g4=Jf(),h4=ip(),v4=ap(),y4="[object Boolean]",_4="[object Date]",b4="[object Map]",w4="[object Number]",x4="[object RegExp]",S4="[object Set]",C4="[object String]",E4="[object Symbol]",P4="[object ArrayBuffer]",O4="[object DataView]",T4="[object Float32Array]",A4="[object Float64Array]",M4="[object Int8Array]",q4="[object Int16Array]",F4="[object Int32Array]",k4="[object Uint8Array]",D4="[object Uint8ClampedArray]",I4="[object Uint16Array]",N4="[object Uint32Array]";function L4(e,t,r){var n=e.constructor;switch(t){case P4:return d4(e);case y4:case _4:return new n(+e);case O4:return m4(e,r);case T4:case A4:case M4:case q4:case F4:case k4:case D4:case I4:case N4:return v4(e,r);case b4:return new n;case w4:case C4:return new n(e);case x4:return g4(e);case S4:return new n;case E4:return h4(e)}}sp.exports=L4});var fp=g((m9,up)=>{var j4=We(),cp=Object.create,R4=function(){function e(){}return function(t){if(!j4(t))return{};if(cp)return cp(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();up.exports=R4});var dp=g((g9,pp)=>{var H4=fp(),V4=ki(),B4=Qr();function G4(e){return typeof e.constructor=="function"&&!B4(e)?H4(V4(e)):{}}pp.exports=G4});var gp=g((h9,mp)=>{var z4=cr(),U4=Ye(),W4="[object Map]";function $4(e){return U4(e)&&z4(e)==W4}mp.exports=$4});var _p=g((v9,yp)=>{var Y4=gp(),K4=ar(),hp=Xr(),vp=hp&&hp.isMap,Z4=vp?K4(vp):Y4;yp.exports=Z4});var wp=g((y9,bp)=>{var X4=cr(),Q4=Ye(),J4="[object Set]";function e6(e){return Q4(e)&&X4(e)==J4}bp.exports=e6});var Ep=g((_9,Cp)=>{var t6=wp(),r6=ar(),xp=Xr(),Sp=xp&&xp.isSet,n6=Sp?r6(Sp):t6;Cp.exports=n6});var Mp=g((b9,Ap)=>{var i6=Ur(),o6=vf(),a6=Fi(),s6=Sf(),l6=Mf(),c6=If(),u6=Lf(),f6=Rf(),p6=Gf(),d6=ui(),m6=Uf(),g6=cr(),h6=$f(),v6=lp(),y6=dp(),_6=xe(),b6=Yr(),w6=_p(),x6=We(),S6=Ep(),C6=Tt(),E6=an(),P6=1,O6=2,T6=4,Pp="[object Arguments]",A6="[object Array]",M6="[object Boolean]",q6="[object Date]",F6="[object Error]",Op="[object Function]",k6="[object GeneratorFunction]",D6="[object Map]",I6="[object Number]",Tp="[object Object]",N6="[object RegExp]",L6="[object Set]",j6="[object String]",R6="[object Symbol]",H6="[object WeakMap]",V6="[object ArrayBuffer]",B6="[object DataView]",G6="[object Float32Array]",z6="[object Float64Array]",U6="[object Int8Array]",W6="[object Int16Array]",$6="[object Int32Array]",Y6="[object Uint8Array]",K6="[object Uint8ClampedArray]",Z6="[object Uint16Array]",X6="[object Uint32Array]",W={};W[Pp]=W[A6]=W[V6]=W[B6]=W[M6]=W[q6]=W[G6]=W[z6]=W[U6]=W[W6]=W[$6]=W[D6]=W[I6]=W[Tp]=W[N6]=W[L6]=W[j6]=W[R6]=W[Y6]=W[K6]=W[Z6]=W[X6]=!0;W[F6]=W[Op]=W[H6]=!1;function ln(e,t,r,n,i,o){var a,s=t&P6,l=t&O6,c=t&T6;if(r&&(a=i?r(e,n,i,o):r(e)),a!==void 0)return a;if(!x6(e))return e;var u=_6(e);if(u){if(a=h6(e),!s)return u6(e,a)}else{var p=g6(e),f=p==Op||p==k6;if(b6(e))return c6(e,s);if(p==Tp||p==Pp||f&&!i){if(a=l||f?{}:y6(e),!s)return l?p6(e,l6(a,e)):f6(e,s6(a,e))}else{if(!W[p])return i?e:{};a=v6(e,p,s)}}o||(o=new i6);var d=o.get(e);if(d)return d;o.set(e,a),S6(e)?e.forEach(function(h){a.add(ln(h,t,r,h,e,o))}):w6(e)&&e.forEach(function(h,v){a.set(v,ln(h,t,r,v,e,o))});var _=c?l?m6:d6:l?E6:C6,m=u?void 0:_(e);return o6(m||e,function(h,v){m&&(v=h,h=e[v]),a6(a,v,ln(h,t,r,v,e,o))}),a}Ap.exports=ln});var Fp=g((w9,qp)=>{var Q6=Mp(),J6=1,ex=4;function tx(e){return Q6(e,J6|ex)}qp.exports=tx});var Bp=g((k9,Vp)=>{function sx(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}Vp.exports=sx});var zp=g((D9,Gp)=>{var lx=Bp();function cx(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:lx(e,t,r)}Gp.exports=cx});var Li=g((I9,Up)=>{var ux="\\ud800-\\udfff",fx="\\u0300-\\u036f",px="\\ufe20-\\ufe2f",dx="\\u20d0-\\u20ff",mx=fx+px+dx,gx="\\ufe0e\\ufe0f",hx="\\u200d",vx=RegExp("["+hx+ux+mx+gx+"]");function yx(e){return vx.test(e)}Up.exports=yx});var $p=g((N9,Wp)=>{function _x(e){return e.split("")}Wp.exports=_x});var td=g((L9,ed)=>{var Yp="\\ud800-\\udfff",bx="\\u0300-\\u036f",wx="\\ufe20-\\ufe2f",xx="\\u20d0-\\u20ff",Sx=bx+wx+xx,Cx="\\ufe0e\\ufe0f",Ex="["+Yp+"]",ji="["+Sx+"]",Ri="\\ud83c[\\udffb-\\udfff]",Px="(?:"+ji+"|"+Ri+")",Kp="[^"+Yp+"]",Zp="(?:\\ud83c[\\udde6-\\uddff]){2}",Xp="[\\ud800-\\udbff][\\udc00-\\udfff]",Ox="\\u200d",Qp=Px+"?",Jp="["+Cx+"]?",Tx="(?:"+Ox+"(?:"+[Kp,Zp,Xp].join("|")+")"+Jp+Qp+")*",Ax=Jp+Qp+Tx,Mx="(?:"+[Kp+ji+"?",ji,Zp,Xp,Ex].join("|")+")",qx=RegExp(Ri+"(?="+Ri+")|"+Mx+Ax,"g");function Fx(e){return e.match(qx)||[]}ed.exports=Fx});var nd=g((j9,rd)=>{var kx=$p(),Dx=Li(),Ix=td();function Nx(e){return Dx(e)?Ix(e):kx(e)}rd.exports=Nx});var od=g((R9,id)=>{var Lx=zp(),jx=Li(),Rx=nd(),Hx=Gr();function Vx(e){return function(t){t=Hx(t);var r=jx(t)?Rx(t):void 0,n=r?r[0]:t.charAt(0),i=r?Lx(r,1).join(""):t.slice(1);return n[e]()+i}}id.exports=Vx});var sd=g((H9,ad)=>{var Bx=od(),Gx=Bx("toUpperCase");ad.exports=Gx});var fn=g((V9,ld)=>{var zx=Gr(),Ux=sd();function Wx(e){return Ux(zx(e).toLowerCase())}ld.exports=Wx});var Bm=g((zA,kn)=>{var xm,Sm,Cm,Em,Pm,Om,Tm,Am,Mm,qn,_o,qm,Fm,km,Rt,Dm,Im,Nm,Lm,jm,Rm,Hm,Vm,Fn;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof kn=="object"&&typeof kn.exports=="object"?e(r(t,r(kn.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};xm=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Sm=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Cm=function(n,i){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)i.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o},Em=function(n,i,o,a){var s=arguments.length,l=s<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,i,o,a);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(l=(s<3?c(l):s>3?c(i,o,l):c(i,o))||l);return s>3&&l&&Object.defineProperty(i,o,l),l},Pm=function(n,i){return function(o,a){i(o,a,n)}},Om=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Tm=function(n,i,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(d){try{f(a.next(d))}catch(_){c(_)}}function p(d){try{f(a.throw(d))}catch(_){c(_)}}function f(d){d.done?l(d.value):s(d.value).then(u,p)}f((a=a.apply(n,i||[])).next())})},Am=function(n,i){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return p([f,d])}}function p(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=i.call(n,o)}catch(d){f=[6,d],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Mm=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Fn(i,n,o)},Fn=Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]},qn=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},_o=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,l=[],c;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},qm=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(_o(arguments[i]));return n},Fm=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var a=Array(n),s=0,i=0;i<o;i++)for(var l=arguments[i],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},km=function(n,i,o){if(o||arguments.length===2)for(var a=0,s=i.length,l;a<s;a++)(l||!(a in i))&&(l||(l=Array.prototype.slice.call(i,0,a)),l[a]=i[a]);return n.concat(l||Array.prototype.slice.call(i))},Rt=function(n){return this instanceof Rt?(this.v=n,this):new Rt(n)},Dm=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,i||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(m){a[m]&&(s[m]=function(h){return new Promise(function(v,y){l.push([m,h,v,y])>1||u(m,h)})})}function u(m,h){try{p(a[m](h))}catch(v){_(l[0][3],v)}}function p(m){m.value instanceof Rt?Promise.resolve(m.value.v).then(f,d):_(l[0][2],m)}function f(m){u("next",m)}function d(m){u("throw",m)}function _(m,h){m(h),l.shift(),l.length&&u(l[0][0],l[0][1])}},Im=function(n){var i,o;return i={},a("next"),a("throw",function(s){throw s}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(s,l){i[s]=n[s]?function(c){return(o=!o)?{value:Rt(n[s](c)),done:s==="return"}:l?l(c):c}:l}},Nm=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof qn=="function"?qn(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=n[l]&&function(c){return new Promise(function(u,p){c=n[l](c),s(u,p,c.done,c.value)})}}function s(l,c,u,p){Promise.resolve(p).then(function(f){l({value:f,done:u})},c)}},Lm=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};jm=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Fn(i,n,o);return r(i,n),i},Rm=function(n){return n&&n.__esModule?n:{default:n}},Hm=function(n,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(n):a?a.value:i.get(n)},Vm=function(n,i,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(n,o):s?s.value=o:i.set(n,o),o},e("__extends",xm),e("__assign",Sm),e("__rest",Cm),e("__decorate",Em),e("__param",Pm),e("__metadata",Om),e("__awaiter",Tm),e("__generator",Am),e("__exportStar",Mm),e("__createBinding",Fn),e("__values",qn),e("__read",_o),e("__spread",qm),e("__spreadArrays",Fm),e("__spreadArray",km),e("__await",Rt),e("__asyncGenerator",Dm),e("__asyncDelegator",Im),e("__asyncValues",Nm),e("__makeTemplateObject",Lm),e("__importStar",jm),e("__importDefault",Rm),e("__classPrivateFieldGet",Hm),e("__classPrivateFieldSet",Vm)})});var xC={};mg(xC,{default:()=>Dn});module.exports=gg(xC);var Je=require("obsidian");function q(){}var Nr=e=>e;function Lo(e,t){for(let r in t)e[r]=t[r];return e}function Bn(e){return e()}function Io(){return Object.create(null)}function X(e){e.forEach(Bn)}function Pe(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function jo(e){return Object.keys(e).length===0}function fe(e,...t){if(e==null)return q;let r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function qe(e){let t;return fe(e,r=>t=r)(),t}function Fe(e,t,r){e.$$.on_destroy.push(fe(t,r))}function Ro(e,t,r,n){if(e){let i=Ho(e,t,r,n);return e[0](i)}}function Ho(e,t,r,n){return e[1]&&n?Lo(r.ctx.slice(),e[1](n(t))):r.ctx}function Vo(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let o=[],a=Math.max(t.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|i[s];return o}return t.dirty|i}return t.dirty}function Bo(e,t,r,n,i,o){if(i){let a=Ho(t,r,n,o);e.p(a,i)}}function Go(e){if(e.ctx.length>32){let t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function Kt(e,t,r){return e.set(r),t}var zo=typeof window!="undefined",Uo=zo?()=>window.performance.now():()=>Date.now(),Gn=zo?e=>requestAnimationFrame(e):q;var vt=new Set;function Wo(e){vt.forEach(t=>{t.c(e)||(vt.delete(t),t.f())}),vt.size!==0&&Gn(Wo)}function $o(e){let t;return vt.size===0&&Gn(Wo),{promise:new Promise(r=>{vt.add(t={c:e,f:r})}),abort(){vt.delete(t)}}}var Yo=!1;function hg(){Yo=!0}function vg(){Yo=!1}function x(e,t){e.appendChild(t)}function U(e,t,r){let n=zn(e);if(!n.getElementById(t)){let i=C("style");i.id=t,i.textContent=r,Ko(n,i)}}function zn(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function yg(e){let t=C("style");return Ko(zn(e),t),t.sheet}function Ko(e,t){x(e.head||e,t)}function T(e,t,r){e.insertBefore(t,r||null)}function O(e){e.parentNode.removeChild(e)}function ke(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function C(e){return document.createElement(e)}function Un(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e){return document.createTextNode(e)}function k(){return D(" ")}function Le(){return D("")}function L(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function Lr(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function S(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function _g(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function je(e,t){e.value=t==null?"":t}function Zo(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function H(e,t,r){e.classList[r?"add":"remove"](t)}function bg(e,t,r=!1){let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}var kr=new Map,Dr=0;function wg(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function xg(e,t){let r={stylesheet:yg(t),rules:{}};return kr.set(e,r),r}function Xo(e,t,r,n,i,o,a,s=0){let l=16.666/n,c=`{
`;for(let h=0;h<=1;h+=l){let v=t+(r-t)*o(h);c+=h*100+`%{${a(v,1-v)}}
`}let u=c+`100% {${a(r,1-r)}}
}`,p=`__svelte_${wg(u)}_${s}`,f=zn(e),{stylesheet:d,rules:_}=kr.get(f)||xg(f,e);_[p]||(_[p]=!0,d.insertRule(`@keyframes ${p} ${u}`,d.cssRules.length));let m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${p} ${n}ms linear ${i}ms 1 both`,Dr+=1,p}function Hn(e,t){let r=(e.style.animation||"").split(", "),n=r.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=r.length-n.length;i&&(e.style.animation=n.join(", "),Dr-=i,Dr||Sg())}function Sg(){Gn(()=>{Dr||(kr.forEach(e=>{let{stylesheet:t}=e,r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),kr.clear())})}var Yt;function $t(e){Yt=e}function Qo(){if(!Yt)throw new Error("Function called outside component initialization");return Yt}function le(e){Qo().$$.on_mount.push(e)}function Wn(e){Qo().$$.on_destroy.push(e)}function Jo(e,t){let r=e.$$.callbacks[t.type];r&&r.slice().forEach(n=>n.call(this,t))}var Wt=[];var se=[],qr=[],No=[],Cg=Promise.resolve(),Vn=!1;function Eg(){Vn||(Vn=!0,Cg.then(ea))}function be(e){qr.push(e)}var Rn=new Set,Mr=0;function ea(){let e=Yt;do{for(;Mr<Wt.length;){let t=Wt[Mr];Mr++,$t(t),Pg(t.$$)}for($t(null),Wt.length=0,Mr=0;se.length;)se.pop()();for(let t=0;t<qr.length;t+=1){let r=qr[t];Rn.has(r)||(Rn.add(r),r())}qr.length=0}while(Wt.length);for(;No.length;)No.pop()();Vn=!1,Rn.clear(),$t(e)}function Pg(e){if(e.fragment!==null){e.update(),X(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(be)}}var Ut;function ta(){return Ut||(Ut=Promise.resolve(),Ut.then(()=>{Ut=null})),Ut}function Ir(e,t,r){e.dispatchEvent(bg(`${t?"intro":"outro"}${r}`))}var Fr=new Set,ze;function re(){ze={r:0,c:[],p:ze}}function ne(){ze.r||X(ze.c),ze=ze.p}function A(e,t){e&&e.i&&(Fr.delete(e),e.i(t))}function F(e,t,r,n){if(e&&e.o){if(Fr.has(e))return;Fr.add(e),ze.c.push(()=>{Fr.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}var ra={duration:0};function yt(e,t,r){let n=t(e,r),i=!1,o,a,s=0;function l(){o&&Hn(e,o)}function c(){let{delay:p=0,duration:f=300,easing:d=Nr,tick:_=q,css:m}=n||ra;m&&(o=Xo(e,0,1,f,p,d,m,s++)),_(0,1);let h=Uo()+p,v=h+f;a&&a.abort(),i=!0,be(()=>Ir(e,!0,"start")),a=$o(y=>{if(i){if(y>=v)return _(1,0),Ir(e,!0,"end"),l(),i=!1;if(y>=h){let b=d((y-h)/f);_(b,1-b)}}return i})}let u=!1;return{start(){u||(u=!0,Hn(e),Pe(n)?(n=n(),ta().then(c)):c())},invalidate(){u=!1},end(){i&&(l(),i=!1)}}}function Ue(e,t,r){let n=t(e,r),i=!0,o,a=ze;a.r+=1;function s(){let{delay:l=0,duration:c=300,easing:u=Nr,tick:p=q,css:f}=n||ra;f&&(o=Xo(e,1,0,c,l,u,f));let d=Uo()+l,_=d+c;be(()=>Ir(e,!1,"start")),$o(m=>{if(i){if(m>=_)return p(0,1),Ir(e,!1,"end"),--a.r||X(a.c),!1;if(m>=d){let h=u((m-d)/c);p(1-h,h)}}return i})}return Pe(n)?ta().then(()=>{n=n(),s()}):s(),{end(l){l&&n.tick&&n.tick(1,0),i&&(o&&Hn(e,o),i=!1)}}}var CC=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function z(e){e&&e.c()}function B(e,t,r,n){let{fragment:i,on_mount:o,on_destroy:a,after_update:s}=e.$$;i&&i.m(t,r),n||be(()=>{let l=o.map(Bn).filter(Pe);a?a.push(...l):X(l),e.$$.on_mount=[]}),s.forEach(be)}function V(e,t){let r=e.$$;r.fragment!==null&&(X(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Og(e,t){e.$$.dirty[0]===-1&&(Wt.push(e),Eg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(e,t,r,n,i,o,a,s=[-1]){let l=Yt;$t(e);let c=e.$$={fragment:null,ctx:null,props:o,update:q,not_equal:i,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Io(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=r?r(e,t.props||{},(p,f,...d)=>{let _=d.length?d[0]:f;return c.ctx&&i(c.ctx[p],c.ctx[p]=_)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](_),u&&Og(e,p)),f}):[],c.update(),u=!0,X(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){hg();let p=_g(t.target);c.fragment&&c.fragment.l(p),p.forEach(O)}else c.fragment&&c.fragment.c();t.intro&&A(e.$$.fragment),B(e,t.target,t.anchor,t.customElement),vg(),ea()}$t(l)}var Tg;typeof HTMLElement=="function"&&(Tg=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Bn).filter(Pe);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){X(this.$$.on_disconnect)}$destroy(){V(this,1),this.$destroy=q}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!jo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var N=class{$destroy(){V(this,1),this.$destroy=q}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!jo(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var _t=[];function Ag(e,t){return{subscribe:Zt(e,t).subscribe}}function Zt(e,t=q){let r,n=new Set;function i(s){if(I(e,s)&&(e=s,r)){let l=!_t.length;for(let c of n)c[1](),_t.push(c,e);if(l){for(let c=0;c<_t.length;c+=2)_t[c][0](_t[c+1]);_t.length=0}}}function o(s){i(s(e))}function a(s,l=q){let c=[s,l];return n.add(c),n.size===1&&(r=t(i)||q),s(e),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:i,update:o,subscribe:a}}function na(e,t,r){let n=!Array.isArray(e),i=n?[e]:e,o=t.length<2;return Ag(r,a=>{let s=!1,l=[],c=0,u=q,p=()=>{if(c)return;u();let d=t(n?l[0]:l,a);o?a(d):u=Pe(d)?d:q},f=i.map((d,_)=>fe(d,m=>{l[_]=m,c&=~(1<<_),s&&p()},()=>{c|=1<<_}));return s=!0,p(),function(){X(f),u()}})}var dm=nt(Qn()),mm=nt(Qu()),Ne=require("obsidian");var Nw="YYYY-MM-DD",Lw="gggg-[W]ww",jw="YYYY-MM",Rw="YYYY-[Q]Q",Hw="YYYY",we=Object.freeze({day:Nw,week:Lw,month:jw,quarter:Rw,year:Hw}),Ju=Object.freeze({month:"MMMM YYYY",quarter:"YYYY Q[Q]",year:"YYYY"});var Vw=/(\d{4})[-.]?(0[1-9]|1[0-2])[-.]?(0[1-9]|[12][0-9]|3[01])/,Bw=/(\d{4})[-.]?(0[1-9]|1[0-2])/,Gw=/(\d{4})/;function ef(e){let t=Vw.exec(e);if(t)return{date:window.moment({day:Number(t[3]),month:Number(t[2])-1,year:Number(t[1])}),granularity:"day"};let r=Bw.exec(e);if(r)return{date:window.moment({day:1,month:Number(r[2])-1,year:Number(r[1])}),granularity:"month"};let n=Gw.exec(e);return n?{date:window.moment({day:1,month:0,year:Number(n[1])}),granularity:"year"}:null}var tf=require("obsidian");function en(e){return e.replace(/\[[^\]]*\]/g,"").replace(/\\./g,"")}function zw(e){let t=e.extension.length+1;return e.path.slice(0,-t)}function Uw(e){var r;return e.indexOf("/")!==-1?(r=e.split("/").pop())!=null?r:"":e}function Ww(e){let t=/[?<>\\:*|"]/g,r=/[\x00-\x1f\x80-\x9f]/g,n=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i;return!t.test(e)&&!r.test(e)&&!n.test(e)&&!i.test(e)}function xi(e,t){if(!e)return"";if(!Ww(e))return"Format contains illegal characters";if(t==="day"){let r=window.moment().format(e);if(!window.moment(r,e,!0).isValid())return"Failed to parse format"}return""}function tn(e,t){let r=window.moment().format(e);return window.moment(r,e,!0).isValid()?en(e).includes("/")&&t==="day"&&!["m","d","y"].every(o=>Uw(e).replace(/\[[^\]]*\]/g,"").toLowerCase().indexOf(o)!==-1)?"fragile-basename":"valid":"loose-parsing"}function rf(e,t,r){var n,i;if(tn(t,r)==="fragile-basename"){let o=zw(e),s=((i=(n=en(t).match(/\//g))==null?void 0:n.length)!=null?i:0)+1;return o.split("/").slice(-s).join("/")}return e.basename}function Si(e,t){return t?e.metadataCache.getFirstLinkpathDest(t,"")?"":"Template file not found":""}function Ci(e,t){return!t||t==="/"||e.vault.getAbstractFileByPath((0,tf.normalizePath)(t))?"":"Folder not found in vault"}var ie=["day","week","month","quarter","year"];var mt=require("obsidian");var am=require("obsidian");var Re="Default";function nf(e){let t=e;return!!(t.daily||t.weekly||t.monthly||t.yearly||t.quarterly)}function of(e){let t=r=>({enabled:!0,format:r.format||"",folder:r.folder||"",openAtStartup:r.autorun,templatePath:r.template});return{id:Re,ctime:window.moment().format(),day:t(e.daily)}}function af(e){let t=r=>({enabled:r.enabled,format:r.format||"",folder:r.folder||"",openAtStartup:!1,templatePath:r.template});return{id:Re,ctime:window.moment().format(),day:t(e.daily),week:t(e.weekly),month:t(e.monthly),quarter:t(e.quarterly),year:t(e.yearly)}}var fr=class{constructor(t){this.plugin=t}getActiveId(){return qe(this.plugin.settings).activeCalendarSet}getActiveSet(){let t=qe(this.plugin.settings),r=t.calendarSets.find(n=>n.id===t.activeCalendarSet);if(!r)throw new Error("No active calendar set found");return r}getFormat(t){let r=this.getActiveSet();return pr(r,t)}getActiveConfig(t){let r=this.getActiveSet();return sf(r,t)}getCalendarSets(){return qe(this.plugin.settings).calendarSets}getInactiveGranularities(){let t=this.getActiveSet();return ie.filter(r=>{var n;return!((n=t[r])!=null&&n.enabled)})}getActiveGranularities(){let t=this.getActiveSet();return ie.filter(r=>{var n;return(n=t[r])==null?void 0:n.enabled})}renameCalendarset(t,r){if(t!==r.trim()){if(r.trim()==="")throw new Error("Name required");this.plugin.settings.update(n=>{if(n.calendarSets.find(a=>a.id===r))throw new Error(`A calendar set with the name '${r}' already exists`);let o=n.calendarSets.find(a=>a.id===t);return o&&(o.id=r,n.activeCalendarSet===t&&(n.activeCalendarSet=r)),n})}}};function $w(){let{subscribe:e,set:t,update:r}=Zt({path:["Periodic Notes"],eState:{}});return{subscribe:e,set:t,navigate:(n,i)=>t({path:n,eState:i!=null?i:{}}),update:r,reset:()=>t({path:["Periodic Notes"],eState:{}})}}var ge=$w();function Ei(e){let t=e-1;return t*t*t+1}function Mt(e,{delay:t=0,duration:r=400,easing:n=Ei,x:i=0,y:o=0,opacity:a=0}={}){let s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,u=l*(1-a);return{delay:t,duration:r,easing:n,css:(p,f)=>`
			transform: ${c} translate(${(1-p)*i}px, ${(1-p)*o}px);
			opacity: ${l-u*f}`}}function dr(e,{delay:t=0,duration:r=400,easing:n=Ei}={}){let i=getComputedStyle(e),o=+i.opacity,a=parseFloat(i.height),s=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),p=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:t,duration:r,easing:n,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*o};height: ${d*a}px;padding-top: ${d*s}px;padding-bottom: ${d*l}px;margin-top: ${d*c}px;margin-bottom: ${d*u}px;border-top-width: ${d*p}px;border-bottom-width: ${d*f}px;`}}var lf=require("obsidian");function Yw(e){U(e,"svelte-10cvoj4",".arrow.svelte-10cvoj4{align-items:center;display:flex;margin-right:0.6em;transition:0.2s transform ease-in}.expanded.svelte-10cvoj4{transform:rotate(90deg)}")}function Kw(e){let t;return{c(){t=C("div"),S(t,"class","arrow svelte-10cvoj4"),H(t,"expanded",e[0])},m(r,n){T(r,t,n),e[2](t)},p(r,[n]){n&1&&H(t,"expanded",r[0])},i:q,o:q,d(r){r&&O(t),e[2](null)}}}function Zw(e,t,r){let{isExpanded:n}=t,i;le(()=>{(0,lf.setIcon)(i,"chevron-right",16)});function o(a){se[a?"unshift":"push"](()=>{i=a,r(1,i)})}return e.$$set=a=>{"isExpanded"in a&&r(0,n=a.isExpanded)},[n,i,o]}var Pi=class extends N{constructor(t){super(),j(this,t,Zw,Kw,I,{isExpanded:0},Yw)}},rn=Pi;function Xw(e){U(e,"svelte-hvslhz",".breadcrumbs.svelte-hvslhz{align-items:center;color:var(--text-muted);display:flex;margin-bottom:24px}.crumb.svelte-hvslhz{cursor:pointer;font-weight:600;margin:0 0.4em}.crumb.svelte-hvslhz:first-of-type{margin-left:0}.crumb.svelte-hvslhz:last-of-type{color:var(--text-normal)}.crumb.svelte-hvslhz:hover{color:var(--text-accent)}")}function cf(e,t,r){let n=e.slice();n[2]=t[r],n[5]=r;let i=n[0].path.slice(0,n[5]+1);return n[3]=i,n}function uf(e){let t,r;return t=new rn({props:{isExpanded:!1}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function ff(e){let t,r=e[2]+"",n,i,o,a,s,l,c,u;function p(){return e[1](e[3])}let f=e[5]<e[0].path.length-1&&uf(e);return{c(){t=C("div"),n=D(r),a=k(),f&&f.c(),s=Le(),S(t,"class","crumb svelte-hvslhz")},m(d,_){T(d,t,_),x(t,n),T(d,a,_),f&&f.m(d,_),T(d,s,_),l=!0,c||(u=L(t,"click",p),c=!0)},p(d,_){e=d,(!l||_&1)&&r!==(r=e[2]+"")&&G(n,r),e[5]<e[0].path.length-1?f?_&1&&A(f,1):(f=uf(e),f.c(),A(f,1),f.m(s.parentNode,s)):f&&(re(),F(f,1,1,()=>{f=null}),ne())},i(d){l||(be(()=>{o&&o.end(1),i=yt(t,Mt,{x:-6,duration:250}),i.start()}),A(f),l=!0)},o(d){i&&i.invalidate(),o=Ue(t,Mt,{x:-6,duration:250}),F(f),l=!1},d(d){d&&O(t),d&&o&&o.end(),d&&O(a),f&&f.d(d),d&&O(s),c=!1,u()}}}function Qw(e){let t,r,n=e[0].path,i=[];for(let a=0;a<n.length;a+=1)i[a]=ff(cf(e,n,a));let o=a=>F(i[a],1,1,()=>{i[a]=null});return{c(){t=C("div");for(let a=0;a<i.length;a+=1)i[a].c();S(t,"class","breadcrumbs svelte-hvslhz")},m(a,s){T(a,t,s);for(let l=0;l<i.length;l+=1)i[l].m(t,null);r=!0},p(a,[s]){if(s&1){n=a[0].path;let l;for(l=0;l<n.length;l+=1){let c=cf(a,n,l);i[l]?(i[l].p(c,s),A(i[l],1)):(i[l]=ff(c),i[l].c(),A(i[l],1),i[l].m(t,null))}for(re(),l=n.length;l<i.length;l+=1)o(l);ne()}},i(a){if(!r){for(let s=0;s<n.length;s+=1)A(i[s]);r=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)F(i[s]);r=!1},d(a){a&&O(t),ke(i,a)}}}function Jw(e,t,r){let n;return Fe(e,ge,o=>r(0,n=o)),[n,o=>ge.navigate(o)]}var Oi=class extends N{constructor(t){super(),j(this,t,Jw,Qw,I,{},Xw)}},pf=Oi;var _d=require("obsidian");function e2(e){U(e,"svelte-1kza10w",".footer.svelte-1kza10w{align-items:center;border-top:1px solid var(--background-modifier-border);display:flex;gap:16px;justify-content:center;margin-top:24px;padding:16px 0;width:100%}.footer-description.svelte-1kza10w{color:var(--text-muted);font-size:0.8em;font-style:italic}")}function t2(e){let t;return{c(){t=C("div"),t.innerHTML=`<div class="footer-description svelte-1kza10w">made by Liam Cain</div> 
  <a href="https://www.buymeacoffee.com/liamcain"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-violet.png" alt="BuyMeACoffee" width="100"/></a>`,S(t,"class","footer svelte-1kza10w")},m(r,n){T(r,t,n)},p:q,i:q,o:q,d(r){r&&O(t)}}}var Ti=class extends N{constructor(t){super(),j(this,t,null,t2,I,{},e2)}},df=Ti;var r2=e=>({}),mf=e=>({});function gf(e){let t,r;return{c(){t=C("div"),r=D(e[1]),S(t,"class","setting-item-description")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&2&&G(r,n[1])},d(n){n&&O(t)}}}function n2(e){let t,r,n,i,o,a,s,l,c,u=e[1]&&gf(e),p=e[5].control,f=Ro(p,e,e[4],mf);return{c(){t=C("div"),r=C("div"),n=C("div"),i=C("div"),o=D(e[0]),a=k(),u&&u.c(),s=k(),l=C("div"),f&&f.c(),S(n,"class","setting-item-name"),S(r,"class","setting-item-info"),S(l,"class","setting-item-control"),S(t,"class","setting-item"),H(t,"setting-item-heading",e[2]),H(t,"mod-dropdown",e[3]==="dropdown")},m(d,_){T(d,t,_),x(t,r),x(r,n),x(n,i),x(i,o),x(r,a),u&&u.m(r,null),x(t,s),x(t,l),f&&f.m(l,null),c=!0},p(d,[_]){(!c||_&1)&&G(o,d[0]),d[1]?u?u.p(d,_):(u=gf(d),u.c(),u.m(r,null)):u&&(u.d(1),u=null),f&&f.p&&(!c||_&16)&&Bo(f,p,d,d[4],c?Vo(p,d[4],_,r2):Go(d[4]),mf),_&4&&H(t,"setting-item-heading",d[2]),_&8&&H(t,"mod-dropdown",d[3]==="dropdown")},i(d){c||(A(f,d),c=!0)},o(d){F(f,d),c=!1},d(d){d&&O(t),u&&u.d(),f&&f.d(d)}}}function i2(e,t,r){let{$$slots:n={},$$scope:i}=t,{name:o}=t,{description:a}=t,{isHeading:s}=t,{type:l}=t;return e.$$set=c=>{"name"in c&&r(0,o=c.name),"description"in c&&r(1,a=c.description),"isHeading"in c&&r(2,s=c.isHeading),"type"in c&&r(3,l=c.type),"$$scope"in c&&r(4,i=c.$$scope)},[o,a,s,l,i,n]}var Ai=class extends N{constructor(t){super(),j(this,t,i2,n2,I,{name:0,description:1,isHeading:2,type:3})}},nn=Ai;function o2(e){let t,r,n;return{c(){t=C("div"),S(t,"class","checkbox-container"),H(t,"is-enabled",e[0])},m(i,o){T(i,t,o),r||(n=L(t,"click",e[2]),r=!0)},p(i,[o]){o&1&&H(t,"is-enabled",i[0])},i:q,o:q,d(i){i&&O(t),r=!1,n()}}}function a2(e,t,r){let{isEnabled:n}=t,{onChange:i}=t,o=()=>i(!n);return e.$$set=a=>{"isEnabled"in a&&r(0,n=a.isEnabled),"onChange"in a&&r(1,i=a.onChange)},[n,i,o]}var Mi=class extends N{constructor(t){super(),j(this,t,a2,o2,I,{isEnabled:0,onChange:1})}},on=Mi;var Ii=nt(Fp()),x9=require("obsidian");var rx=ie.reduce((e,t)=>(e[t]=ht({},Ze),e),{}),cn=e=>t=>{let r=t.calendarSets.find(n=>n.id===e);if(r&&t.calendarSets.remove(r),e===t.activeCalendarSet){let n=t.calendarSets[0].id;t.activeCalendarSet=n}return t},De=(e,t)=>r=>(r.calendarSets.push(Ar(ht(ht({},(0,Ii.default)(rx)),(0,Ii.default)(t)),{id:e,ctime:window.moment().format()})),r),Ke=e=>t=>(t.activeCalendarSet=e,t),kp=e=>{for(let t of e.calendarSets)for(let r of ie){let n=t[r];n&&n.openAtStartup&&(n.openAtStartup=!1)}return e},Dp=e=>{let t=qe(e).calendarSets;for(let r of t)for(let n of ie){let i=r[n];if(i&&i.openAtStartup)return{calendarSet:r.id,granularity:n}}return null},Ip=(e,t)=>(e%t+t)%t;function Np(e){return e.internalPlugins.getPluginById("daily-notes").enabled}function nx(e){let t=e.internalPlugins.getPluginById("daily-notes");return t?t.instance:null}function un(e){var r;let t=((r=nx(e))==null?void 0:r.options)||{};return!!(t.format||t.folder||t.template)}function Lp(e){e.internalPlugins.getPluginById("daily-notes").disable(!0)}function ix(e){U(e,"svelte-1alo0m9","button.svelte-1alo0m9{display:flex;align-items:center}")}function jp(e){let t,r,n,i,o,a,s;return{c(){t=C("div"),r=C("div"),r.innerHTML=`<div class="setting-item-name">Daily Notes plugin enabled</div> 
        <p class="setting-item-description">You are currently using the core Daily Notes plugin. You can migrate
          your existing settings for a seamless transition to Periodic Notes.</p> 
        <p>If you have an custom hotkeys for daily notes, make sure to update
          them to use the corresponding &quot;Periodic Notes&quot; commands.</p>`,n=k(),i=C("div"),o=C("button"),o.textContent="Disable",S(r,"class","setting-item-info"),S(o,"class","mod-cta svelte-1alo0m9"),S(i,"class","setting-item-control"),S(t,"class","setting-item")},m(l,c){T(l,t,c),x(t,r),x(t,n),x(t,i),x(i,o),a||(s=L(o,"click",e[4]),a=!0)},p:q,d(l){l&&O(t),a=!1,s()}}}function Rp(e){let t;return{c(){t=C("p"),t.textContent=`With this plugin, you can quickly create and navigate to daily, weekly,
      and monthly notes. Enable them below to get started.`},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function ox(e){let t,r,n,i,o,a,s,l,c,u,p=e[2]&&jp(e),f=!e[3]&&Rp(e);return{c(){t=C("div"),r=C("h3"),r.textContent="Getting Started",n=k(),p&&p.c(),i=k(),f&&f.c(),o=k(),a=C("button"),a.textContent="Dismiss",S(a,"class","svelte-1alo0m9"),S(t,"class","settings-banner")},m(d,_){T(d,t,_),x(t,r),x(t,n),p&&p.m(t,null),x(t,i),f&&f.m(t,null),x(t,o),x(t,a),l=!0,c||(u=L(a,"click",function(){Pe(e[1])&&e[1].apply(this,arguments)}),c=!0)},p(d,[_]){e=d,e[2]?p?p.p(e,_):(p=jp(e),p.c(),p.m(t,i)):p&&(p.d(1),p=null),e[3]?f&&(f.d(1),f=null):f||(f=Rp(e),f.c(),f.m(t,o))},i(d){l||(s&&s.end(1),l=!0)},o(d){d&&(s=Ue(t,dr,{})),l=!1},d(d){d&&O(t),p&&p.d(),f&&f.d(),d&&s&&s.end(),c=!1,u()}}}function ax(e,t,r){let{app:n}=t,{handleTeardown:i}=t,o,a,s=()=>Lp(n);return e.$$set=l=>{"app"in l&&r(0,n=l.app),"handleTeardown"in l&&r(1,i=l.handleTeardown)},e.$$.update=()=>{if(e.$$.dirty&1){e:r(2,o=Np(n)),r(3,a=un(n))}},[n,i,o,a,s]}var Ni=class extends N{constructor(t){super(),j(this,t,ax,ox,I,{app:0,handleTeardown:1},ix)}},Hp=Ni;var dn=require("obsidian");var md=nt(fn());function $x(e){U(e,"svelte-1nngpym",".check.svelte-1nngpym{color:var(--text-accent);width:12px;height:12px}")}function Yx(e){let t,r;return{c(){t=Un("svg"),r=Un("path"),S(r,"fill","currentColor"),S(r,"d","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),S(t,"aria-hidden","true"),S(t,"focusable","false"),S(t,"class","check svelte-1nngpym"),S(t,"data-icon","check"),S(t,"role","img"),S(t,"xmlns","http://www.w3.org/2000/svg"),S(t,"viewBox","0 0 512 512")},m(n,i){T(n,t,i),x(t,r)},p:q,i:q,o:q,d(n){n&&O(t)}}}var Hi=class extends N{constructor(t){super(),j(this,t,null,Yx,I,{},$x)}},cd=Hi;var pn=require("obsidian"),K={day:{periodicity:"daily",relativeUnit:"today",labelOpenPresent:"Open today's daily note"},week:{periodicity:"weekly",relativeUnit:"this week",labelOpenPresent:"Open this week's note"},month:{periodicity:"monthly",relativeUnit:"this month",labelOpenPresent:"Open this month's note"},quarter:{periodicity:"quarterly",relativeUnit:"this quarter",labelOpenPresent:"Open this quarter's note"},year:{periodicity:"yearly",relativeUnit:"this year",labelOpenPresent:"Open this years's note"}};function Kx(e,t,r){return te(this,null,function*(){let n=e.workspace.getActiveFile();if(!n)return;let i=t.findInCache(n.path);if(!i)return;let o=t.findAdjacent(i.calendarSet,n.path,r);if(o){let a=e.vault.getAbstractFileByPath(o.filePath);a&&a instanceof pn.TFile&&(yield e.workspace.getUnpinnedLeaf().openFile(a,{active:!0}))}else{let a=r==="forwards"?"after":"before";new pn.Notice(`There's no ${K[i.granularity].periodicity} note ${a} this`)}})}function Vi(e,t,r){return te(this,null,function*(){let n=e.workspace.getActiveFile();if(!n)return;let i=t.findInCache(n.path);if(!i)return;let o=r==="forwards"?1:-1,a=i.date.clone().add(o,i.granularity);t.openPeriodicNote(i.granularity,a)})}function Bi(e,t,r){let n=K[r];return[{id:`open-${n.periodicity}-note`,name:n.labelOpenPresent,callback:()=>t.openPeriodicNote(r,window.moment())},{id:`next-${n.periodicity}-note`,name:`Jump forwards to closest ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;Kx(e,t,"forwards")}},{id:`prev-${n.periodicity}-note`,name:`Jump backwards to closest ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;Vi(e,t,"backwards")}},{id:`open-next-${n.periodicity}-note`,name:`Open next ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;Vi(e,t,"forwards")}},{id:`open-prev-${n.periodicity}-note`,name:`Open previous ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;Vi(e,t,"backwards")}}]}function Zx(e){U(e,"svelte-1io0api",".calendarset-container.svelte-1io0api.svelte-1io0api{background:var(--background-primary-alt);border-radius:16px;border:1px solid var(--background-modifier-border);cursor:pointer;display:flex;flex-direction:column;padding:24px 28px;transition:0.2s border-color ease-in}.calendarset-container.active.svelte-1io0api.svelte-1io0api{background:var(--text-selection);box-shadow:inset 0 0 0 1px var(--text-accent)}.calendarset-container.active.svelte-1io0api.svelte-1io0api:hover{border-color:var(--interactive-accent);box-shadow:inset 0 0 0 1px var(--text-accent-hover)}.calendarset-container.svelte-1io0api.svelte-1io0api:hover{border-color:var(--interactive-accent)}.calendarset-titlebar.svelte-1io0api.svelte-1io0api{align-items:center;display:flex;justify-content:space-between}.calendarset-titlebar.svelte-1io0api .view-action.svelte-1io0api{margin-right:0;padding:2px}.calendarset-name.svelte-1io0api.svelte-1io0api{font-weight:600;letter-spacing:0.25px;margin:0}.periodicity-text.svelte-1io0api.svelte-1io0api{margin-left:0.4em}.badge.svelte-1io0api.svelte-1io0api{background:var(--interactive-accent);border-radius:6px;color:var(--text-on-accent);font-size:70%;margin-left:0.8em;padding:0.1em 0.5em;line-height:20px}.included-types.svelte-1io0api.svelte-1io0api{margin-top:24px}.included-type.svelte-1io0api.svelte-1io0api{display:flex;align-items:baseline;margin-top:6px}.included-type.svelte-1io0api.svelte-1io0api:first-of-type{margin-top:0}.calendarset-empty-state.svelte-1io0api.svelte-1io0api{color:var(--text-faint);font-style:italic}")}function ud(e,t,r){let n=e.slice();return n[12]=t[r],n}function fd(e){var p;let t,r,n,i,o=(0,md.default)(K[e[12]].periodicity)+"",a,s,l,c;r=new cd({});let u=((p=e[1][e[12]])==null?void 0:p.openAtStartup)&&pd(e);return{c(){t=C("div"),z(r.$$.fragment),n=k(),i=C("span"),a=D(o),s=D(" notes"),l=k(),u&&u.c(),S(i,"class","periodicity-text svelte-1io0api"),S(t,"class","included-type svelte-1io0api")},m(f,d){T(f,t,d),B(r,t,null),x(t,n),x(t,i),x(i,a),x(i,s),x(t,l),u&&u.m(t,null),c=!0},p(f,d){var _;(_=f[1][f[12]])!=null&&_.openAtStartup?u||(u=pd(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(f){c||(A(r.$$.fragment,f),c=!0)},o(f){F(r.$$.fragment,f),c=!1},d(f){f&&O(t),V(r),u&&u.d()}}}function pd(e){let t;return{c(){t=C("span"),t.textContent="Opens at startup",S(t,"class","badge svelte-1io0api")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function dd(e){var i;let t,r,n=((i=e[1][e[12]])==null?void 0:i.enabled)&&fd(e);return{c(){n&&n.c(),t=Le()},m(o,a){n&&n.m(o,a),T(o,t,a),r=!0},p(o,a){var s;(s=o[1][o[12]])!=null&&s.enabled?n?(n.p(o,a),a&2&&A(n,1)):(n=fd(o),n.c(),A(n,1),n.m(t.parentNode,t)):n&&(re(),F(n,1,1,()=>{n=null}),ne())},i(o){r||(A(n),r=!0)},o(o){F(n),r=!1},d(o){n&&n.d(o),o&&O(t)}}}function Xx(e){let t;return{c(){t=C("div"),t.textContent="Not configured",S(t,"class","calendarset-empty-state svelte-1io0api")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function Qx(e){let t,r,n,i=e[1].id+"",o,a,s,l,c,u,p,f,d,_=ie,m=[];for(let y=0;y<_.length;y+=1)m[y]=dd(ud(e,_,y));let h=y=>F(m[y],1,1,()=>{m[y]=null}),v=e[5]&&Xx(e);return{c(){t=C("div"),r=C("div"),n=C("h4"),o=D(i),a=k(),s=C("div"),l=k(),c=C("div");for(let y=0;y<m.length;y+=1)m[y].c();u=k(),v&&v.c(),S(n,"class","calendarset-name svelte-1io0api"),S(s,"class","view-action svelte-1io0api"),S(r,"class","calendarset-titlebar svelte-1io0api"),S(c,"class","included-types svelte-1io0api"),S(t,"class","calendarset-container svelte-1io0api"),H(t,"active",e[1].id===e[4].activeCalendarSet)},m(y,b){T(y,t,b),x(t,r),x(r,n),x(n,o),x(r,a),x(r,s),e[9](s),x(t,l),x(t,c);for(let w=0;w<m.length;w+=1)m[w].m(c,null);x(c,u),v&&v.m(c,null),p=!0,f||(d=[L(s,"click",Lr(e[6])),L(t,"click",function(){Pe(e[0])&&e[0].apply(this,arguments)})],f=!0)},p(y,[b]){if(e=y,(!p||b&2)&&i!==(i=e[1].id+"")&&G(o,i),b&2){_=ie;let w;for(w=0;w<_.length;w+=1){let E=ud(e,_,w);m[w]?(m[w].p(E,b),A(m[w],1)):(m[w]=dd(E),m[w].c(),A(m[w],1),m[w].m(c,u))}for(re(),w=_.length;w<m.length;w+=1)h(w);ne()}b&18&&H(t,"active",e[1].id===e[4].activeCalendarSet)},i(y){if(!p){for(let b=0;b<_.length;b+=1)A(m[b]);p=!0}},o(y){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)F(m[b]);p=!1},d(y){y&&O(t),e[9](null),ke(m,y),v&&v.d(),f=!1,X(d)}}}function Jx(e,t,r){let n,i=q,o=()=>(i(),i=fe(u,v=>r(4,n=v)),u);e.$$.on_destroy.push(()=>i());let{app:a}=t,{viewDetails:s}=t,{calendarSet:l}=t,{manager:c}=t,{settings:u}=t;o();let p,f=ie.filter(v=>{var y;return(y=l[v])===null||y===void 0?void 0:y.enabled}).length===0;function d(){u.update(cn(l.id))}function _(){u.update(Ke(l.id))}function m(v){let y=new dn.Menu(a);n.activeCalendarSet!==l.id&&y.addItem(b=>b.setTitle("Set as active").setIcon("check-circle-2").onClick(_)).addSeparator(),y.addItem(b=>b.setTitle("Duplicate calendar set").setIcon("copy").onClick(()=>{let w=`${l.id} copy`;u.update(De(w,l)),ge.navigate(["Periodic Notes",w],{shouldRename:!0})})).addItem(b=>b.setTitle("Delete calendar set").setIcon("x").setDisabled(c.getCalendarSets().length===1).onClick(d)).showAtMouseEvent(v)}le(()=>{(0,dn.setIcon)(p,"more-vertical",18)});function h(v){se[v?"unshift":"push"](()=>{p=v,r(3,p)})}return e.$$set=v=>{"app"in v&&r(7,a=v.app),"viewDetails"in v&&r(0,s=v.viewDetails),"calendarSet"in v&&r(1,l=v.calendarSet),"manager"in v&&r(8,c=v.manager),"settings"in v&&o(r(2,u=v.settings))},[s,l,u,p,n,f,m,a,c,h]}var Gi=class extends N{constructor(t){super(),j(this,t,Jx,Qx,I,{app:7,viewDetails:0,calendarSet:1,manager:8,settings:2},Zx)}},gd=Gi;function eS(e){U(e,"svelte-7tzhh2",".calendarset-container.svelte-7tzhh2{display:grid;grid-template-columns:1fr 1fr;gap:30px;padding-bottom:1.4em}.section-title.svelte-7tzhh2{margin:0}.section-nav.svelte-7tzhh2{align-items:center;display:flex;justify-content:space-between;margin:2em 0 0.8em}")}function hd(e,t,r){let n=e.slice();return n[10]=t[r],n}function vd(e){let t,r;return t=new Hp({props:{app:e[0],handleTeardown:e[6]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&16&&(o.handleTeardown=n[6]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function yd(e){let t,r;function n(){return e[8](e[10])}return t=new gd({props:{app:e[0],calendarSet:e[10],manager:e[1],settings:e[2],viewDetails:n}}),{c(){z(t.$$.fragment)},m(i,o){B(t,i,o),r=!0},p(i,o){e=i;let a={};o&1&&(a.app=e[0]),o&16&&(a.calendarSet=e[10]),o&2&&(a.manager=e[1]),o&4&&(a.settings=e[2]),o&16&&(a.viewDetails=n),t.$set(a)},i(i){r||(A(t.$$.fragment,i),r=!0)},o(i){F(t.$$.fragment,i),r=!1},d(i){V(t,i)}}}function tS(e){let t,r;return t=new on({props:{slot:"control",isEnabled:e[4].enableTimelineComplication,onChange:e[9]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&16&&(o.isEnabled=n[4].enableTimelineComplication),i&16&&(o.onChange=n[9]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function rS(e){let t,r,n,i,o,a,s,l,c,u,p,f,d,_,m=e[4].showGettingStartedBanner&&vd(e),h=e[4].calendarSets,v=[];for(let b=0;b<h.length;b+=1)v[b]=yd(hd(e,h,b));let y=b=>F(v[b],1,1,()=>{v[b]=null});return c=new nn({props:{name:"Show \u201CTimeline\u201D complication on periodic notes",description:"Adds a collapsible timeline to the top-right of all periodic notes",type:"toggle",isHeading:!1,$$slots:{control:[tS]},$$scope:{ctx:e}}}),p=new df({}),{c(){m&&m.c(),t=k(),r=C("div"),n=C("h3"),n.textContent="Calendar Sets",i=k(),o=C("div"),a=k(),s=C("div");for(let b=0;b<v.length;b+=1)v[b].c();l=k(),z(c.$$.fragment),u=k(),z(p.$$.fragment),S(n,"class","section-title svelte-7tzhh2"),S(o,"class","clickable-icon"),S(r,"class","section-nav svelte-7tzhh2"),S(s,"class","calendarset-container svelte-7tzhh2")},m(b,w){m&&m.m(b,w),T(b,t,w),T(b,r,w),x(r,n),x(r,i),x(r,o),e[7](o),T(b,a,w),T(b,s,w);for(let E=0;E<v.length;E+=1)v[E].m(s,null);T(b,l,w),B(c,b,w),T(b,u,w),B(p,b,w),f=!0,d||(_=L(o,"click",e[5]),d=!0)},p(b,[w]){if(b[4].showGettingStartedBanner?m?(m.p(b,w),w&16&&A(m,1)):(m=vd(b),m.c(),A(m,1),m.m(t.parentNode,t)):m&&(re(),F(m,1,1,()=>{m=null}),ne()),w&23){h=b[4].calendarSets;let P;for(P=0;P<h.length;P+=1){let M=hd(b,h,P);v[P]?(v[P].p(M,w),A(v[P],1)):(v[P]=yd(M),v[P].c(),A(v[P],1),v[P].m(s,null))}for(re(),P=h.length;P<v.length;P+=1)y(P);ne()}let E={};w&8208&&(E.$$scope={dirty:w,ctx:b}),c.$set(E)},i(b){if(!f){A(m);for(let w=0;w<h.length;w+=1)A(v[w]);A(c.$$.fragment,b),A(p.$$.fragment,b),f=!0}},o(b){F(m),v=v.filter(Boolean);for(let w=0;w<v.length;w+=1)F(v[w]);F(c.$$.fragment,b),F(p.$$.fragment,b),f=!1},d(b){m&&m.d(b),b&&O(t),b&&O(r),e[7](null),b&&O(a),b&&O(s),ke(v,b),b&&O(l),V(c,b),b&&O(u),V(p,b),d=!1,_()}}}function nS(e,t,r){let n,i=q,o=()=>(i(),i=fe(l,m=>r(4,n=m)),l);e.$$.on_destroy.push(()=>i());let{app:a}=t,{manager:s}=t,{settings:l}=t;o();let c;function u(){let m=1,h=n.calendarSets;for(;h.find(y=>y.id===`Calendar set ${m}`);)m++;let v=`Calendar set ${m}`;l.update(De(v)),ge.navigate(["Periodic Notes",v],{shouldRename:!0})}le(()=>{(0,_d.setIcon)(c,"plus",16)});let p=()=>{Kt(l,n.showGettingStartedBanner=!1,n)};function f(m){se[m?"unshift":"push"](()=>{c=m,r(3,c)})}let d=m=>ge.navigate(["Periodic Notes",m.id]),_=m=>{Kt(l,n.enableTimelineComplication=m,n)};return e.$$set=m=>{"app"in m&&r(0,a=m.app),"manager"in m&&r(1,s=m.manager),"settings"in m&&o(r(2,l=m.settings))},[a,s,l,c,n,u,p,f,d,_]}var zi=class extends N{constructor(t){super(),j(this,t,nS,rS,I,{app:0,manager:1,settings:2},eS)}},bd=zi;var Cn=require("obsidian");var NT=require("obsidian");var Xd=nt(fn());function iS(e){U(e,"svelte-152oqqu",".alert-warning.svelte-152oqqu.svelte-152oqqu{color:var(--text-muted);font-size:80%;margin-top:0.6em}.setting-item-control.svelte-152oqqu input.svelte-152oqqu{flex-grow:1}")}function oS(e){let t;function r(o,a){if(o[6]==="loose-parsing")return lS;if(o[6]==="fragile-basename")return sS}let n=r(e,-1),i=n&&n(e);return{c(){t=C("div"),i&&i.c(),S(t,"class","alert-warning svelte-152oqqu")},m(o,a){T(o,t,a),i&&i.m(t,null)},p(o,a){n===(n=r(o,a))&&i?i.p(o,a):(i&&i.d(1),i=n&&n(o),i&&(i.c(),i.m(t,null)))},d(o){o&&O(t),i&&i.d()}}}function aS(e){let t,r;return{c(){t=C("div"),r=D(e[5]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&32&&G(r,n[5])},d(n){n&&O(t)}}}function sS(e){let t,r,n,i,o,a=we[e[0]]+"",s;return{c(){t=D(`Your base filename is not uniquely identifiable. If you would still
          like to use this format, it is recommended that you include the
          following in the frontmatter of your daily note template:
          `),r=C("pre"),n=C("code"),i=D(e[0]),o=D(": "),s=D(a)},m(l,c){T(l,t,c),T(l,r,c),x(r,n),x(n,i),x(n,o),x(n,s)},p(l,c){c&1&&G(i,l[0]),c&1&&a!==(a=we[l[0]]+"")&&G(s,a)},d(l){l&&O(t),l&&O(r)}}}function lS(e){let t,r=K[e[0]].periodicity+"",n,i,o,a,s,l,c=we[e[0]]+"",u;return{c(){t=D(`Your filename format cannot be parsed. If you would still like to use
          this format for your `),n=D(r),i=D(` notes, you
          will need to include the following in the frontmatter of your template
          file:
          `),o=C("pre"),a=C("code"),s=D(e[0]),l=D(": "),u=D(c)},m(p,f){T(p,t,f),T(p,n,f),T(p,i,f),T(p,o,f),x(o,a),x(a,s),x(a,l),x(a,u)},p(p,f){f&1&&r!==(r=K[p[0]].periodicity+"")&&G(n,r),f&1&&G(s,p[0]),f&1&&c!==(c=we[p[0]]+"")&&G(u,c)},d(p){p&&O(t),p&&O(n),p&&O(i),p&&O(o)}}}function cS(e){let t,r,n,i,o,a,s,l,c,u,p=window.moment().format(e[4]||e[7])+"",f,d,_,m,h,v,y,b;function w(M,R){if(M[5])return aS;if(M[6]!=="valid")return oS}let E=w(e,-1),P=E&&E(e);return{c(){t=C("div"),r=C("div"),n=C("div"),n.textContent="Format",i=k(),o=C("div"),a=C("a"),a.textContent="Syntax Reference",s=k(),l=C("div"),c=D("Your current syntax looks like this: "),u=C("b"),f=D(p),d=k(),P&&P.c(),_=k(),m=C("div"),h=C("input"),S(n,"class","setting-item-name"),S(a,"href","https://momentjs.com/docs/#/displaying/format/"),S(u,"class","u-pop"),S(o,"class","setting-item-description"),S(r,"class","setting-item-info"),S(h,"type","text"),S(h,"spellcheck",v=!1),S(h,"placeholder",e[7]),S(h,"class","svelte-152oqqu"),H(h,"has-error",!!e[5]),S(m,"class","setting-item-control svelte-152oqqu"),S(t,"class","setting-item")},m(M,R){T(M,t,R),x(t,r),x(r,n),x(r,i),x(r,o),x(o,a),x(o,s),x(o,l),x(l,c),x(l,u),x(u,f),x(r,d),P&&P.m(r,null),x(t,_),x(t,m),x(m,h),je(h,e[2].format),e[11](h),y||(b=[L(h,"input",e[10]),L(h,"change",e[9]),L(h,"input",e[8])],y=!0)},p(M,[R]){R&16&&p!==(p=window.moment().format(M[4]||M[7])+"")&&G(f,p),E===(E=w(M,R))&&P?P.p(M,R):(P&&P.d(1),P=E&&E(M),P&&(P.c(),P.m(r,null))),R&4&&h.value!==M[2].format&&je(h,M[2].format),R&32&&H(h,"has-error",!!M[5])},i:q,o:q,d(M){M&&O(t),P&&P.d(),e[11](null),y=!1,X(b)}}}function uS(e,t,r){let n,i=q,o=()=>(i(),i=fe(s,v=>r(2,n=v)),s);e.$$.on_destroy.push(()=>i());let{granularity:a}=t,{config:s}=t;o();let l=we[a],c,u="",p,f;le(()=>{r(5,p=xi(c.value,a)),r(6,f=tn(c.value,a))});function d(){r(5,p="")}function _(){r(5,p=xi(c.value,a)),r(6,f=tn(c.value,a))}function m(){n.format=this.value,s.set(n)}function h(v){se[v?"unshift":"push"](()=>{c=v,r(3,c)})}return e.$$set=v=>{"granularity"in v&&r(0,a=v.granularity),"config"in v&&o(r(1,s=v.config))},e.$$.update=()=>{if(e.$$.dirty&4){e:r(4,u=n.format||"")}},[a,s,n,c,u,p,f,l,d,_,m,h]}var Ui=class extends N{constructor(t){super(),j(this,t,uS,cS,I,{granularity:0,config:1},iS)}},wd=Ui;var so=nt(fn());var xn=require("obsidian");var Z="top",ce="bottom",oe="right",Q="left",mn="auto",Xe=[Z,ce,oe,Q],He="start",at="end",xd="clippingParents",gn="viewport",Ft="popper",Sd="reference",Wi=Xe.reduce(function(e,t){return e.concat([t+"-"+He,t+"-"+at])},[]),hn=[].concat(Xe,[mn]).reduce(function(e,t){return e.concat([t,t+"-"+He,t+"-"+at])},[]),fS="beforeRead",pS="read",dS="afterRead",mS="beforeMain",gS="main",hS="afterMain",vS="beforeWrite",yS="write",_S="afterWrite",Cd=[fS,pS,dS,mS,gS,hS,vS,yS,_S];function pe(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ie(e){var t=J(e).Element;return e instanceof t||e instanceof Element}function ue(e){var t=J(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kt(e){if(typeof ShadowRoot=="undefined")return!1;var t=J(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function bS(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!ue(o)||!pe(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function wS(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!ue(i)||!pe(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var Ed={name:"applyStyles",enabled:!0,phase:"write",fn:bS,effect:wS,requires:["computeStyles"]};function de(e){return e.split("-")[0]}var Te=Math.max,st=Math.min,Ve=Math.round;function Se(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(ue(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Ve(r.width)/a||1),o>0&&(i=Ve(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function lt(e){var t=Se(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function hr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&kt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function he(e){return J(e).getComputedStyle(e)}function $i(e){return["table","td","th"].indexOf(pe(e))>=0}function me(e){return((Ie(e)?e.ownerDocument:e.document)||window.document).documentElement}function Be(e){return pe(e)==="html"?e:e.assignedSlot||e.parentNode||(kt(e)?e.host:null)||me(e)}function Pd(e){return!ue(e)||he(e).position==="fixed"?null:e.offsetParent}function xS(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ue(e)){var n=he(e);if(n.position==="fixed")return null}var i=Be(e);for(kt(i)&&(i=i.host);ue(i)&&["html","body"].indexOf(pe(i))<0;){var o=he(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ae(e){for(var t=J(e),r=Pd(e);r&&$i(r)&&he(r).position==="static";)r=Pd(r);return r&&(pe(r)==="html"||pe(r)==="body"&&he(r).position==="static")?t:r||xS(e)||t}function ct(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ut(e,t,r){return Te(e,st(t,r))}function Od(e,t,r){var n=ut(e,t,r);return n>r?r:n}function vr(){return{top:0,right:0,bottom:0,left:0}}function yr(e){return Object.assign({},vr(),e)}function _r(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var SS=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,yr(typeof t!="number"?t:_r(t,Xe))};function CS(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=de(r.placement),l=ct(s),c=[Q,oe].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var p=SS(i.padding,r),f=lt(o),d=l==="y"?Z:Q,_=l==="y"?ce:oe,m=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],h=a[l]-r.rects.reference[l],v=Ae(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-h/2,w=p[d],E=y-f[u]-p[_],P=y/2-f[u]/2+b,M=ut(w,P,E),R=l;r.modifiersData[n]=(t={},t[R]=M,t.centerOffset=M-P,t)}}function ES(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!hr(t.elements.popper,i)||(t.elements.arrow=i))}var Td={name:"arrow",enabled:!0,phase:"main",fn:CS,effect:ES,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ce(e){return e.split("-")[1]}var PS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OS(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:Ve(t*i)/i||0,y:Ve(r*i)/i||0}}function Ad(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=a.x,d=f===void 0?0:f,_=a.y,m=_===void 0?0:_,h=typeof u=="function"?u({x:d,y:m}):{x:d,y:m};d=h.x,m=h.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Q,w=Z,E=window;if(c){var P=Ae(r),M="clientHeight",R="clientWidth";if(P===J(r)&&(P=me(r),he(P).position!=="static"&&s==="absolute"&&(M="scrollHeight",R="scrollWidth")),P=P,i===Z||(i===Q||i===oe)&&o===at){w=ce;var ee=p&&P===E&&E.visualViewport?E.visualViewport.height:P[M];m-=ee-n.height,m*=l?1:-1}if(i===Q||(i===Z||i===ce)&&o===at){b=oe;var ae=p&&P===E&&E.visualViewport?E.visualViewport.width:P[R];d-=ae-n.width,d*=l?1:-1}}var $=Object.assign({position:s},c&&PS),ve=u===!0?OS({x:d,y:m}):{x:d,y:m};if(d=ve.x,m=ve.y,l){var ye;return Object.assign({},$,(ye={},ye[w]=y?"0":"",ye[b]=v?"0":"",ye.transform=(E.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",ye))}return Object.assign({},$,(t={},t[w]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}function TS(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s;if(!1)var c;var u={placement:de(t.placement),variation:Ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ad(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ad(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Md={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TS,data:{}};var vn={passive:!0};function AS(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=J(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,vn)}),s&&l.addEventListener("resize",r.update,vn),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,vn)}),s&&l.removeEventListener("resize",r.update,vn)}}var qd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AS,data:{}};var MS={left:"right",right:"left",bottom:"top",top:"bottom"};function Dt(e){return e.replace(/left|right|bottom|top/g,function(t){return MS[t]})}var qS={start:"end",end:"start"};function yn(e){return e.replace(/start|end/g,function(t){return qS[t]})}function ft(e){var t=J(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function pt(e){return Se(me(e)).left+ft(e).scrollLeft}function Yi(e){var t=J(e),r=me(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:i,height:o,x:a+pt(e),y:s}}function Ki(e){var t,r=me(e),n=ft(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Te(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Te(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+pt(e),l=-n.scrollTop;return he(i||r).direction==="rtl"&&(s+=Te(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function dt(e){var t=he(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function _n(e){return["html","body","#document"].indexOf(pe(e))>=0?e.ownerDocument.body:ue(e)&&dt(e)?e:_n(Be(e))}function Qe(e,t){var r;t===void 0&&(t=[]);var n=_n(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=J(n),a=i?[o].concat(o.visualViewport||[],dt(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Qe(Be(a)))}function It(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function FS(e){var t=Se(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Fd(e,t){return t===gn?It(Yi(e)):Ie(t)?FS(t):It(Ki(me(e)))}function kS(e){var t=Qe(Be(e)),r=["absolute","fixed"].indexOf(he(e).position)>=0,n=r&&ue(e)?Ae(e):e;return Ie(n)?t.filter(function(i){return Ie(i)&&hr(i,n)&&pe(i)!=="body"}):[]}function Zi(e,t,r){var n=t==="clippingParents"?kS(e):[].concat(t),i=[].concat(n,[r]),o=i[0],a=i.reduce(function(s,l){var c=Fd(e,l);return s.top=Te(c.top,s.top),s.right=st(c.right,s.right),s.bottom=st(c.bottom,s.bottom),s.left=Te(c.left,s.left),s},Fd(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function br(e){var t=e.reference,r=e.element,n=e.placement,i=n?de(n):null,o=n?Ce(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case Z:l={x:a,y:t.y-r.height};break;case ce:l={x:a,y:t.y+t.height};break;case oe:l={x:t.x+t.width,y:s};break;case Q:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?ct(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case He:l[c]=l[c]-(t[u]/2-r[u]/2);break;case at:l[c]=l[c]+(t[u]/2-r[u]/2);break;default:}}return l}function Me(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.boundary,a=o===void 0?xd:o,s=r.rootBoundary,l=s===void 0?gn:s,c=r.elementContext,u=c===void 0?Ft:c,p=r.altBoundary,f=p===void 0?!1:p,d=r.padding,_=d===void 0?0:d,m=yr(typeof _!="number"?_:_r(_,Xe)),h=u===Ft?Sd:Ft,v=e.rects.popper,y=e.elements[f?h:u],b=Zi(Ie(y)?y:y.contextElement||me(e.elements.popper),a,l),w=Se(e.elements.reference),E=br({reference:w,element:v,strategy:"absolute",placement:i}),P=It(Object.assign({},v,E)),M=u===Ft?P:w,R={top:b.top-M.top+m.top,bottom:M.bottom-b.bottom+m.bottom,left:b.left-M.left+m.left,right:M.right-b.right+m.right},ee=e.modifiersData.offset;if(u===Ft&&ee){var ae=ee[i];Object.keys(R).forEach(function($){var ve=[oe,ce].indexOf($)>=0?1:-1,ye=[Z,ce].indexOf($)>=0?"y":"x";R[$]+=ae[ye]*ve})}return R}function Xi(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?hn:l,u=Ce(n),p=u?s?Wi:Wi.filter(function(_){return Ce(_)===u}):Xe,f=p.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=p);var d=f.reduce(function(_,m){return _[m]=Me(e,{placement:m,boundary:i,rootBoundary:o,padding:a})[de(m)],_},{});return Object.keys(d).sort(function(_,m){return d[_]-d[m]})}function DS(e){if(de(e)===mn)return[];var t=Dt(e);return[yn(e),t,yn(t)]}function IS(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,p=r.rootBoundary,f=r.altBoundary,d=r.flipVariations,_=d===void 0?!0:d,m=r.allowedAutoPlacements,h=t.options.placement,v=de(h),y=v===h,b=l||(y||!_?[Dt(h)]:DS(h)),w=[h].concat(b).reduce(function(gt,Ge){return gt.concat(de(Ge)===mn?Xi(t,{placement:Ge,boundary:u,rootBoundary:p,padding:c,flipVariations:_,allowedAutoPlacements:m}):Ge)},[]),E=t.rects.reference,P=t.rects.popper,M=new Map,R=!0,ee=w[0],ae=0;ae<w.length;ae++){var $=w[ae],ve=de($),ye=Ce($)===He,Ht=[Z,ce].indexOf(ve)>=0,Vt=Ht?"width":"height",_e=Me(t,{placement:$,boundary:u,rootBoundary:p,altBoundary:f,padding:c}),Ee=Ht?ye?oe:Q:ye?ce:Z;E[Vt]>P[Vt]&&(Ee=Dt(Ee));var Cr=Dt(Ee),et=[];if(o&&et.push(_e[ve]<=0),s&&et.push(_e[Ee]<=0,_e[Cr]<=0),et.every(function(gt){return gt})){ee=$,R=!1;break}M.set($,et)}if(R)for(var Er=_?3:1,In=function(Ge){var Gt=w.find(function(Or){var tt=M.get(Or);if(tt)return tt.slice(0,Ge).every(function(Nn){return Nn})});if(Gt)return ee=Gt,"break"},Bt=Er;Bt>0;Bt--){var Pr=In(Bt);if(Pr==="break")break}t.placement!==ee&&(t.modifiersData[n]._skip=!0,t.placement=ee,t.reset=!0)}}var kd={name:"flip",enabled:!0,phase:"main",fn:IS,requiresIfExists:["offset"],data:{_skip:!1}};function Dd(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Id(e){return[Z,oe,ce,Q].some(function(t){return e[t]>=0})}function NS(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Me(t,{elementContext:"reference"}),s=Me(t,{altBoundary:!0}),l=Dd(a,n),c=Dd(s,i,o),u=Id(l),p=Id(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}var Nd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NS};function LS(e,t,r){var n=de(e),i=[Q,Z].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Q,oe].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function jS(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=hn.reduce(function(u,p){return u[p]=LS(p,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}var Ld={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jS};function RS(e){var t=e.state,r=e.name;t.modifiersData[r]=br({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var jd={name:"popperOffsets",enabled:!0,phase:"read",fn:RS,data:{}};function Qi(e){return e==="x"?"y":"x"}function HS(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,p=r.padding,f=r.tether,d=f===void 0?!0:f,_=r.tetherOffset,m=_===void 0?0:_,h=Me(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),v=de(t.placement),y=Ce(t.placement),b=!y,w=ct(v),E=Qi(w),P=t.modifiersData.popperOffsets,M=t.rects.reference,R=t.rects.popper,ee=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,ae=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ve={x:0,y:0};if(!!P){if(o){var ye,Ht=w==="y"?Z:Q,Vt=w==="y"?ce:oe,_e=w==="y"?"height":"width",Ee=P[w],Cr=Ee+h[Ht],et=Ee-h[Vt],Er=d?-R[_e]/2:0,In=y===He?M[_e]:R[_e],Bt=y===He?-R[_e]:-M[_e],Pr=t.elements.arrow,gt=d&&Pr?lt(Pr):{width:0,height:0},Ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:vr(),Gt=Ge[Ht],Or=Ge[Vt],tt=ut(0,M[_e],gt[_e]),Nn=b?M[_e]/2-Er-tt-Gt-ae.mainAxis:In-tt-Gt-ae.mainAxis,tg=b?-M[_e]/2+Er+tt+Or+ae.mainAxis:Bt+tt+Or+ae.mainAxis,Ln=t.elements.arrow&&Ae(t.elements.arrow),rg=Ln?w==="y"?Ln.clientTop||0:Ln.clientLeft||0:0,xo=(ye=$==null?void 0:$[w])!=null?ye:0,ng=Ee+Nn-xo-rg,ig=Ee+tg-xo,So=ut(d?st(Cr,ng):Cr,Ee,d?Te(et,ig):et);P[w]=So,ve[w]=So-Ee}if(s){var Co,og=w==="x"?Z:Q,ag=w==="x"?ce:oe,rt=P[E],Tr=E==="y"?"height":"width",Eo=rt+h[og],Po=rt-h[ag],jn=[Z,Q].indexOf(v)!==-1,Oo=(Co=$==null?void 0:$[E])!=null?Co:0,To=jn?Eo:rt-M[Tr]-R[Tr]-Oo+ae.altAxis,Ao=jn?rt+M[Tr]+R[Tr]-Oo-ae.altAxis:Po,Mo=d&&jn?Od(To,rt,Ao):ut(d?To:Eo,rt,d?Ao:Po);P[E]=Mo,ve[E]=Mo-rt}t.modifiersData[n]=ve}}var Rd={name:"preventOverflow",enabled:!0,phase:"main",fn:HS,requiresIfExists:["offset"]};function Ji(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function eo(e){return e===J(e)||!ue(e)?ft(e):Ji(e)}function VS(e){var t=e.getBoundingClientRect(),r=Ve(t.width)/e.offsetWidth||1,n=Ve(t.height)/e.offsetHeight||1;return r!==1||n!==1}function to(e,t,r){r===void 0&&(r=!1);var n=ue(t),i=ue(t)&&VS(t),o=me(t),a=Se(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((pe(t)!=="body"||dt(o))&&(s=eo(t)),ue(t)?(l=Se(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=pt(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function BS(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function ro(e){var t=BS(e);return Cd.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function no(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function io(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Hd={placement:"bottom",modifiers:[],strategy:"absolute"};function Vd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Bd(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?Hd:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hd,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],f=!1,d={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:Ie(s)?Qe(s):s.contextElement?Qe(s.contextElement):[],popper:Qe(l)};var b=ro(io([].concat(n,u.options.modifiers)));if(u.orderedModifiers=b.filter(function($){return $.enabled}),!1){var w;if(getBasePlacement(u.options.placement)===auto)var E;var P,M,R,ee,ae}return _(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,y=v.reference,b=v.popper;if(!!Vd(y,b)){u.rects={reference:to(y,Ae(b),u.options.strategy==="fixed"),popper:lt(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var w=0,E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var P=u.orderedModifiers[E],M=P.fn,R=P.options,ee=R===void 0?{}:R,ae=P.name;typeof M=="function"&&(u=M({state:u,options:ee,name:ae,instance:d})||u)}}}},update:no(function(){return new Promise(function(h){d.forceUpdate(),h(u)})}),destroy:function(){m(),f=!0}};if(!Vd(s,l))return d;d.setOptions(c).then(function(h){!f&&c.onFirstUpdate&&c.onFirstUpdate(h)});function _(){u.orderedModifiers.forEach(function(h){var v=h.name,y=h.options,b=y===void 0?{}:y,w=h.effect;if(typeof w=="function"){var E=w({state:u,name:v,instance:d,options:b}),P=function(){};p.push(E||P)}})}function m(){p.forEach(function(h){return h()}),p=[]}return d}}var GS=[qd,jd,Md,Ed,Ld,kd,Rd,Td,Nd],oo=Bd({defaultModifiers:GS});var Gd=require("obsidian");var ao=class{constructor(t,r,n){this.owner=t,this.containerEl=r,r.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),r.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),n.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),n.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),n.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(t,r){t.preventDefault();let n=this.suggestions.indexOf(r);this.setSelectedItem(n,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,r){let n=this.suggestions.indexOf(r);this.setSelectedItem(n,!1)}setSuggestions(t){this.containerEl.empty();let r=[];t.forEach(n=>{let i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(n,i),r.push(i)}),this.values=t,this.suggestions=r,this.setSelectedItem(0,!1)}useSelectedItem(t){let r=this.values[this.selectedItem];r&&this.owner.selectSuggestion(r,t)}setSelectedItem(t,r){let n=Ip(t,this.suggestions.length),i=this.suggestions[this.selectedItem],o=this.suggestions[n];i==null||i.removeClass("is-selected"),o==null||o.addClass("is-selected"),this.selectedItem=n,r&&o.scrollIntoView(!1)}},wr=class{constructor(t,r){this.app=t,this.inputEl=r,this.scope=new Gd.Scope,this.suggestEl=createDiv("suggestion-container");let n=this.suggestEl.createDiv("suggestion");this.suggest=new ao(this,n,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",i=>{i.preventDefault()})}onInputChanged(){let t=this.inputEl.value,r=this.getSuggestions(t);r.length>0&&(this.suggest.setSuggestions(r),this.open(this.app.dom.appContainerEl,this.inputEl))}open(t,r){this.app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=oo(r,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:n,instance:i})=>{let o=`${n.rects.reference.width}px`;n.styles.popper.width!==o&&(n.styles.popper.width=o,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper.destroy(),this.suggestEl.detach()}};var bn=class extends wr{getSuggestions(t){let r=this.app.vault.getAllLoadedFiles(),n=[],i=t.toLowerCase();return r.forEach(o=>{o instanceof xn.TFile&&o.extension==="md"&&o.path.toLowerCase().contains(i)&&n.push(o)}),n}renderSuggestion(t,r){r.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}},wn=class extends wr{getSuggestions(t){let r=this.app.vault.getAllLoadedFiles(),n=[],i=t.toLowerCase();return r.forEach(o=>{o instanceof xn.TFolder&&o.path.toLowerCase().contains(i)&&n.push(o)}),n}renderSuggestion(t,r){r.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};function zS(e){U(e,"svelte-1vhf060",".setting-item-control.svelte-1vhf060 input.svelte-1vhf060{flex-grow:1}")}function zd(e){let t,r;return{c(){t=C("div"),r=D(e[2]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&4&&G(r,n[2])},d(n){n&&O(t)}}}function US(e){let t,r,n,i=(0,so.default)(K[e[0]].periodicity)+"",o,a,s,l,c,u,p,f,d,_,m,h=e[2]&&zd(e);return{c(){t=C("div"),r=C("div"),n=C("div"),o=D(i),a=D(" Note Template"),s=k(),l=C("div"),l.textContent="Choose the file to use as a template",c=k(),h&&h.c(),u=k(),p=C("div"),f=C("input"),S(n,"class","setting-item-name"),S(l,"class","setting-item-description"),S(r,"class","setting-item-info"),S(f,"type","text"),S(f,"spellcheck",d=!1),S(f,"placeholder","e.g. templates/template-file"),S(f,"class","svelte-1vhf060"),H(f,"has-error",!!e[2]),S(p,"class","setting-item-control svelte-1vhf060"),S(t,"class","setting-item")},m(v,y){T(v,t,y),x(t,r),x(r,n),x(n,o),x(n,a),x(r,s),x(r,l),x(r,c),h&&h.m(r,null),x(t,u),x(t,p),x(p,f),je(f,e[4].templatePath),e[9](f),_||(m=[L(f,"input",e[8]),L(f,"change",e[5]),L(f,"input",e[6])],_=!0)},p(v,[y]){y&1&&i!==(i=(0,so.default)(K[v[0]].periodicity)+"")&&G(o,i),v[2]?h?h.p(v,y):(h=zd(v),h.c(),h.m(r,null)):h&&(h.d(1),h=null),y&16&&f.value!==v[4].templatePath&&je(f,v[4].templatePath),y&4&&H(f,"has-error",!!v[2])},i:q,o:q,d(v){v&&O(t),h&&h.d(),e[9](null),_=!1,X(m)}}}function WS(e,t,r){let n,i=q,o=()=>(i(),i=fe(l,m=>r(4,n=m)),l);e.$$.on_destroy.push(()=>i());let{app:a}=t,{granularity:s}=t,{config:l}=t;o();let c,u;function p(){r(2,c=Si(a,u.value))}function f(){r(2,c="")}le(()=>{r(2,c=Si(a,u.value)),new bn(a,u)});function d(){n.templatePath=this.value,l.set(n)}function _(m){se[m?"unshift":"push"](()=>{u=m,r(3,u)})}return e.$$set=m=>{"app"in m&&r(7,a=m.app),"granularity"in m&&r(0,s=m.granularity),"config"in m&&o(r(1,l=m.config))},[s,l,c,u,n,p,f,a,d,_]}var lo=class extends N{constructor(t){super(),j(this,t,WS,US,I,{app:7,granularity:0,config:1},zS)}},Ud=lo;function $S(e){U(e,"svelte-1vhf060",".setting-item-control.svelte-1vhf060 input.svelte-1vhf060{flex-grow:1}")}function Wd(e){let t,r;return{c(){t=C("div"),r=D(e[3]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&8&&G(r,n[3])},d(n){n&&O(t)}}}function YS(e){let t,r,n,i,o,a,s=K[e[1]].periodicity+"",l,c,u,p,f,d,_,m,h,v=e[3]&&Wd(e);return{c(){t=C("div"),r=C("div"),n=C("div"),n.textContent="Note Folder",i=k(),o=C("div"),a=D("New "),l=D(s),c=D(" notes will be placed here"),u=k(),v&&v.c(),p=k(),f=C("div"),d=C("input"),S(n,"class","setting-item-name"),S(o,"class","setting-item-description"),S(r,"class","setting-item-info"),S(d,"type","text"),S(d,"spellcheck",_=!1),S(d,"placeholder","e.g. folder 1/folder 2"),S(d,"class","svelte-1vhf060"),H(d,"has-error",!!e[3]),S(f,"class","setting-item-control svelte-1vhf060"),S(t,"class","setting-item")},m(y,b){T(y,t,b),x(t,r),x(r,n),x(r,i),x(r,o),x(o,a),x(o,l),x(o,c),x(r,u),v&&v.m(r,null),x(t,p),x(t,f),x(f,d),je(d,e[4].folder),e[9](d),m||(h=[L(d,"input",e[8]),L(d,"change",e[5]),L(d,"input",e[6])],m=!0)},p(y,[b]){b&2&&s!==(s=K[y[1]].periodicity+"")&&G(l,s),y[3]?v?v.p(y,b):(v=Wd(y),v.c(),v.m(r,null)):v&&(v.d(1),v=null),b&16&&d.value!==y[4].folder&&je(d,y[4].folder),b&8&&H(d,"has-error",!!y[3])},i:q,o:q,d(y){y&&O(t),v&&v.d(),e[9](null),m=!1,X(h)}}}function KS(e,t,r){let n,i=q,o=()=>(i(),i=fe(a,m=>r(4,n=m)),a);e.$$.on_destroy.push(()=>i());let{config:a}=t;o();let{app:s}=t,{granularity:l}=t,c,u;function p(){r(3,u=Ci(s,c.value))}function f(){r(3,u="")}le(()=>{r(3,u=Ci(s,c.value)),new wn(s,c)});function d(){n.folder=this.value,a.set(n)}function _(m){se[m?"unshift":"push"](()=>{c=m,r(2,c)})}return e.$$set=m=>{"config"in m&&o(r(0,a=m.config)),"app"in m&&r(7,s=m.app),"granularity"in m&&r(1,l=m.granularity)},[a,l,c,u,n,p,f,s,d,_]}var co=class extends N{constructor(t){super(),j(this,t,KS,YS,I,{config:0,app:7,granularity:1},$S)}},$d=co;function Sn(e,t,r,n){var i,o,a=!0,s="withOld"in r,l=(v,y)=>{if(i=y,s&&(o=v),a){let b=t(v,y);if(t.length<2)y(b);else return b}},c=na(e,l,n),u=!Array.isArray(e),p=v=>{a=!1,u?e.set(v):v.forEach((y,b)=>{e[b].set(y)}),a=!0};s&&(r=r.withOld);var f=r.length>=(s?3:2),d=null;function _(v){if(d&&(d(),d=null),s)var y=r(v,o,p);else var y=r(v,p);f?typeof y=="function"&&(d=y):p(y)}var m=!1;function h(v){var y,b,w,E;if(m){E=v(qe(c)),i(E);return}var P=c.subscribe(M=>{m?y?b=!0:y=!0:w=M});E=v(w),m=!0,i(E),P(),m=!1,b&&(E=qe(c)),y&&_(E)}return{subscribe:c.subscribe,set(v){h(()=>v)},update:h}}function ZS(e){let t,r;return t=new on({props:{slot:"control",isEnabled:e[3].openAtStartup,onChange:e[4]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&8&&(o.isEnabled=n[3].openAtStartup),i&10&&(o.onChange=n[4]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function XS(e){let t,r;return t=new nn({props:{name:"Open on startup",description:`Opens your ${K[e[2]].periodicity} note automatically whenever you open this vault`,type:"toggle",isHeading:!1,$$slots:{control:[ZS]},$$scope:{ctx:e}}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,[i]){let o={};i&4&&(o.description=`Opens your ${K[n[2]].periodicity} note automatically whenever you open this vault`),i&42&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function QS(e,t,r){let n,i=q,o=()=>(i(),i=fe(a,u=>r(3,n=u)),a);e.$$.on_destroy.push(()=>i());let{config:a}=t;o();let{settings:s}=t,{granularity:l}=t,c=u=>{s.update(kp),Kt(a,n.openAtStartup=u,n)};return e.$$set=u=>{"config"in u&&o(r(0,a=u.config)),"settings"in u&&r(1,s=u.settings),"granularity"in u&&r(2,l=u.granularity)},[a,s,l,n,c]}var uo=class extends N{constructor(t){super(),j(this,t,QS,XS,I,{config:0,settings:1,granularity:2})}},Yd=uo;function JS(e){U(e,"svelte-165itr7",".periodic-group-title.svelte-165itr7.svelte-165itr7{display:flex}.badge.svelte-165itr7.svelte-165itr7{font-style:italic;margin-left:1em;color:var(--text-muted);font-weight:500;font-size:70%}.periodic-group.svelte-165itr7.svelte-165itr7{background:var(--background-primary-alt);border:1px solid var(--background-modifier-border);border-radius:16px}.periodic-group.svelte-165itr7.svelte-165itr7:not(:last-of-type){margin-bottom:24px}.periodic-group-heading.svelte-165itr7.svelte-165itr7{cursor:pointer;padding:24px}.periodic-group-heading.svelte-165itr7 h3.svelte-165itr7{font-size:1.1em;margin:0}.periodic-group-content.svelte-165itr7.svelte-165itr7{padding:24px}")}function Kd(e){let t;return{c(){t=C("span"),t.textContent="Opens at startup",S(t,"class","badge svelte-165itr7")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function Zd(e){let t,r,n,i,o,a,s,l,c,u,p;return r=new wd({props:{config:e[6],granularity:e[1]}}),i=new Ud({props:{app:e[0],config:e[6],granularity:e[1]}}),a=new $d({props:{app:e[0],config:e[6],granularity:e[1]}}),l=new Yd({props:{config:e[6],settings:e[2],granularity:e[1]}}),{c(){t=C("div"),z(r.$$.fragment),n=k(),z(i.$$.fragment),o=k(),z(a.$$.fragment),s=k(),z(l.$$.fragment),S(t,"class","periodic-group-content svelte-165itr7")},m(f,d){T(f,t,d),B(r,t,null),x(t,n),B(i,t,null),x(t,o),B(a,t,null),x(t,s),B(l,t,null),p=!0},p(f,d){let _={};d&2&&(_.granularity=f[1]),r.$set(_);let m={};d&1&&(m.app=f[0]),d&2&&(m.granularity=f[1]),i.$set(m);let h={};d&1&&(h.app=f[0]),d&2&&(h.granularity=f[1]),a.$set(h);let v={};d&4&&(v.settings=f[2]),d&2&&(v.granularity=f[1]),l.$set(v)},i(f){p||(A(r.$$.fragment,f),A(i.$$.fragment,f),A(a.$$.fragment,f),A(l.$$.fragment,f),f&&be(()=>{u&&u.end(1),c=yt(t,dr,{duration:300}),c.start()}),p=!0)},o(f){F(r.$$.fragment,f),F(i.$$.fragment,f),F(a.$$.fragment,f),F(l.$$.fragment,f),c&&c.invalidate(),f&&(u=Ue(t,dr,{duration:300})),p=!1},d(f){f&&O(t),V(r),V(i),V(a),V(l),f&&u&&u.end()}}}function eC(e){let t,r,n,i,o,a,s=(0,Xd.default)(e[5].periodicity)+"",l,c,u,p,f,d,_,m,h,v;o=new rn({props:{isExpanded:e[3]}});let y=e[4].openAtStartup&&Kd(e),b=e[3]&&Zd(e);return{c(){t=C("div"),r=C("div"),n=C("div"),i=C("h3"),z(o.$$.fragment),a=k(),l=D(s),c=D(` Notes
        `),y&&y.c(),u=k(),p=C("div"),f=C("label"),d=C("input"),_=k(),b&&b.c(),S(i,"class","setting-item-name periodic-group-title svelte-165itr7"),S(n,"class","setting-item-info"),S(d,"type","checkbox"),Zo(d,"display","none"),S(f,"class","checkbox-container"),H(f,"is-enabled",e[4].enabled),S(p,"class","setting-item-control"),S(r,"class","setting-item setting-item-heading periodic-group-heading svelte-165itr7"),S(t,"class","periodic-group svelte-165itr7")},m(w,E){T(w,t,E),x(t,r),x(r,n),x(n,i),B(o,i,null),x(i,a),x(i,l),x(i,c),y&&y.m(i,null),x(r,u),x(r,p),x(p,f),x(f,d),d.checked=e[4].enabled,x(t,_),b&&b.m(t,null),m=!0,h||(v=[L(d,"change",e[10]),L(f,"click",Lr(e[9])),L(r,"click",e[7])],h=!0)},p(w,[E]){let P={};E&8&&(P.isExpanded=w[3]),o.$set(P),w[4].openAtStartup?y||(y=Kd(w),y.c(),y.m(i,null)):y&&(y.d(1),y=null),E&16&&(d.checked=w[4].enabled),E&16&&H(f,"is-enabled",w[4].enabled),w[3]?b?(b.p(w,E),E&8&&A(b,1)):(b=Zd(w),b.c(),A(b,1),b.m(t,null)):b&&(re(),F(b,1,1,()=>{b=null}),ne())},i(w){m||(A(o.$$.fragment,w),A(b),m=!0)},o(w){F(o.$$.fragment,w),F(b),m=!1},d(w){w&&O(t),V(o),y&&y.d(),b&&b.d(),h=!1,X(v)}}}function tC(e,t,r){let n,{app:i}=t,{calendarSetId:o}=t,{granularity:a}=t,{settings:s}=t,l=K[a],c=!1,u=Sn(s,m=>m.calendarSets.find(h=>h.id===o),{withOld(m,h){let v=h.calendarSets.findIndex(y=>y.id===o);return h.calendarSets[v]=m,h}}),p=Sn(u,m=>{var h;return(h=m==null?void 0:m[a])!==null&&h!==void 0?h:Ze},{withOld(m,h){return h[a]=m,h}});Fe(e,p,m=>r(4,n=m));function f(){r(3,c=!c)}function d(m){Jo.call(this,e,m)}function _(){n.enabled=this.checked,p.set(n)}return e.$$set=m=>{"app"in m&&r(0,i=m.app),"calendarSetId"in m&&r(8,o=m.calendarSetId),"granularity"in m&&r(1,a=m.granularity),"settings"in m&&r(2,s=m.settings)},[i,a,s,c,n,l,p,f,o,d,_]}var fo=class extends N{constructor(t){super(),j(this,t,tC,eC,I,{app:0,calendarSetId:8,granularity:1,settings:2},JS)}},Qd=fo;function rC(e){U(e,"svelte-1t6642d",".calendarset-titlebar.svelte-1t6642d.svelte-1t6642d{align-items:center;display:flex;justify-content:space-between;margin-top:12px}.calendarset-title.svelte-1t6642d.svelte-1t6642d{font-size:1.6em;min-width:100px}.calendarset-error.svelte-1t6642d.svelte-1t6642d{color:var(--text-error)}.calendarset-groups.svelte-1t6642d.svelte-1t6642d{margin-top:2em}.calendarset-toolbar.svelte-1t6642d.svelte-1t6642d{align-items:center;display:flex;gap:8px}.calendarset-toolbar.svelte-1t6642d .view-action.svelte-1t6642d{padding:2px}.active-calendarset-badge.svelte-1t6642d.svelte-1t6642d{background-color:var(--background-primary);border-radius:6px;border:1px solid var(--background-modifier-border);color:var(--text-accent);font-size:0.6em;font-weight:600;letter-spacing:0.25px;padding:0.2em 0.8em;text-transform:uppercase}")}function Jd(e,t,r){let n=e.slice();return n[16]=t[r],n}function em(e){let t;return{c(){t=C("div"),t.textContent="Active",S(t,"class","active-calendarset-badge svelte-1t6642d")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function tm(e){let t,r;return{c(){t=C("div"),r=D(e[7]),S(t,"class","calendarset-error svelte-1t6642d")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&128&&G(r,n[7])},d(n){n&&O(t)}}}function rm(e){let t,r;return t=new Qd({props:{app:e[0],granularity:e[16],settings:e[1],calendarSetId:e[2]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&2&&(o.settings=n[1]),i&4&&(o.calendarSetId=n[2]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function nC(e){let t,r,n,i,o,a,s,l,c,u,p,f,d=e[6]&&em(e),_=e[7]&&tm(e),m=ie,h=[];for(let y=0;y<m.length;y+=1)h[y]=rm(Jd(e,m,y));let v=y=>F(h[y],1,1,()=>{h[y]=null});return{c(){t=C("div"),r=C("div"),n=k(),i=C("div"),d&&d.c(),o=k(),a=C("div"),s=k(),_&&_.c(),l=k(),c=C("div");for(let y=0;y<h.length;y+=1)h[y].c();S(r,"class","calendarset-title svelte-1t6642d"),S(r,"contenteditable","true"),e[5]===void 0&&be(()=>e[11].call(r)),S(a,"class","view-action svelte-1t6642d"),S(i,"class","calendarset-toolbar svelte-1t6642d"),S(t,"class","calendarset-titlebar svelte-1t6642d"),S(c,"class","calendarset-groups svelte-1t6642d")},m(y,b){T(y,t,b),x(t,r),e[5]!==void 0&&(r.innerHTML=e[5]),e[12](r),x(t,n),x(t,i),d&&d.m(i,null),x(i,o),x(i,a),e[13](a),T(y,s,b),_&&_.m(y,b),T(y,l,b),T(y,c,b);for(let w=0;w<h.length;w+=1)h[w].m(c,null);u=!0,p||(f=[L(r,"input",e[11]),L(r,"blur",e[8]),L(r,"keypress",iC),L(a,"click",e[9])],p=!0)},p(y,[b]){if(b&32&&y[5]!==r.innerHTML&&(r.innerHTML=y[5]),y[6]?d||(d=em(y),d.c(),d.m(i,o)):d&&(d.d(1),d=null),y[7]?_?_.p(y,b):(_=tm(y),_.c(),_.m(l.parentNode,l)):_&&(_.d(1),_=null),b&7){m=ie;let w;for(w=0;w<m.length;w+=1){let E=Jd(y,m,w);h[w]?(h[w].p(E,b),A(h[w],1)):(h[w]=rm(E),h[w].c(),A(h[w],1),h[w].m(c,null))}for(re(),w=m.length;w<h.length;w+=1)v(w);ne()}},i(y){if(!u){for(let b=0;b<m.length;b+=1)A(h[b]);u=!0}},o(y){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)F(h[b]);u=!1},d(y){y&&O(t),e[12](null),d&&d.d(),e[13](null),y&&O(s),_&&_.d(y),y&&O(l),y&&O(c),ke(h,y),p=!1,X(f)}}}function iC(e){e.key==="Enter"&&(e.preventDefault(),e.target.blur())}function oC(e){e.focus();let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}function aC(e,t,r){let n,i,o=q,a=()=>(o(),o=fe(l,E=>r(15,i=E)),l);Fe(e,ge,E=>r(14,n=E)),e.$$.on_destroy.push(()=>o());let{app:s}=t,{settings:l}=t;a();let{manager:c}=t,{selectedCalendarSet:u}=t,p,f,d=u,_=u===c.getActiveId(),m="";function h(E){let P=E.target.innerHTML.trim();try{c.renameCalendarset(u,P),ge.navigate(["Periodic Notes",P])}catch(M){r(7,m=M.toString()),E.target.focus()}}function v(E){let P=new Cn.Menu(s);_||P.addItem(M=>M.setTitle("Set as active").setIcon("check-circle-2").onClick(()=>{l.update(Ke(u)),r(6,_=!0)})).addSeparator(),P.addItem(M=>M.setTitle("Duplicate calendar set").setIcon("copy").onClick(()=>{let R=c.getCalendarSets().find(ae=>ae.id===u),ee=`${u} copy`;l.update(De(ee,R)),ge.navigate(["Periodic Notes",ee],{shouldRename:!0})})).addItem(M=>M.setTitle("Delete calendar set").setIcon("x").setDisabled(c.getCalendarSets().length===1).onClick(()=>{cn(u)(i),ge.navigate(["Periodic Notes"])})).showAtMouseEvent(E)}le(()=>{(0,Cn.setIcon)(f,"more-vertical",18),document.getElementsByClassName("vertical-tab-content")[0].scroll(0,0),n.eState.shouldRename&&oC(p)});function y(){d=this.innerHTML,r(5,d)}function b(E){se[E?"unshift":"push"](()=>{p=E,r(3,p)})}function w(E){se[E?"unshift":"push"](()=>{f=E,r(4,f)})}return e.$$set=E=>{"app"in E&&r(0,s=E.app),"settings"in E&&a(r(1,l=E.settings)),"manager"in E&&r(10,c=E.manager),"selectedCalendarSet"in E&&r(2,u=E.selectedCalendarSet)},[s,l,u,p,f,d,_,m,h,v,c,y,b,w]}var po=class extends N{constructor(t){super(),j(this,t,aC,nC,I,{app:0,settings:1,manager:10,selectedCalendarSet:2},rC)}},nm=po;function sC(e){let t,r;return t=new bd({props:{app:e[0],settings:e[2],manager:e[1]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&4&&(o.settings=n[2]),i&2&&(o.manager=n[1]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function lC(e){let t=e[3].path[1],r,n,i=im(e);return{c(){i.c(),r=Le()},m(o,a){i.m(o,a),T(o,r,a),n=!0},p(o,a){a&8&&I(t,t=o[3].path[1])?(re(),F(i,1,1,q),ne(),i=im(o),i.c(),A(i),i.m(r.parentNode,r)):i.p(o,a)},i(o){n||(A(i),n=!0)},o(o){F(i),n=!1},d(o){o&&O(r),i.d(o)}}}function im(e){let t,r;return t=new nm({props:{app:e[0],settings:e[2],manager:e[1],selectedCalendarSet:e[3].path[1]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&4&&(o.settings=n[2]),i&2&&(o.manager=n[1]),i&8&&(o.selectedCalendarSet=n[3].path[1]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function cC(e){let t,r,n,i,o,a;t=new pf({});let s=[lC,sC],l=[];function c(u,p){return u[3].path.length>1?0:1}return n=c(e,-1),i=l[n]=s[n](e),{c(){z(t.$$.fragment),r=k(),i.c(),o=Le()},m(u,p){B(t,u,p),T(u,r,p),l[n].m(u,p),T(u,o,p),a=!0},p(u,[p]){let f=n;n=c(u,p),n===f?l[n].p(u,p):(re(),F(l[f],1,1,()=>{l[f]=null}),ne(),i=l[n],i?i.p(u,p):(i=l[n]=s[n](u),i.c()),A(i,1),i.m(o.parentNode,o))},i(u){a||(A(t.$$.fragment,u),A(i),a=!0)},o(u){F(t.$$.fragment,u),F(i),a=!1},d(u){V(t,u),u&&O(r),l[n].d(u),u&&O(o)}}}function uC(e,t,r){let n;Fe(e,ge,s=>r(3,n=s));let{app:i}=t,{manager:o}=t,{settings:a}=t;return Wn(()=>{ge.reset()}),e.$$set=s=>{"app"in s&&r(0,i=s.app),"manager"in s&&r(1,o=s.manager),"settings"in s&&r(2,a=s.settings)},[i,o,a,n]}var mo=class extends N{constructor(t){super(),j(this,t,uC,cC,I,{app:0,manager:1,settings:2})}},om=mo;var sm={installedVersion:"1.0.0-beta1",activeCalendarSet:Re,showGettingStartedBanner:!0,hasMigratedDailyNoteSettings:!1,hasMigratedWeeklyNoteSettings:!1,calendarSets:[],enableTimelineComplication:!0},Ze=Object.freeze({enabled:!1,openAtStartup:!1,format:"",templatePath:"",folder:""}),En=class extends am.PluginSettingTab{constructor(r,n){super(r,n);this.app=r;this.plugin=n;this.plugin=n}display(){this.containerEl.empty(),this.view=new om({target:this.containerEl,props:{app:this.app,manager:this.plugin.calendarSetManager,settings:this.plugin.settings}})}hide(){super.hide(),this.view.$destroy()}};function Pn(e){return mt.Platform.isMacOS?e.metaKey:e.ctrlKey}function fC(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;){let n=r.shift();n&&r.push(n),t--}return r}function pC(e){return fC().indexOf(e.toLowerCase())}function go(e,t,r,n,i){let o=i;return o=i.replace(/{{\s*date\s*}}/gi,e).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,e),t==="day"&&(o=o.replace(/{{\s*yesterday\s*}}/gi,r.clone().subtract(1,"day").format(n)).replace(/{{\s*tomorrow\s*}}/gi,r.clone().add(1,"d").format(n)).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="week"&&(o=o.replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(a,s,l)=>{let c=pC(s);return r.weekday(c).format(l.trim())})),t==="month"&&(o=o.replace(/{{\s*(month)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("month").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="quarter"&&(o=o.replace(/{{\s*(quarter)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("quarter").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="year"&&(o=o.replace(/{{\s*(year)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("year").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),o}function pr(e,t){var r;return((r=e[t])==null?void 0:r.format)||we[t]}function lm(e,t){var i;let r=(i=e[t])==null?void 0:i.format;if(!r)return[we[t]];let n=/[^/]*$/.exec(r);if(n){let o=n[0];return[r,o]}return[r]}function cm(e,t){var r;return((r=e[t])==null?void 0:r.folder)||"/"}function sf(e,t){var r;return(r=e[t])!=null?r:Ze}function um(e,t,r,n){return te(this,null,function*(){var s;let i=pr(r,n.granularity),o=yield ho(e,(s=r[n.granularity])==null?void 0:s.templatePath),a=go(t.basename,n.granularity,n.date,i,o);return e.vault.modify(t,a)})}function ho(e,t){return te(this,null,function*(){let{metadataCache:r,vault:n}=e,i=(0,mt.normalizePath)(t!=null?t:"");if(t==="/")return Promise.resolve("");try{let o=r.getFirstLinkpathDest(i,"");return o?n.cachedRead(o):""}catch(o){return console.error(`Failed to read the daily note template '${i}'`,o),new mt.Notice("Failed to read the daily note template"),""}})}function fm(e,t,r){return te(this,null,function*(){var a;let n=(a=r.folder)!=null?a:"",i=t.endsWith(".md")?t:`${t}.md`,o=(0,mt.normalizePath)(On(n,i));return yield dC(e,o),o})}function On(...e){let t=[];for(let n=0,i=e.length;n<i;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,i=t.length;n<i;n++){let o=t[n];!o||o==="."||r.push(o)}return t[0]===""&&r.unshift(""),r.join("/")}function dC(e,t){return te(this,null,function*(){let r=t.replace(/\\/g,"/").split("/");if(r.pop(),r.length){let n=On(...r);e.vault.getAbstractFileByPath(n)||(yield e.vault.createFolder(n))}})}function Nt(e,t){if(e=="week"){let r=window.moment().startOf(e),n=window.moment(t).diff(r,"week");return n===0?"This week":n===-1?"Last week":n===1?"Next week":window.moment.duration(n,e).humanize(!0)}else if(e==="day"){let r=window.moment().startOf("day"),n=window.moment(t).from(r);return window.moment(t).calendar(null,{lastWeek:"[Last] dddd",lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",sameElse:function(){return"["+n+"]"}})}else return t.format(Ju[e])}function pm(e){let t=en(e);return/w{1,2}/.test(t)}function mC(e,t){let r=ie.indexOf(e),n=ie.indexOf(t);return r===n?0:r<n?-1:1}function vo(e,t){return t.toISOString()}var Tn=class extends Ne.Component{constructor(r,n){super();this.app=r;this.plugin=n;this.cachedFiles=new Map,this.app.workspace.onLayoutReady(()=>{console.info("[Periodic Notes] initializing cache"),this.initialize(),this.registerEvent(this.app.vault.on("create",this.resolve,this)),this.registerEvent(this.app.vault.on("rename",this.resolveRename,this)),this.registerEvent(this.app.metadataCache.on("changed",this.resolveChangedMetadata,this)),this.registerEvent(this.app.workspace.on("periodic-notes:settings-updated",this.reset,this))})}reset(){console.info("[Periodic Notes] reseting cache"),this.cachedFiles.clear(),this.initialize()}initialize(){let r=(0,dm.default)((n,i)=>{if(!!n)for(let o of n.children)o instanceof Ne.TFile?i(o):o instanceof Ne.TFolder&&r(o,i)});for(let n of this.plugin.calendarSetManager.getCalendarSets()){let i=ie.filter(o=>{var a;return(a=n[o])==null?void 0:a.enabled});for(let o of i){let a=n[o],s=this.app.vault.getAbstractFileByPath(a.folder||"/");r(s,l=>{if(l instanceof Ne.TFile){this.resolve(l,"initialize");let c=app.metadataCache.getFileCache(l);c&&this.resolveChangedMetadata(l,"",c)}})}}}resolveChangedMetadata(r,n,i){var a;let o=this.plugin.calendarSetManager;e:for(let s of o.getCalendarSets()){let l=ie.filter(c=>{var u;return(u=s[c])==null?void 0:u.enabled});if(l.length===0)continue e;t:for(let c of l){let u=((a=s[c])==null?void 0:a.folder)||"";if(!r.path.startsWith(u))continue t;let p=(0,Ne.parseFrontMatterEntry)(i.frontmatter,c);if(!p)continue t;let f=we[c],d;if(typeof p=="string"){d=window.moment(p,f,!0),d.isValid()&&this.set(s.id,r.path,{calendarSet:s.id,filePath:r.path,date:d,granularity:c,canonicalDateStr:vo(c,d),matchData:{exact:!0,matchType:"frontmatter"}});continue e}}}}resolveRename(r,n){for(let[,i]of this.cachedFiles)r instanceof Ne.TFile&&(i.delete(n),this.resolve(r,"rename"))}resolve(r,n="create"){var o,a;let i=this.plugin.calendarSetManager;e:for(let s of i.getCalendarSets()){let l=ie.filter(p=>{var f;return(f=s[p])==null?void 0:f.enabled});if(l.length===0)continue e;let c=(o=this.cachedFiles.get(s.id))==null?void 0:o.get(r.path);if(c&&c.matchData.matchType==="frontmatter")continue e;t:for(let p of l){let f=((a=s[p])==null?void 0:a.folder)||"";if(!r.path.startsWith(f))continue t;let d=lm(s,p),_=rf(r,d[0],p),m=window.moment(_,d,!0);if(m.isValid()){let h={calendarSet:s.id,filePath:r.path,date:m,granularity:p,canonicalDateStr:vo(p,m),matchData:{exact:!0,matchType:"filename"}};this.set(s.id,r.path,h),n==="create"&&r.stat.size===0&&um(app,r,s,h),this.app.workspace.trigger("periodic-notes:resolve",p,r);continue e}}let u=ef(r.basename);if(u){this.set(s.id,r.path,{calendarSet:s.id,filePath:r.path,date:u.date,granularity:u.granularity,canonicalDateStr:vo(u.granularity,u.date),matchData:{exact:!1,matchType:"filename"}}),this.app.workspace.trigger("periodic-notes:resolve",u.granularity,r);continue}}}getPeriodicNote(r,n,i){let o=this.cachedFiles.get(r);if(o){for(let[a,s]of o)if(s.granularity===n&&s.matchData.exact===!0&&s.date.isSame(i,n))return this.app.vault.getAbstractFileByPath(a)}return null}getPeriodicNotes(r,n,i,o=!1){let a=[],s=this.cachedFiles.get(r);if(s)for(let[,l]of s)(n===l.granularity||o&&mC(l.granularity,n)<=0)&&l.date.isSame(i,n)&&a.push(l);return a}set(r,n,i){let o=this.cachedFiles.get(r);o||(o=new Map,this.cachedFiles.set(r,o)),o.set(n,i)}isPeriodic(r,n){for(let[,i]of this.cachedFiles){let o=i.get(r);if(!!o&&(!n||n&&n===o.granularity))return!0}return!1}find(r,n){var a;if(!r)return null;if(n){let s=this.cachedFiles.get(n);return(a=s==null?void 0:s.get(r))!=null?a:null}let i=this.cachedFiles.get(this.plugin.calendarSetManager.getActiveId()),o=i==null?void 0:i.get(r);if(o)return o;for(let[,s]of this.cachedFiles){let l=s.get(r);if(l)return l}return null}findAdjacent(r,n,i){var p,f;let o=this.find(n,r);if(!o)return null;let a=o.granularity,s=(f=(p=this.cachedFiles.get(r))==null?void 0:p.values())!=null?f:[],l=(0,mm.default)(Array.from(s).filter(d=>d.granularity===a),["canonicalDateStr"]),c=l.findIndex(d=>d.filePath===n);return l[c+(i==="forwards"?1:-1)]}};var gm=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M55.2539 79.0024H49.3613V55.3319C49.3613 52.5068 49.4282 50.2668 49.5619 48.6119C49.1775 49.0131 48.701 49.4561 48.1327 49.9408C47.581 50.4256 45.7088 51.9635 42.516 54.5546L39.5571 50.8185L50.3393 42.3432H55.2539V79.0024Z" fill="currentColor"/>
</g>
`,hm=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M42.8799 78.3604L56.5679 48.6873H38.5698V43.7852H62.512V47.669L48.895 78.3604H42.8799Z" fill="currentColor"/>
</g>
`,vm=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M51.3075 52.8546C51.3075 54.9201 50.7057 56.6437 49.5022 58.0256C48.2986 59.3926 46.6046 60.3139 44.4204 60.7894V60.9677C47.0356 61.2946 48.9969 62.1118 50.3045 63.4194C51.6121 64.7122 52.2659 66.4358 52.2659 68.5904C52.2659 71.7257 51.1589 74.1477 48.9449 75.8565C46.7309 77.5504 43.5808 78.3974 39.4946 78.3974C35.8838 78.3974 32.8377 77.8105 30.3562 76.6366V71.9783C31.7381 72.6618 33.2018 73.1893 34.7471 73.5608C36.2924 73.9322 37.7784 74.118 39.2048 74.118C41.7309 74.118 43.618 73.6499 44.8661 72.7138C46.1143 71.7777 46.7384 70.3289 46.7384 68.3675C46.7384 66.629 46.0474 65.3511 44.6655 64.5339C43.2836 63.7166 41.1142 63.308 38.1573 63.308H35.3266V59.0509H38.2018C43.4025 59.0509 46.0028 57.2529 46.0028 53.657C46.0028 52.2603 45.5496 51.183 44.6432 50.4252C43.7368 49.6674 42.3995 49.2885 40.6313 49.2885C39.398 49.2885 38.2093 49.4668 37.0651 49.8234C35.921 50.1652 34.5688 50.8412 33.0086 51.8517L30.4454 48.1963C33.4321 45.9972 36.9017 44.8976 40.8542 44.8976C44.138 44.8976 46.7012 45.6034 48.5437 47.015C50.3863 48.4266 51.3075 50.3732 51.3075 52.8546Z" fill="currentColor"/>
<path d="M69.6199 77.9516H64.382V56.9112C64.382 54.4 64.4415 52.4089 64.5603 50.9378C64.2186 51.2944 63.7951 51.6882 63.2899 52.1191C62.7995 52.55 61.1353 53.9171 58.2972 56.2202L55.6672 52.8992L65.2513 45.3657H69.6199V77.9516Z" fill="currentColor"/>
</g>
`,ym=`
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.768 3C22.634 3 20.888 4.746 20.888 6.88V10.76H9.24804C7.21104 10.76 5.36804 12.312 5.36804 14.543V92.628C5.36804 93.695 6.04704 94.859 6.82304 95.344C7.59904 95.926 8.37504 96.12 9.24804 96.12H90.728C91.601 96.12 92.377 95.926 93.153 95.344C93.929 94.762 94.608 93.695 94.608 92.628V14.543C94.608 12.506 92.959 10.76 90.922 10.76H79.088V6.88C79.088 4.746 77.342 3 75.208 3H71.328C69.194 3 67.448 4.746 67.448 6.88V10.76H32.528V6.88C32.528 4.746 30.782 3 28.648 3H24.768ZM24.768 6.88H28.648V18.52H24.768V6.88ZM71.328 6.88H75.208V18.52H71.328V6.88ZM9.24804 14.64H20.888V18.52C20.888 20.654 22.634 22.4 24.768 22.4H28.648C30.782 22.4 32.528 20.654 32.528 18.52V14.64H67.448V18.52C67.448 20.654 69.194 22.4 71.328 22.4H75.208C77.342 22.4 79.088 20.654 79.088 18.52V14.64H90.728V28.22H9.24804V14.64ZM9.24804 32.1H90.728V92.24H9.24804V32.1Z" fill="currentColor" stroke="currentColor" stroke-width="0.17"/>
<path d="M63.2498 61.614C63.2498 65.5665 62.492 68.8949 60.9764 71.5993C59.4756 74.3036 57.2839 76.2056 54.4012 77.3052L62.2022 85.708H55.0253L48.8737 78.3973H48.0044C43.086 78.3973 39.3044 76.9411 36.6595 74.0287C34.0294 71.1015 32.7144 66.9484 32.7144 61.5694C32.7144 56.1904 34.0369 52.0596 36.6818 49.1769C39.3416 46.2943 43.1306 44.853 48.049 44.853C52.893 44.853 56.6375 46.3166 59.2824 49.2438C61.9273 52.171 63.2498 56.2944 63.2498 61.614ZM38.3757 61.614C38.3757 65.6259 39.1855 68.672 40.8052 70.7523C42.4248 72.8177 44.8246 73.8504 48.0044 73.8504C51.1694 73.8504 53.5543 72.8251 55.159 70.7746C56.7787 68.724 57.5885 65.6705 57.5885 61.614C57.5885 57.6169 56.7861 54.5856 55.1813 52.5202C53.5914 50.4548 51.214 49.4221 48.049 49.4221C44.8543 49.4221 42.4397 50.4548 40.8052 52.5202C39.1855 54.5856 38.3757 57.6169 38.3757 61.614Z" fill="currentColor"/>
</svg>
`,_m=`
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.768 3C22.634 3 20.888 4.746 20.888 6.88V10.76H9.24804C7.21104 10.76 5.36804 12.312 5.36804 14.543V92.628C5.36804 93.695 6.04704 94.859 6.82304 95.344C7.59904 95.926 8.37504 96.12 9.24804 96.12H90.728C91.601 96.12 92.377 95.926 93.153 95.344C93.929 94.762 94.608 93.695 94.608 92.628V14.543C94.608 12.506 92.959 10.76 90.922 10.76H79.088V6.88C79.088 4.746 77.342 3 75.208 3H71.328C69.194 3 67.448 4.746 67.448 6.88V10.76H32.528V6.88C32.528 4.746 30.782 3 28.648 3H24.768ZM24.768 6.88H28.648V18.52H24.768V6.88ZM71.328 6.88H75.208V18.52H71.328V6.88ZM9.24804 14.64H20.888V18.52C20.888 20.654 22.634 22.4 24.768 22.4H28.648C30.782 22.4 32.528 20.654 32.528 18.52V14.64H67.448V18.52C67.448 20.654 69.194 22.4 71.328 22.4H75.208C77.342 22.4 79.088 20.654 79.088 18.52V14.64H90.728V28.22H9.24804V14.64ZM9.24804 32.1H90.728V92.24H9.24804V32.1Z" fill="currentColor" stroke="currentColor" stroke-width="0.17"/>
<path d="M49.2303 60.2321L56.9421 45.3656H62.7371L51.8826 65.3139V77.9515H46.5333V65.4922L35.7234 45.3656H41.5184L49.2303 60.2321Z" fill="currentColor"/>
</svg>
`;var yo=require("obsidian");function bm(e,t,r){let n=new yo.Menu(e);t.calendarSetManager.getActiveGranularities().forEach(i=>{let o=K[i];n.addItem(a=>a.setTitle(o.labelOpenPresent).setIcon(`calendar-${i}`).onClick(()=>{t.openPeriodicNote(i,window.moment())}))}),n.showAtPosition(r)}var wm=require("obsidian");var An=class extends wm.FuzzySuggestModal{constructor(r,n){super(r);this.plugin=n}getItemText(r){return r.toString()}getItems(){return this.plugin.calendarSetManager.getCalendarSets()}renderSuggestion(r,n){n.createDiv({text:r.item.id})}onChooseItem(r,n){return te(this,null,function*(){this.plugin.settings.update(Ke(r.id))})}};var xr=require("obsidian");var Lt=require("obsidian");var gC=[{command:"*",purpose:"show all notes within this period"},{command:"\u21B5",purpose:"to open"},{command:"ctrl \u21B5",purpose:"to open in a new pane"},{command:"esc",purpose:"to dismiss"}],Mn=class extends Lt.SuggestModal{constructor(r,n,i,o){var a;super(r);this.app=r;this.plugin=n;this.selectedItem=i;this.oldQuery=o;this.includeFinerGranularities=!1,this.setInstructions(gC),this.setPlaceholder(`Search notes related to ${i.label}...`),(a=this.inputEl.parentElement)==null||a.prepend(createDiv("periodic-notes-switcher-input-container",s=>{s.appendChild(this.inputEl),this.inputLabel=s.createDiv({cls:"related-notes-mode-indicator",text:"Expanded"}),this.inputLabel.toggleVisibility(!1)})),this.scope.register([],"Tab",s=>{s.preventDefault(),this.close();let l=new jt(this.app,this.plugin);l.open(),l.inputEl.value=o,l.inputEl.dispatchEvent(new Event("input"))}),this.scope.register(["Shift"],"8",s=>{s.preventDefault(),this.includeFinerGranularities=!this.includeFinerGranularities,this.inputLabel.style.visibility=this.includeFinerGranularities?"visible":"hidden",this.inputEl.dispatchEvent(new Event("input"))})}getDatePrefixedNotes(r,n){return this.plugin.getPeriodicNotes(r.granularity,r.date,this.includeFinerGranularities).filter(i=>i.matchData.exact===!1).filter(i=>i.filePath.toLocaleLowerCase().includes(n.toLocaleLowerCase())).map(i=>({label:i.filePath,date:i.date,granularity:i.granularity,matchData:i.matchData}))}getSuggestions(r){return this.getDatePrefixedNotes(this.selectedItem,r)}renderSuggestion(r,n){n.setText(r.label),n.createEl("div",{cls:"suggestion-note",text:r.date.format(we[r.granularity])}),n.createEl("span",{cls:"suggestion-flair",prepend:!0},i=>{(0,Lt.setIcon)(i,`calendar-${r.granularity}`,16)})}onChooseSuggestion(r,n){return te(this,null,function*(){let i=this.app.vault.getAbstractFileByPath(r.label);i&&i instanceof Lt.TFile&&(yield(n.shiftKey?this.app.workspace.splitActiveLeaf():this.app.workspace.getUnpinnedLeaf()).openFile(i,{active:!0}))})}};var hC=[{command:"\u21E5",purpose:"show related files"},{command:"\u21B5",purpose:"to open"},{command:"ctrl \u21B5",purpose:"to open in a new pane"},{command:"esc",purpose:"to dismiss"}],jt=class extends xr.SuggestModal{constructor(r,n){super(r);this.app=r;this.plugin=n;this.setInstructions(hC),this.setPlaceholder("Type date to find related notes"),this.nlDatesPlugin=r.plugins.getPlugin("nldates-obsidian"),this.scope.register(["Meta"],"Enter",i=>{this.chooser.useSelectedItem(i)}),this.scope.register([],"Tab",i=>{i.preventDefault(),this.close(),new Mn(this.app,this.plugin,this.getSelectedItem(),this.inputEl.value).open()})}getSelectedItem(){return this.chooser.values[this.chooser.selectedItem]}getPeriodicNotesFromQuery(r,n){let i="day",o=/\b(week|month|quarter|year)s?\b/.exec(r);o&&(i=o[1]);let a="";if(i==="week"){let l=this.plugin.calendarSetManager.getFormat("week"),c=pm(l)?"WW":"ww";a=n.format(`GGGG [Week] ${c}`)}else i==="day"?a=`${Nt(i,n)}, ${n.format("MMMM DD")}`:a=r;let s=[{label:a,date:n,granularity:i}];return i!=="day"&&s.push({label:`${Nt(i,n)}, ${n.format("MMMM DD")}`,date:n,granularity:"day"}),s}getSuggestions(r){let n=this.nlDatesPlugin.parseDate(r),i=this.getDateSuggestions(r);return i.length?i:n.moment.isValid()?this.getPeriodicNotesFromQuery(r,n.moment):[]}getDateSuggestions(r){let n=this.plugin.calendarSetManager.getActiveGranularities(),i=(s,l)=>{let c=this.nlDatesPlugin.parseDate(s);return{granularity:l,date:c.moment,label:s}},o=r.match(/(next|last|this)/i);if(o){let s=o[1];return[i(`${s} Sunday`,"day"),i(`${s} Monday`,"day"),i(`${s} Tuesday`,"day"),i(`${s} Wednesday`,"day"),i(`${s} Thursday`,"day"),i(`${s} Friday`,"day"),i(`${s} Saturday`,"day"),i(`${s} week`,"week"),i(`${s} month`,"month"),i(`${s} year`,"year")].filter(l=>n.includes(l.granularity)).filter(l=>l.label.toLowerCase().startsWith(r))}let a=r.match(/^in ([+-]?\d+)/i)||r.match(/^([+-]?\d+)/i);if(a){let s=a[1];return[i(`in ${s} days`,"day"),i(`in ${s} weeks`,"day"),i(`in ${s} weeks`,"week"),i(`in ${s} months`,"month"),i(`in ${s} years`,"day"),i(`in ${s} years`,"year"),i(`${s} days ago`,"day"),i(`${s} weeks ago`,"day"),i(`${s} weeks ago`,"week"),i(`${s} months ago`,"month"),i(`${s} years ago`,"day"),i(`${s} years ago`,"year")].filter(l=>n.includes(l.granularity)).filter(l=>l.label.toLowerCase().startsWith(r))}return[i("today","day"),i("yesterday","day"),i("tomorrow","day"),i("this week","week"),i("last week","week"),i("next week","week"),i("this month","month"),i("last month","month"),i("next month","month"),i("this year","year"),i("last year","year"),i("next year","year")].filter(s=>n.includes(s.granularity)).filter(s=>s.label.toLowerCase().startsWith(r))}renderSuggestion(r,n){var l,c;let i=this.plugin.getPeriodicNotes(r.granularity,r.date).filter(u=>u.matchData.exact===!1).length,o=this.plugin.getPeriodicNote(r.granularity,r.date);if(!o){let u=this.plugin.calendarSetManager.getActiveSet(),p=pr(u,r.granularity),f=cm(u,r.granularity);n.setText(r.label),n.createEl("span",{cls:"suggestion-flair",prepend:!0},d=>{(0,xr.setIcon)(d,"add-note-glyph",16)}),i>0&&n.createEl("span",{cls:"suggestion-badge",text:`+${i}`}),n.createEl("div",{cls:"suggestion-note",text:On(f,r.date.format(p))});return}let a=(c=(l=this.app.workspace.getActiveFile())==null?void 0:l.path)!=null?c:"",s=this.app.metadataCache.fileToLinktext(o,a,!0);n.setText(r.label),n.createEl("div",{cls:"suggestion-note",text:s}),n.createEl("span",{cls:"suggestion-flair",prepend:!0},u=>{(0,xr.setIcon)(u,`calendar-${r.granularity}`,16)}),i>0&&n.createEl("span",{cls:"suggestion-badge",text:`+${i}`})}onChooseSuggestion(r,n){return te(this,null,function*(){this.plugin.openPeriodicNote(r.granularity,r.date,{inNewSplit:Pn(n)})})}};var eg=require("obsidian");var Gm=nt(Bm(),1),{__extends:UA,__assign:WA,__rest:$A,__decorate:YA,__param:KA,__metadata:ZA,__awaiter:zm,__generator:XA,__exportStar:QA,__createBinding:JA,__values:eM,__read:tM,__spread:rM,__spreadArrays:nM,__spreadArray:iM,__await:oM,__asyncGenerator:aM,__asyncDelegator:sM,__asyncValues:lM,__makeTemplateObject:cM,__importStar:uM,__importDefault:fM,__classPrivateFieldGet:pM,__classPrivateFieldSet:dM}=Gm.default;var SM=require("obsidian");var Um=require("obsidian");function vC(e){let t;return{c(){t=C("span")},m(r,n){T(r,t,n),e[1](t)},p:q,i:q,o:q,d(r){r&&O(t),e[1](null)}}}function yC(e,t,r){let n;le(()=>{(0,Um.setIcon)(n,"forward-arrow",12)});function i(o){se[o?"unshift":"push"](()=>{n=o,r(0,n)})}return[n,i]}var bo=class extends N{constructor(t){super(),j(this,t,yC,vC,I,{})}},Wm=bo;function _C(e){U(e,"svelte-ilz3jn",".timeline-container.svelte-ilz3jn.svelte-ilz3jn{align-items:flex-end;flex-direction:column;display:flex;gap:12px;height:56px;position:absolute;right:26px;top:56px;z-index:1}.native-scrollbars .timeline-container.svelte-ilz3jn.svelte-ilz3jn{right:16px}.leaf-periodic-button.svelte-ilz3jn.svelte-ilz3jn{background:var(--background-secondary);border-radius:6px;border:1px solid transparent;box-shadow:0 0 1px var(--background-modifier-box-shadow);color:var(--text-accent);cursor:pointer;font-size:0.7em;font-weight:600;letter-spacing:0.4px;padding:0.3em 0.9em;text-transform:uppercase;transition:0.2s border-color ease-in}.leaf-periodic-button.svelte-ilz3jn.svelte-ilz3jn:hover{border-color:var(--background-modifier-border)}.timeline-view.svelte-ilz3jn.svelte-ilz3jn{display:flex;background-color:var(--background-primary);gap:6px}.timeline-weekday.svelte-ilz3jn.svelte-ilz3jn{display:flex;font-size:0.7em;flex-direction:column;text-align:center}.timeline-day.svelte-ilz3jn.svelte-ilz3jn{border:1px solid transparent;border-radius:50%;height:28px;line-height:26px;width:28px}.timeline-day.svelte-ilz3jn.svelte-ilz3jn:hover{border-color:var(--background-modifier-border)}.is-selected.svelte-ilz3jn .timeline-day.svelte-ilz3jn{background-color:var(--background-secondary)}.is-today.svelte-ilz3jn .timeline-day.svelte-ilz3jn{color:var(--text-accent);font-weight:600}.timeline-day-of-week.svelte-ilz3jn.svelte-ilz3jn{color:var(--text-muted);font-size:0.9em;font-weight:600;letter-spacing:0.2px}.is-selected.svelte-ilz3jn .timeline-day-of-week.svelte-ilz3jn{color:var(--text-normal)}")}function $m(e,t,r){let n=e.slice();return n[17]=t[r],n}function Ym(e){let t,r,n,i,o,a,s,l,c=e[0].matchData.exact===!1&&Km(e),u=e[1]&&Zm(e);return{c(){t=C("div"),r=C("div"),c&&c.c(),n=k(),i=D(e[3]),o=k(),u&&u.c(),S(r,"class","leaf-periodic-button svelte-ilz3jn"),S(t,"class","timeline-container svelte-ilz3jn")},m(p,f){T(p,t,f),x(t,r),c&&c.m(r,null),x(r,n),x(r,i),x(t,o),u&&u.m(t,null),a=!0,s||(l=L(r,"click",e[8]),s=!0)},p(p,f){p[0].matchData.exact===!1?c?f&1&&A(c,1):(c=Km(p),c.c(),A(c,1),c.m(r,n)):c&&(re(),F(c,1,1,()=>{c=null}),ne()),(!a||f&8)&&G(i,p[3]),p[1]?u?(u.p(p,f),f&2&&A(u,1)):(u=Zm(p),u.c(),A(u,1),u.m(t,null)):u&&(re(),F(u,1,1,()=>{u=null}),ne())},i(p){a||(A(c),A(u),a=!0)},o(p){F(c),F(u),a=!1},d(p){p&&O(t),c&&c.d(),u&&u.d(),s=!1,l()}}}function Km(e){let t,r;return t=new Wm({}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function Zm(e){let t,r,n,i,o=e[2],a=[];for(let s=0;s<o.length;s+=1)a[s]=Xm($m(e,o,s));return{c(){t=C("div");for(let s=0;s<a.length;s+=1)a[s].c();S(t,"class","timeline-view svelte-ilz3jn")},m(s,l){T(s,t,l);for(let c=0;c<a.length;c+=1)a[c].m(t,null);i=!0},p(s,l){if(l&165){o=s[2];let c;for(c=0;c<o.length;c+=1){let u=$m(s,o,c);a[c]?a[c].p(u,l):(a[c]=Xm(u),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},i(s){i||(be(()=>{n&&n.end(1),r=yt(t,Mt,{x:8}),r.start()}),i=!0)},o(s){r&&r.invalidate(),n=Ue(t,Mt,{x:8}),i=!1},d(s){s&&O(t),ke(a,s),s&&n&&n.end()}}}function Xm(e){let t,r,n=e[17].format("ddd")+"",i,o,a,s=e[17].format("DD")+"",l,c,u,p;function f(){return e[13](e[17])}return{c(){t=C("div"),r=C("div"),i=D(n),o=k(),a=C("div"),l=D(s),c=k(),S(r,"class","timeline-day-of-week svelte-ilz3jn"),S(a,"class","timeline-day svelte-ilz3jn"),S(t,"class","timeline-weekday svelte-ilz3jn"),H(t,"is-selected",e[17].isSame(e[0].date,"day")),H(t,"is-today",e[17].isSame(e[5],"day"))},m(d,_){T(d,t,_),x(t,r),x(r,i),x(t,o),x(t,a),x(a,l),x(t,c),u||(p=L(a,"click",f),u=!0)},p(d,_){e=d,_&4&&n!==(n=e[17].format("ddd")+"")&&G(i,n),_&4&&s!==(s=e[17].format("DD")+"")&&G(l,s),_&5&&H(t,"is-selected",e[17].isSame(e[0].date,"day")),_&36&&H(t,"is-today",e[17].isSame(e[5],"day"))},d(d){d&&O(t),u=!1,p()}}}function bC(e){let t,r,n=e[4]&&e[0]&&Ym(e);return{c(){n&&n.c(),t=Le()},m(i,o){n&&n.m(i,o),T(i,t,o),r=!0},p(i,[o]){i[4]&&i[0]?n?(n.p(i,o),o&17&&A(n,1)):(n=Ym(i),n.c(),A(n,1),n.m(t.parentNode,t)):n&&(re(),F(n,1,1,()=>{n=null}),ne())},i(i){r||(A(n),r=!0)},o(i){F(n),r=!1},d(i){n&&n.d(i),i&&O(t)}}}function Qm(e,t){let r=[],i=t.clone().startOf("week").clone();for(let o=0;o<7;o++)r.push(i.clone()),i=i.add(1,"day");return r}function wC(e,t,r){let n;var i;let{plugin:o}=t,{cache:a}=t,{view:s}=t,l,c,u=window.moment(),p,f,d=o.settings;Fe(e,d,w=>r(14,n=w));let _=n.enableTimelineComplication;function m(w,E){return zm(this,void 0,void 0,function*(){let P=a.getPeriodicNote(o.calendarSetManager.getActiveId(),w,E);P||(P=yield o.createPeriodicNote(w,E)),yield s.leaf.openFile(P,{active:!0})})}function h(){r(4,_=n.enableTimelineComplication)}function v(){r(1,l=!l)}function y(){var w;r(0,p=a.find((w=s.file)===null||w===void 0?void 0:w.path)),p&&(r(2,c=Qm(u,p.date)),r(3,f=Nt(p.granularity,p.date)))}le(()=>{o.registerEvent(o.app.workspace.on("file-open",y)),o.registerEvent(o.app.workspace.on("periodic-notes:resolve",y)),o.registerEvent(o.app.workspace.on("periodic-notes:settings-updated",h))});let b=w=>m("day",w);return e.$$set=w=>{"plugin"in w&&r(9,o=w.plugin),"cache"in w&&r(10,a=w.cache),"view"in w&&r(11,s=w.view)},e.$$.update=()=>{if(e.$$.dirty&7169){e:r(0,p=a.find(r(12,i=s.file)===null||i===void 0?void 0:i.path)),p&&(r(2,c=Qm(u,p.date)),r(3,f=Nt(p.granularity,p.date)))}},[p,l,c,f,_,u,d,m,v,o,a,s,i,b]}var wo=class extends N{constructor(t){super(),j(this,t,wC,bC,I,{plugin:9,cache:10,view:11},_C)}},Jm=wo;var Sr=class{constructor(t,r){this.plugin=t;this.cache=r;this.btnComponents=[],this.plugin.app.workspace.onLayoutReady(()=>{t.registerEvent(t.app.workspace.on("layout-change",this.onLayoutChange,this)),this.onLayoutChange()})}cleanup(){for(let t of this.btnComponents)t.$destroy()}onLayoutChange(){let t=[];this.plugin.app.workspace.iterateAllLeaves(r=>{r.view instanceof eg.MarkdownView&&t.push(r.view)});for(let r of this.btnComponents)t.map(n=>n.containerEl).includes(r.$$.root)||r.$destroy();for(let r of t)this.btnComponents.find(i=>i.$$.root===r.containerEl)||this.btnComponents.push(new Jm({target:r.containerEl,props:{plugin:this.plugin,cache:this.cache,view:r}}))}};var Dn=class extends Je.Plugin{unload(){var r;(r=this.timelineManager)==null||r.cleanup()}onload(){return te(this,null,function*(){this.settings=Zt(),yield this.loadSettings(),this.settings.subscribe(this.onUpdateSettings.bind(this)),this.ribbonEl=null,this.calendarSetManager=new fr(this),this.cache=new Tn(this.app,this),this.timelineManager=new Sr(this,this.cache),this.openPeriodicNote=this.openPeriodicNote.bind(this),this.addSettingTab(new En(this.app,this)),(0,Je.addIcon)("calendar-day",gm),(0,Je.addIcon)("calendar-week",hm),(0,Je.addIcon)("calendar-month",vm),(0,Je.addIcon)("calendar-quarter",ym),(0,Je.addIcon)("calendar-year",_m),this.addCommand({id:"show-date-switcher",name:"Show date switcher...",checkCallback:r=>{if(!this.app.plugins.getPlugin("nldates-obsidian"))return!1;if(r)return!!this.app.workspace.activeLeaf;new jt(this.app,this).open()},hotkeys:[]}),this.addCommand({id:"switch-calendarset",name:"Switch active calendar set...",callback:()=>{new An(this.app,this).open()},hotkeys:[]}),this.app.workspace.onLayoutReady(()=>{this.configureRibbonIcons(),this.configureCommands();let r=Dp(this.settings);r&&this.openPeriodicNote(r.granularity,window.moment(),{calendarSet:r.calendarSet})})})}configureRibbonIcons(){var n;(n=this.ribbonEl)==null||n.detach();let r=this.calendarSetManager.getActiveGranularities();if(r.length){let i=r[0],o=K[i];this.ribbonEl=this.addRibbonIcon(`calendar-${i}`,o.labelOpenPresent,a=>{a.type!=="auxclick"&&this.openPeriodicNote(i,window.moment(),{inNewSplit:Pn(a)})}),this.ribbonEl.addEventListener("contextmenu",a=>{a.preventDefault(),bm(this.app,this,{x:a.pageX,y:a.pageY})})}}configureCommands(){this.calendarSetManager.getInactiveGranularities().forEach(r=>{Bi(this.app,this,r).forEach(n=>this.app.commands.removeCommand(`periodic-notes:${n.id}`))}),this.calendarSetManager.getActiveGranularities().forEach(r=>{Bi(this.app,this,r).forEach(this.addCommand.bind(this))})}loadSettings(){return te(this,null,function*(){let r=yield this.loadData(),n=Object.assign({},sm,r||{});this.settings.set(n),(!n.calendarSets||n.calendarSets.length===0)&&(nf(n)?this.settings.update(De(Re,af(n))):un(app)?this.settings.update(De(Re,of(n))):this.settings.update(De(Re,{day:Ar(ht({},Ze),{enabled:!0})})),this.settings.update(Ke(Re)))})}onUpdateSettings(r){return te(this,null,function*(){yield this.saveData(r),this.configureCommands(),this.configureRibbonIcons(),this.app.workspace.trigger("periodic-notes:settings-updated")})}createPeriodicNote(r,n){return te(this,null,function*(){let i=this.calendarSetManager.getActiveConfig(r),o=this.calendarSetManager.getFormat(r),a=n.format(o),s=yield ho(this.app,i.templatePath),l=go(a,r,n,o,s),c=yield fm(this.app,a,i);return this.app.vault.create(c,l)})}getPeriodicNote(r,n){return this.cache.getPeriodicNote(this.calendarSetManager.getActiveId(),r,n)}getPeriodicNotes(r,n,i=!1){return this.cache.getPeriodicNotes(this.calendarSetManager.getActiveId(),r,n,i)}isPeriodic(r,n){return this.cache.isPeriodic(r,n)}findAdjacent(r,n,i){return this.cache.findAdjacent(r,n,i)}findInCache(r){return this.cache.find(r)}openPeriodicNote(r,n,i){return te(this,null,function*(){let{inNewSplit:o=!1,calendarSet:a}=i!=null?i:{},{workspace:s}=this.app,l=this.cache.getPeriodicNote(a!=null?a:this.calendarSetManager.getActiveId(),r,n);l||(l=yield this.createPeriodicNote(r,n)),yield(o?s.splitActiveLeaf():s.getUnpinnedLeaf()).openFile(l,{active:!0})})}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
