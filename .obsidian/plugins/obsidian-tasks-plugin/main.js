/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Clare Macrae, Ilyas Landikov and Martin Schenck

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang
*/

/*
License flatpickr (included library):
The MIT License (MIT)

Copyright (c) 2017 Gregory Petrosyan
*/

/*
License @floating-ui/dom (included library):

MIT License

Copyright (c) 2021 Floating UI contributors
*/

/*
License boon-js (included library):

The MIT License (MIT)

Copyright (c) 2020-present Jake Chorley
*/

/*
License eventemitter2 (included library):

The MIT License (MIT)

Copyright (c) 2016 Paolo Fragomeni <http://www.github.com/0x00a> and Contributors
*/

/*
License i18next (included library):

The MIT License (MIT)

Copyright (c) 2025 i18next
*/

/*
License mustache (included library):

The MIT License

Copyright (c) 2009 Chris Wanstrath (Ruby)
Copyright (c) 2010-2014 Jan Lehnardt (JavaScript)
Copyright (c) 2010-2015 The mustache.js community
*/

/*
License mustache-validator (included library):

MIT License

Copyright (c) 2022 Elias Mangoro
*/

"use strict";var w0=Object.create;var qo=Object.defineProperty,k0=Object.defineProperties,S0=Object.getOwnPropertyDescriptor,E0=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertyNames,Pu=Object.getOwnPropertySymbols,x0=Object.getPrototypeOf,Af=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable;var _b=(r,t,e)=>t in r?qo(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,U=(r,t)=>{for(var e in t||(t={}))Af.call(t,e)&&_b(r,e,t[e]);if(Pu)for(var e of Pu(t))vb.call(t,e)&&_b(r,e,t[e]);return r},me=(r,t)=>k0(r,E0(t));var pa=(r,t)=>{var e={};for(var n in r)Af.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&Pu)for(var n of Pu(r))t.indexOf(n)<0&&vb.call(r,n)&&(e[n]=r[n]);return e};var re=(r,t)=>()=>(r&&(t=r(r=0)),t);var x=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),wb=(r,t)=>{for(var e in t)qo(r,e,{get:t[e],enumerable:!0})},kb=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of D0(t))!Af.call(r,i)&&i!==e&&qo(r,i,{get:()=>t[i],enumerable:!(n=S0(t,i))||n.enumerable});return r};var Yo=(r,t,e)=>(e=r!=null?w0(x0(r)):{},kb(t||!r||!r.__esModule?qo(e,"default",{value:r,enumerable:!0}):e,r)),Sb=r=>kb(qo({},"__esModule",{value:!0}),r);var L=(r,t,e)=>new Promise((n,i)=>{var s=l=>{try{o(e.next(l))}catch(u){i(u)}},a=l=>{try{o(e.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((e=e.apply(r,t)).next())});var Te,Ho,Eb,O0,C0,Db,xb,Go,Ob,M0,Iu,R0,Ib,ma,A0,P0,Nf,N0,I0,F0,If,Fu,L0,ga,Un,ya,Lu,Fb,Cb,ba,Uu,Mb,Rb,Ff,Ab,Pf,Lf,U0,ha,Uf,j0,jf,Pb,Nb,Nu,W0,hs,yt,Lj,Uj,jj,Wj,$j,qj,Yj,Hj,Gj,Bj,Vj,zj,Kj,Qj,Lb=re(()=>{Te=r=>typeof r=="string",Ho=()=>{let r,t,e=new Promise((n,i)=>{r=n,t=i});return e.resolve=r,e.reject=t,e},Eb=r=>r==null?"":""+r,O0=(r,t,e)=>{r.forEach(n=>{t[n]&&(e[n]=t[n])})},C0=/###/g,Db=r=>r&&r.indexOf("###")>-1?r.replace(C0,"."):r,xb=r=>!r||Te(r),Go=(r,t,e)=>{let n=Te(t)?t.split("."):t,i=0;for(;i<n.length-1;){if(xb(r))return{};let s=Db(n[i]);!r[s]&&e&&(r[s]=new e),Object.prototype.hasOwnProperty.call(r,s)?r=r[s]:r={},++i}return xb(r)?{}:{obj:r,k:Db(n[i])}},Ob=(r,t,e)=>{let{obj:n,k:i}=Go(r,t,Object);if(n!==void 0||t.length===1){n[i]=e;return}let s=t[t.length-1],a=t.slice(0,t.length-1),o=Go(r,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Go(r,a,Object),(o==null?void 0:o.obj)&&typeof o.obj[`${o.k}.${s}`]!="undefined"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=e},M0=(r,t,e,n)=>{let{obj:i,k:s}=Go(r,t,Object);i[s]=i[s]||[],i[s].push(e)},Iu=(r,t)=>{let{obj:e,k:n}=Go(r,t);if(!!e&&!!Object.prototype.hasOwnProperty.call(e,n))return e[n]},R0=(r,t,e)=>{let n=Iu(r,e);return n!==void 0?n:Iu(t,e)},Ib=(r,t,e)=>{for(let n in t)n!=="__proto__"&&n!=="constructor"&&(n in r?Te(r[n])||r[n]instanceof String||Te(t[n])||t[n]instanceof String?e&&(r[n]=t[n]):Ib(r[n],t[n],e):r[n]=t[n]);return r},ma=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),A0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},P0=r=>Te(r)?r.replace(/[&<>"'\/]/g,t=>A0[t]):r,Nf=class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){let e=this.regExpMap.get(t);if(e!==void 0)return e;let n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}},N0=[" ",",","?","!",";"],I0=new Nf(20),F0=(r,t,e)=>{t=t||"",e=e||"";let n=N0.filter(a=>t.indexOf(a)<0&&e.indexOf(a)<0);if(n.length===0)return!0;let i=I0.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`),s=!i.test(r);if(!s){let a=r.indexOf(e);a>0&&!i.test(r.substring(0,a))&&(s=!0)}return s},If=function(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[t])return Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;let n=t.split(e),i=r;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=e),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=a}return i},Fu=r=>r==null?void 0:r.replace("_","-"),L0={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,t){var e,n;(n=(e=console==null?void 0:console[r])==null?void 0:e.apply)==null||n.call(e,console,t)}},ga=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||L0,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,i){return i&&!this.debug?null:(Te(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new ga(this.logger,U({prefix:`${this.prefix}:${t}:`},this.options))}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ga(this.logger,t)}},Un=new ga,ya=class{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(e)||0;this.observers[n].set(e,i+1)}),this}off(t,e){if(!!this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[t,...n])})}},Lu=class extends ya{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){let e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n){var u,c;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o;t.indexOf(".")>-1?o=t.split("."):(o=[t,e],n&&(Array.isArray(n)?o.push(...n):Te(n)&&s?o.push(...n.split(s)):o.push(n)));let l=Iu(this.data,o);return!l&&!e&&!n&&t.indexOf(".")>-1&&(t=o[0],e=o[1],n=o.slice(2).join(".")),l||!a||!Te(n)?l:If((c=(u=this.data)==null?void 0:u[t])==null?void 0:c[e],n,s)}addResource(t,e,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=[t,e];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(o=t.split("."),i=e,e=o[1]),this.addNamespaces(e),Ob(this.data,o,i),s.silent||this.emit("added",t,e,n,i)}addResources(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(Te(n[s])||Array.isArray(n[s]))&&this.addResource(t,e,s,n[s],{silent:!0});i.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),i=n,n=e,e=o[1]),this.addNamespaces(e);let l=Iu(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Ib(l,n,s):l=U(U({},l),n),Ob(this.data,o,l),a.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){let e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(i=>e[i]&&Object.keys(e[i]).length>0)}toJSON(){return this.data}},Fb={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,t,e,n,i){return r.forEach(s=>{var a,o;t=(o=(a=this.processors[s])==null?void 0:a.process(t,e,n,i))!=null?o:t}),t}},Cb={},ba=class extends ya{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),O0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Un.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;let n=this.resolve(t,e);return(n==null?void 0:n.res)!==void 0}extractFromKey(t,e){let n=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,s=e.ns||this.options.defaultNS||[],a=n&&t.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!F0(t,n,i);if(a&&!o){let l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Te(s)?[s]:s};let u=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:Te(s)?[s]:s}}translate(t,e,n){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e=U({},e)),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);let i=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],e),l=o[o.length-1],u=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){let j=e.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${j}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:`${l}${j}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(e)}:a}let d=this.resolve(t,e),f=d==null?void 0:d.res,p=(d==null?void 0:d.usedKey)||a,b=(d==null?void 0:d.exactUsedKey)||a,T=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],O=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!Te(f)&&typeof f!="boolean"&&typeof f!="number";if(D&&f&&A&&_.indexOf(T)<0&&!(Te(O)&&Array.isArray(f))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,me(U({},e),{ns:o})):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=j,d.usedParams=this.getUsedParamsDetails(e),d):j}if(s){let j=Array.isArray(f),Y=j?[]:{},se=j?b:p;for(let H in f)if(Object.prototype.hasOwnProperty.call(f,H)){let Z=`${se}${s}${H}`;Y[H]=this.translate(Z,me(U({},e),{joinArrays:!1,ns:o})),Y[H]===Z&&(Y[H]=f[H])}f=Y}}else if(D&&Te(O)&&Array.isArray(f))f=f.join(O),f&&(f=this.extendTranslation(f,t,e,n));else{let j=!1,Y=!1,se=e.count!==void 0&&!Te(e.count),H=ba.hasDefaultValue(e),Z=se?this.pluralResolver.getSuffix(u,e.count,e):"",ye=e.ordinal&&se?this.pluralResolver.getSuffix(u,e.count,{ordinal:!1}):"",we=se&&!e.ordinal&&e.count===0,V=we&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${Z}`]||e[`defaultValue${ye}`]||e.defaultValue;!this.isValidLookup(f)&&H&&(j=!0,f=V),this.isValidLookup(f)||(Y=!0,f=a);let C=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:f,J=H&&V!==f&&this.options.updateMissing;if(Y||j||J){if(this.logger.log(J?"updateKey":"missingKey",u,l,a,J?V:f),s){let y=this.resolve(a,me(U({},e),{keySeparator:!1}));y&&y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[],oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let y=0;y<oe.length;y++)q.push(oe[y]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(e.lng||this.language):q.push(e.lng||this.language);let m=(y,v,w)=>{var M;let S=H&&w!==f?w:C;this.options.missingKeyHandler?this.options.missingKeyHandler(y,l,v,S,J,e):(M=this.backendConnector)!=null&&M.saveMissing&&this.backendConnector.saveMissing(y,l,v,S,J,e),this.emit("missingKey",y,l,v,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?q.forEach(y=>{let v=this.pluralResolver.getSuffixes(y,e);we&&e[`defaultValue${this.options.pluralSeparator}zero`]&&v.indexOf(`${this.options.pluralSeparator}zero`)<0&&v.push(`${this.options.pluralSeparator}zero`),v.forEach(w=>{m([y],a+w,e[`defaultValue${w}`]||V)})}):m(q,a,V))}f=this.extendTranslation(f,t,e,d,n),Y&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(Y||j)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,j?f:void 0))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(e),d):f}extendTranslation(t,e,n,i,s){var u,c;var a=this;if((u=this.i18nFormat)!=null&&u.parse)t=this.i18nFormat.parse(t,U(U({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(me(U({},n),{interpolation:U(U({},this.options.interpolation),n.interpolation)}));let d=Te(t)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){let b=t.match(this.interpolator.nestingRegexp);f=b&&b.length}let p=n.replace&&!Te(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p=U(U({},this.options.interpolation.defaultVariables),p)),t=this.interpolator.interpolate(t,p,n.lng||this.language||i.usedLng,n),d){let b=t.match(this.interpolator.nestingRegexp),T=b&&b.length;f<T&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var b=arguments.length,T=new Array(b),_=0;_<b;_++)T[_]=arguments[_];return(s==null?void 0:s[0])===T[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${e[0]}`),null):a.translate(...T,e)},n)),n.interpolation&&this.interpolator.reset()}let o=n.postProcess||this.options.postProcess,l=Te(o)?[o]:o;return t!=null&&(l==null?void 0:l.length)&&n.applyPostProcessor!==!1&&(t=Fb.handle(l,t,e,this.options&&this.options.postProcessPassResolved?U({i18nResolved:me(U({},i),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return Te(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(l,e),c=u.key;i=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let f=e.count!==void 0&&!Te(e.count),p=f&&!e.ordinal&&e.count===0,b=e.context!==void 0&&(Te(e.context)||typeof e.context=="number")&&e.context!=="",T=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);d.forEach(_=>{var O,D;this.isValidLookup(n)||(o=_,!Cb[`${T[0]}-${_}`]&&((O=this.utils)==null?void 0:O.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(o))&&(Cb[`${T[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${T.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),T.forEach(A=>{var se;if(this.isValidLookup(n))return;a=A;let j=[c];if((se=this.i18nFormat)!=null&&se.addLookupKeys)this.i18nFormat.addLookupKeys(j,c,A,_,e);else{let H;f&&(H=this.pluralResolver.getSuffix(A,e.count,e));let Z=`${this.options.pluralSeparator}zero`,ye=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(j.push(c+H),e.ordinal&&H.indexOf(ye)===0&&j.push(c+H.replace(ye,this.options.pluralSeparator)),p&&j.push(c+Z)),b){let we=`${c}${this.options.contextSeparator}${e.context}`;j.push(we),f&&(j.push(we+H),e.ordinal&&H.indexOf(ye)===0&&j.push(we+H.replace(ye,this.options.pluralSeparator)),p&&j.push(we+Z))}}let Y;for(;Y=j.pop();)this.isValidLookup(n)||(s=Y,n=this.getResource(A,_,Y,e))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,n){var s;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Te(t.replace),i=n?t.replace:t;if(n&&typeof t.count!="undefined"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i=U(U({},this.options.interpolation.defaultVariables),i)),!n){i=U({},i);for(let s of e)delete i[s]}return i}static hasDefaultValue(t){let e="defaultValue";for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&t[n]!==void 0)return!0;return!1}},Uu=class{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Un.create("languageUtils")}getScriptPartFromCode(t){if(t=Fu(t),!t||t.indexOf("-")<0)return null;let e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=Fu(t),!t||t.indexOf("-")<0)return t;let e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(Te(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch(n){}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(n=>{if(e)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(e=i)}),!e&&this.options.supportedLngs&&t.forEach(n=>{if(e)return;let i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return e=i;e=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),Te(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){let n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],s=a=>{!a||(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Te(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Te(t)&&s(this.formatLanguageCode(t)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}},Mb={zero:0,one:1,two:2,few:3,many:4,other:5},Rb={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},Ff=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=Un.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Fu(t==="dev"?"en":t),i=e.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch(o){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Rb;if(!t.match(/-|_/))return Rb;let l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,e)}return this.pluralRulesCache[s]=a,a}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(t,e);return n||(n=this.getRule("dev",e)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(i=>`${e}${i}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(t,e);return n||(n=this.getRule("dev",e)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>Mb[i]-Mb[s]).map(i=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(t,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(e)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",e,n))}},Ab=function(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=R0(r,t,e);return!s&&i&&Te(e)&&(s=If(r,e,n),s===void 0&&(s=If(t,e,n))),s},Pf=r=>r.replace(/\$/g,"$$$$"),Lf=class{constructor(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Un.create("interpolator"),this.options=t,this.format=((e=t==null?void 0:t.interpolation)==null?void 0:e.format)||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});let{escape:e,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:b,nestingSuffixEscaped:T,nestingOptionsSeparator:_,maxReplaces:O,alwaysFormat:D}=t.interpolation;this.escape=e!==void 0?e:P0,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?ma(s):a||"{{",this.suffix=o?ma(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?ma(f):p||ma("$t("),this.nestingSuffix=b?ma(b):T||ma(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=O||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let t=(e,n)=>(e==null?void 0:e.source)===n?(e.lastIndex=0,e):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,n,i){var p;let s,a,o,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=b=>{if(b.indexOf(this.formatSeparator)<0){let D=Ab(e,l,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,n,me(U(U({},i),e),{interpolationkey:b})):D}let T=b.split(this.formatSeparator),_=T.shift().trim(),O=T.join(this.formatSeparator).trim();return this.format(Ab(e,l,_,this.options.keySeparator,this.options.ignoreJSONStructure),O,n,me(U(U({},i),e),{interpolationkey:_}))};this.resetRegExp();let c=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Pf(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Pf(this.escape(b)):Pf(b)}].forEach(b=>{for(o=0;s=b.regex.exec(t);){let T=s[1].trim();if(a=u(T),a===void 0)if(typeof c=="function"){let O=c(t,s,i);a=Te(O)?O:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${t}`),a="";else!Te(a)&&!this.useRawValueToEscape&&(a=Eb(a));let _=b.safeValue(a);if(t=t.replace(s[0],_),d?(b.regex.lastIndex+=a.length,b.regex.lastIndex-=s[0].length):b.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a,o=(l,u)=>{var T;let c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;let d=l.split(new RegExp(`${c}[ ]*{`)),f=`{${d[1]}`;l=d[0],f=this.interpolate(f,a);let p=f.match(/'/g),b=f.match(/"/g);(((T=p==null?void 0:p.length)!=null?T:0)%2===0&&!b||b.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a=U(U({},u),a))}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,_),`${l}${c}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a=U({},n),a=a.replace&&!Te(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){let c=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=c.shift(),l=c,u=!0}if(s=e(o.call(this,i[1].trim(),a),a),s&&i[0]===t&&!Te(s))return s;Te(s)||(s=Eb(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),u&&(s=l.reduce((c,d)=>this.format(c,d,n.lng,me(U({},n),{interpolationkey:i[1].trim()})),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}},U0=r=>{let t=r.toLowerCase().trim(),e={};if(r.indexOf("(")>-1){let n=r.split("(");t=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?e.currency||(e.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?e.range||(e.range=i.trim()):i.split(";").forEach(a=>{if(a){let[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();e[c]||(e[c]=u),u==="false"&&(e[c]=!1),u==="true"&&(e[c]=!0),isNaN(u)||(e[c]=parseInt(u,10))}})}return{formatName:t,formatOptions:e}},ha=r=>{let t={};return(e,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s=me(U({},s),{[i.interpolationkey]:void 0}));let a=n+JSON.stringify(s),o=t[a];return o||(o=r(Fu(n),i),t[a]=o),o(e)}},Uf=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Un.create("formatter"),this.options=t,this.formats={number:ha((e,n)=>{let i=new Intl.NumberFormat(e,U({},n));return s=>i.format(s)}),currency:ha((e,n)=>{let i=new Intl.NumberFormat(e,me(U({},n),{style:"currency"}));return s=>i.format(s)}),datetime:ha((e,n)=>{let i=new Intl.DateTimeFormat(e,U({},n));return s=>i.format(s)}),relativetime:ha((e,n)=>{let i=new Intl.RelativeTimeFormat(e,U({},n));return s=>i.format(s,n.range||"day")}),list:ha((e,n)=>{let i=new Intl.ListFormat(e,U({},n));return s=>i.format(s)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=ha(e)}format(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=e.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){let o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var d;let{formatName:u,formatOptions:c}=U0(l);if(this.formats[u]){let f=o;try{let p=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},b=p.locale||p.lng||i.locale||i.lng||n;f=this.formats[u](o,b,U(U(U({},c),i),p))}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},t)}},j0=(r,t)=>{r.pending[t]!==void 0&&(delete r.pending[t],r.pendingCount--)},jf=class extends ya{constructor(t,e,n){var s,a;let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Un.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,n,i.backend,i)}queueLoad(t,e,n,i){let s={},a={},o={},l={};return t.forEach(u=>{let c=!0;e.forEach(d=>{let f=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,c=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,e,n){let i=t.split("|"),s=i[0],a=i[1];e&&this.emit("failedLoading",s,a,e),!e&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&n&&(this.state[t]=0);let o={};this.queue.forEach(l=>{M0(l.loaded,[s],a),j0(l,t),e&&l.errors.push(e),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});let c=l.loaded[u];c.length&&c.forEach(d=>{o[u][d]===void 0&&(o[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;let o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,n,i+1,s*2,a)},s);return}a(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{let u=l(t,e);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(t,e,o)}prepareLoading(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Te(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Te(e)&&(e=[e]);let s=this.queueLoad(t,e,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${e}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${e}loaded namespace ${s} for language ${i}`,o),this.loaded(t,a,o)})}saveMissing(t,e,n,i,s){var l,u,c,d,f;let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(((u=(l=this.services)==null?void 0:l.utils)==null?void 0:u.hasLoadedNamespace)&&!((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace(e))){this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((f=this.backend)!=null&&f.create){let p=me(U({},a),{isUpdate:s}),b=this.backend.create.bind(this.backend);if(b.length<6)try{let T;b.length===5?T=b(t,e,n,i,p):T=b(t,e,n,i),T&&typeof T.then=="function"?T.then(_=>o(null,_)).catch(o):o(null,T)}catch(T){o(T)}else b(t,e,n,i,o,p)}!t||!t[0]||this.store.addResource(t[0],e,n,i)}}},Pb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let t={};if(typeof r[1]=="object"&&(t=r[1]),Te(r[1])&&(t.defaultValue=r[1]),Te(r[2])&&(t.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){let e=r[3]||r[2];Object.keys(e).forEach(n=>{t[n]=e[n]})}return t},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nb=r=>{var t,e;return Te(r.ns)&&(r.ns=[r.ns]),Te(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Te(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),((e=(t=r.supportedLngs)==null?void 0:t.indexOf)==null?void 0:e.call(t,"cimode"))<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r},Nu=()=>{},W0=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{typeof r[e]=="function"&&(r[e]=r[e].bind(r))})},hs=class extends ya{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Nb(t),this.services={},this.logger=Un,this.modules={external:[]},W0(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Te(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let i=Pb();this.options=U(U(U({},i),this.options),Nb(e)),this.options.interpolation=U(U({},i.interpolation),this.options.interpolation),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Un.init(s(this.modules.logger),this.options):Un.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Uf;let d=new Uu(this.options);this.store=new Lu(this.options.resources,this.options);let f=this.services;f.logger=Un,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Ff(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Lf(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new jf(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var b=arguments.length,T=new Array(b>1?b-1:0),_=1;_<b;_++)T[_-1]=arguments[_];t.emit(p,...T)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ba(this.services,this.options),this.translator.on("*",function(p){for(var b=arguments.length,T=new Array(b>1?b-1:0),_=1;_<b;_++)T[_-1]=arguments[_];t.emit(p,...T)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Nu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});let l=Ho(),u=()=>{let c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(t){var s,a;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nu,i=Te(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,e,n){let i=Ho();return typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),n||(n=Nu),this.services.backendConnector.reload(t,e,s=>{i.resolve(),n(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Fb.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){let n=this.languages[e];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,e){var n=this;this.isLanguageChangingTo=t;let i=Ho();this.emit("languageChanging",t);let s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),e&&e(l,function(){return n.t(...arguments)})},o=l=>{var c,d;!t&&!l&&this.services.languageDetector&&(l=[]);let u=Te(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(d=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||d.call(c,u)),this.loadResources(u,f=>{a(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),i}getFixedT(t,e,n){var i=this;let s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([a,o].concat(c))}else l=U({},o);l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);let f=i.options.keySeparator||".",p;return l.keyPrefix&&Array.isArray(a)?p=a.map(b=>`${l.keyPrefix}${f}${b}`):p=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,i.t(p,l)};return Te(t)?s.lng=t:s.lngs=t,s.ns=e,s.keyPrefix=n,s}t(){var i;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(i=this.translator)==null?void 0:i.translate(...e)}exists(){var i;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(i=this.translator)==null?void 0:i.exists(...e)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=e.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let a=(o,l)=>{let u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(e.precheck){let o=e.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,t)&&(!i||a(s,t)))}loadNamespaces(t,e){let n=Ho();return this.options.ns?(Te(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),e&&e(i)}),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){let n=Ho();Te(t)&&(t=[t]);let i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),e&&e(a)}),n):(e&&e(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";let e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new Uu(Pb());return e.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new hs(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nu,n=t.forkResourceStore;n&&delete t.forkResourceStore;let i=me(U(U({},this.options),t),{isClone:!0}),s=new hs(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services=U({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){let o=Object.keys(this.store.data).reduce((l,u)=>(l[u]=U({},this.store.data[u]),Object.keys(l[u]).reduce((c,d)=>(c[d]=U({},l[u][d]),c),{})),{});s.store=new Lu(o,i),s.services.resourceStore=s.store}return s.translator=new ba(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(o,...u)}),s.init(i,e),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},yt=hs.createInstance();yt.createInstance=hs.createInstance;Lj=yt.createInstance,Uj=yt.dir,jj=yt.init,Wj=yt.loadResources,$j=yt.reloadResources,qj=yt.use,Yj=yt.changeLanguage,Hj=yt.getFixedT,Gj=yt.t,Bj=yt.exists,Vj=yt.setDefaultNamespace,zj=yt.hasLoadedNamespace,Kj=yt.loadNamespaces,Qj=yt.loadLanguages});var jb,Ub=re(()=>{jb={main:{loadingPlugin:"Loading plugin: {{name}} v{{version}}",unloadingPlugin:"Unloading plugin: {{name}} v{{version}}"},modals:{customStatusModal:{editAvailableAsCommand:{description:"If enabled this status will be available as a command so you can assign a hotkey and toggle the status using it.",name:"Available as command"},editNextStatusSymbol:{description:"When clicked on this is the symbol that should be used next.",name:"Task Next Status Symbol"},editStatusName:{description:"This is the friendly name of the task status.",name:"Task Status Name"},editStatusSymbol:{description:"This is the character between the square braces. (It can only be edited for Custom statuses, and not Core statuses.)",name:"Task Status Symbol"},editStatusType:{description:"Control how the status behaves for searching and toggling.",name:"Task Status Type"},fixErrorsBeforeSaving:"Fix errors before saving."}},reports:{statusRegistry:{about:{createdBy:"This file was created by the Obsidian Tasks plugin (version {{version}}) to help visualise the task statuses in this vault.",deleteFileAnyTime:"You can delete this file any time.",title:"About this file",updateReport:{line1:"If you change the Tasks status settings, you can get an updated report by:",line2:"Going to `Settings` -> `Tasks`.",line3:"Clicking on `Review and check your Statuses`."}},columnHeadings:{nextStatusSymbol:"Next Status Symbol",problems:"Problems (if any)",statusName:"Status Name",statusSymbol:"Status Symbol",statusType:"Status Type"},loadedSettings:{settingsActuallyUsed:"These are the settings actually used by Tasks.",switchToLivePreview:"Switch to Live Preview or Reading Mode to see the diagram.",title:"Loaded Settings"},messages:{cannotFindNextStatus:"Unexpected failure to find the next status.",duplicateSymbol:"Duplicate symbol '{{symbol}}': this status will be ignored.",emptySymbol:"Empty symbol: this status will be ignored.",nextSymbolUnknown:"Next symbol {{symbol}} is unknown: create a status with symbol {{symbol}}.",notConventionalType:"For information, the conventional type for status symbol {{symbol}} is {{type}}: you may wish to review this type.",wrongTypeAfterDone:{line1:"This `DONE` status is followed by {{nextType}}, not `TODO` or `IN_PROGRESS`.",line2:"If used to complete a recurring task, it will instead be followed by `TODO` or `IN_PROGRESS`, to ensure the next task matches the `not done` filter.",line3:"See [Recurring Tasks and Custom Statuses]({{helpURL}})."}},statusSettings:{comment:{line1:"Switch to Live Preview or Reading Mode to see the table.",line2:"If there are any Markdown formatting characters in status names, such as '*' or '_',",line3:"Obsidian may only render the table correctly in Reading Mode."},theseAreStatusValues:"These are the status values in the Core and Custom statuses sections.",title:"Status Settings"}}},settings:{autoSuggest:{heading:"Auto-suggest",maxSuggestions:{description:'How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).',name:"Maximum number of auto-suggestions to show"},minLength:{description:"If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.",name:"Minimum match length for auto-suggest"},toggle:{description:"Enabling this will open an intelligent suggest menu while typing inside a recognized task line.",name:"Auto-suggest task content"}},changeRequiresRestart:"Changing any settings requires a restart of obsidian.",dates:{cancelledDate:{description:"Enabling this will add a timestamp \u274C YYYY-MM-DD at the end when a task is toggled to cancelled.",name:"Set cancelled date on every cancelled task"},createdDate:{description:"Enabling this will add a timestamp \u2795 YYYY-MM-DD before other date values, when a task is created with 'Create or edit task', or by completing a recurring task.",name:"Set created date on every added task"},doneDate:{description:"Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done.",name:"Set done date on every completed task"},heading:"Dates"},datesFromFileNames:{heading:"Dates from file names",scheduledDate:{extraFormat:{description:{line1:"An additional date format that Tasks plugin will recogize when using the file name as the Scheduled date for undated tasks.",line2:"Syntax Reference"},name:"Additional filename date format as Scheduled date for undated tasks",placeholder:"example: MMM DD YYYY"},folders:{description:"Leave empty if you want to use default Scheduled dates everywhere, or enter a comma-separated list of folders.",name:"Folders with default Scheduled dates"},toggle:{description:{line1:"Save time entering Scheduled (\u23F3) dates.",line2:"If this option is enabled, any undated tasks will be given a default Scheduled date extracted from their file name.",line3:"By default, Tasks plugin will match both <code>YYYY-MM-DD</code> and <code>YYYYMMDD</code> date formats.",line4:"Undated tasks have none of Due (\u{1F4C5} ), Scheduled (\u23F3) and Start (\u{1F6EB}) dates."},name:"Use filename as Scheduled date for undated tasks"}}},dialogs:{accessKeys:{description:"If the access keys (keyboard shortcuts) for various controls in dialog boxes conflict with system keyboard shortcuts or assistive technology functionality that is important for you, you may want to deactivate them here.",name:"Provide access keys in dialogs"},heading:"Dialogs"},format:{description:{line1:"The format that Tasks uses to read and write tasks.",line2:"<b>Important:</b> Tasks currently only supports one format at a time. Selecting Dataview will currently <b>stop Tasks reading its own emoji signifiers</b>."},displayName:{dataview:"Dataview",tasksEmojiFormat:"Tasks Emoji Format"},name:"Task Format"},globalFilter:{filter:{description:{line1:"Recommended: Leave empty if you want all checklist items in your vault to be tasks managed by this plugin.",line2:'Use a global filter if you want Tasks to only act on a subset of your "<code>- [ ]</code>" checklist items, so that a checklist item must include the specified string in its description in order to be considered a task.',line3:"For example, if you set the global filter to <code>#task</code>, the Tasks plugin will only handle checklist items tagged with <code>#task</code>.",line4:"Other checklist items will remain normal checklist items and not appear in queries or get a done date set."},name:"Global filter",placeholder:"e.g. #task or TODO"},heading:"Global task filter",removeFilter:{description:"Enabling this removes the string that you set as global filter from the task description when displaying a task.",name:"Remove global filter from description"}},globalQuery:{heading:"Global Query",query:{description:"A query that is automatically included at the start of every Tasks block in the vault. Useful for adding default filters, or layout options.",placeholder:`For example...
path does not include _templates/
limit 300
show urgency`}},recurringTasks:{heading:"Recurring tasks",nextLine:{description:"Enabling this will make the next recurrence of a task appear on the line below the completed task. Otherwise the next recurrence will appear before the completed one.",name:"Next recurrence appears on the line below"}},seeTheDocumentation:"See the documentation",statuses:{collections:{anuppuccinTheme:"AnuPpuccin Theme",auraTheme:"Aura Theme",borderTheme:"Border Theme",buttons:{addCollection:{name:"{{themeName}}: Add {{numberOfStatuses}} supported Statuses"}},ebullientworksTheme:"Ebullientworks Theme",itsThemeAndSlrvbCheckboxes:"ITS Theme & SlRvb Checkboxes",lytModeTheme:"LYT Mode Theme (Dark mode only)",minimalTheme:"Minimal Theme",thingsTheme:"Things Theme"},coreStatuses:{buttons:{checkStatuses:{name:"Review and check your Statuses",tooltip:"Create a new file in the root of the vault, containing a Mermaid diagram of the current status settings."}},description:{line1:"These are the core statuses that Tasks supports natively, with no need for custom CSS styling or theming.",line2:"You can add edit and add your own custom statuses in the section below."},heading:"Core Statuses"},customStatuses:{buttons:{addAllUnknown:{name:"Add All Unknown Status Types"},addNewStatus:{name:"Add New Task Status"},resetCustomStatuses:{name:"Reset Custom Status Types to Defaults"}},description:{line1:"You should first <b>select and install a CSS Snippet or Theme</b> to style custom checkboxes.",line2:"Then, use the buttons below to set up your custom statuses, to match your chosen CSS checkboxes.",line3:"<b>Note</b> Any statuses with the same symbol as any earlier statuses will be ignored. You can confirm the actually loaded statuses by running the 'Create or edit task' command and looking at the Status drop-down.",line4:"See the documentation to get started!"},heading:"Custom Statuses"},heading:"Task Statuses"}}}});var $b,Wb=re(()=>{$b={main:{loadingPlugin:"\u52A0\u8F7D\u63D2\u4EF6: {{name}} v{{version}}",unloadingPlugin:"\u5378\u8F7D\u63D2\u4EF6: {{name}} v{{version}}"},modals:{customStatusModal:{editAvailableAsCommand:{description:"\u5982\u679C\u542F\u7528\uFF0C\u6B64\u72B6\u6001\u5C06\u4F5C\u4E3A\u547D\u4EE4\u53EF\u7528,\u56E0\u6B64\u60A8\u53EF\u4EE5\u6307\u5B9A\u5FEB\u6377\u952E\u5E76\u4F7F\u7528\u5B83\u5207\u6362\u72B6\u6001\u3002",name:"\u53EF\u7528\u4F5C\u547D\u4EE4"},editNextStatusSymbol:{description:"\u5355\u51FB\u65F6\uFF0C\u8FD9\u662F\u4E0B\u4E00\u6B65\u5E94\u8BE5\u4F7F\u7528\u7684\u7B26\u53F7\u3002",name:"\u4EFB\u52A1\u4E0B\u4E00\u4E2A\u72B6\u6001\u7B26\u53F7"},editStatusName:{description:"\u8FD9\u662F\u4EFB\u52A1\u72B6\u6001\u7684\u53CB\u597D\u540D\u79F0.",name:"\u4EFB\u52A1\u72B6\u6001\u540D\u79F0"},editStatusSymbol:{description:"\u8FD9\u662F\u65B9\u62EC\u53F7\u4E2D\u7684\u5B57\u7B26\u3002\uFF08\u4EC5\u53EF\u7F16\u8F91\u81EA\u5B9A\u4E49\u72B6\u6001,\u4E0D\u53EF\u7F16\u8F91\u6838\u5FC3\u72B6\u6001\u3002\uFF09",name:"\u4EFB\u52A1\u72B6\u6001\u7B26\u53F7"},editStatusType:{description:"\u63A7\u5236\u641C\u7D22\u548C\u5207\u6362\u72B6\u6001\u7684\u884C\u4E3A\u3002",name:"\u4EFB\u52A1\u72B6\u6001\u7C7B\u578B"},fixErrorsBeforeSaving:"\u5728\u4FDD\u5B58\u524D\u4FEE\u590D\u9519\u8BEF\u3002"}},reports:{statusRegistry:{about:{createdBy:"\u6B64\u6587\u4EF6\u7531 Obsidian tasks \u63D2\u4EF6(version {{version}})\u521B\u5EFA,\u4EE5\u5E2E\u52A9\u53EF\u89C6\u5316\u6B64\u4ED3\u5E93\u4E2D\u7684\u4EFB\u52A1\u72B6\u6001.",deleteFileAnyTime:"\u60A8\u53EF\u4EE5\u968F\u65F6\u5220\u9664\u6B64\u6587\u4EF6.",title:"\u5173\u4E8E\u6B64\u6587\u4EF6",updateReport:{line1:"\u5982\u679C\u66F4\u6539 Tasks \u72B6\u6001\u8BBE\u7F6E,\u5219\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u83B7\u53D6\u66F4\u65B0\u540E\u7684\u62A5\u544A:",line2:"\u524D\u5F80 `\u8BBE\u7F6E` -> `Tasks`\u3002",line3:"\u70B9\u51FB `\u67E5\u770B\u5E76\u68C0\u67E5\u60A8\u7684\u72B6\u6001`\u3002"}},columnHeadings:{nextStatusSymbol:"\u4E0B\u4E00\u4E2A\u72B6\u6001\u7B26\u53F7",problems:"\u95EE\u9898 (\u5982\u679C\u5B58\u5728)",statusName:"\u72B6\u6001\u540D\u79F0",statusSymbol:"\u72B6\u6001\u7B26\u53F7",statusType:"\u72B6\u6001\u7C7B\u578B"},loadedSettings:{settingsActuallyUsed:"\u8FD9\u4E9B\u662F Tasks \u5B9E\u9645\u4F7F\u7528\u7684\u8BBE\u7F6E.",switchToLivePreview:"\u5207\u6362\u5230\u5B9E\u65F6\u9884\u89C8\u6216\u9605\u8BFB\u6A21\u5F0F\u4EE5\u67E5\u770B\u56FE\u8868.",title:"\u5DF2\u52A0\u8F7D\u8BBE\u7F6E"},messages:{cannotFindNextStatus:"\u672A\u80FD\u610F\u5916\u627E\u5230\u4E0B\u4E00\u4E2A\u72B6\u6001.",duplicateSymbol:"\u91CD\u590D\u7684\u7B26\u53F7 '{{symbol}}':\u6B64\u72B6\u6001\u5C06\u88AB\u5FFD\u7565.",emptySymbol:"\u7A7A\u7B26\u53F7:\u6B64\u72B6\u6001\u5C06\u88AB\u5FFD\u7565.",nextSymbolUnknown:"\u4E0B\u4E00\u4E2A\u7B26\u53F7 {{symbol}} \u672A\u77E5:\u8BF7\u521B\u5EFA\u7B26\u53F7\u4E3A {{symbol}} \u7684\u72B6\u6001.",notConventionalType:"\u4F9B\u53C2\u8003,\u72B6\u6001\u7B26\u53F7 {{symbol}} \u7684\u5E38\u89C4\u7C7B\u578B\u662F {{type}}:\u60A8\u53EF\u80FD\u5E0C\u671B\u67E5\u770B\u6B64\u7C7B\u578B.",wrongTypeAfterDone:{line1:"\u6B64`\u5B8C\u6210`\u72B6\u6001\u540E\u8DDF\u968F\u7684\u662F{{nextType}}\uFF0C\u800C\u4E0D\u662F`\u5F85\u529E`\u6216`\u8FDB\u884C\u4E2D`\u3002",line2:"\u5982\u679C\u7528\u4E8E\u5B8C\u6210\u4E00\u4E2A\u91CD\u590D\u4EFB\u52A1\uFF0C\u5B83\u540E\u9762\u4F1A\u8DDF\u7740\u5F85\u529E`\u6216`\u8FDB\u884C\u4E2D`\uFF0C\u4EE5\u786E\u4FDD\u4E0B\u4E00\u4E2A\u4EFB\u52A1\u7B26\u5408\u201C\u672A\u5B8C\u6210\u201D\u7684\u7B5B\u9009\u6761\u4EF6\u3002",line3:"\u8BF7\u53C2\u9605[\u91CD\u590D\u4EFB\u52A1\u548C\u81EA\u5B9A\u4E49\u72B6\u6001]({{helpURL}})\u3002"}},statusSettings:{comment:{line1:"\u5207\u6362\u5230\u5B9E\u65F6\u9884\u89C8\u6216\u9605\u8BFB\u6A21\u5F0F\u4EE5\u67E5\u770B\u8868\u683C.",line2:"\u5982\u679C\u72B6\u6001\u540D\u79F0\u4E2D\u6709\u4EFB\u4F55Markdown\u683C\u5F0F\u5B57\u7B26,\u5982 '*' \u6216 '_',",line3:"\u9ED1\u66DC\u77F3\u53EA\u80FD\u5728\u9605\u8BFB\u6A21\u5F0F\u4E0B\u6B63\u786E\u6E32\u67D3\u8868\u683C."},theseAreStatusValues:"\u8FD9\u4E9B\u662F\u6838\u5FC3\u548C\u81EA\u5B9A\u4E49\u72B6\u6001\u90E8\u5206\u4E2D\u7684\u72B6\u6001\u503C.",title:"\u72B6\u6001\u8BBE\u7F6E"}}},settings:{autoSuggest:{heading:"\u81EA\u52A8\u5EFA\u8BAE",maxSuggestions:{description:'\u5F53\u81EA\u52A8\u5EFA\u8BAE\u83DC\u5355\u5F39\u51FA\u65F6\uFF0C\u5E94\u663E\u793A\u591A\u5C11\u6761\u5EFA\u8BAE (\u5305\u542B "\u23CE" \u9009\u9879)\u3002',name:"\u8981\u663E\u793A\u7684\u6700\u5927\u81EA\u52A8\u5EFA\u8BAE\u6570"},minLength:{description:"\u5982\u679C\u9AD8\u4E8E0\uFF0C\u5219\u53EA\u6709\u5728\u8BC6\u522B\u51FA\u4EFB\u4F55\u652F\u6301\u7684\u5173\u952E\u5B57\u7684\u5F00\u5934\u65F6\u624D\u4F1A\u89E6\u53D1\u81EA\u52A8\u5EFA\u8BAE\u3002",name:"\u81EA\u52A8\u5EFA\u8BAE\u7684\u6700\u5C0F\u5339\u914D\u957F\u5EA6"},toggle:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u5728\u8BC6\u522B\u7684\u4EFB\u52A1\u884C\u5185\u8F93\u5165\u65F6\u6253\u5F00\u667A\u80FD\u5EFA\u8BAE\u83DC\u5355\u3002",name:"\u81EA\u52A8\u5EFA\u8BAE\u4EFB\u52A1\u5185\u5BB9"}},changeRequiresRestart:"\u66F4\u6539\u4EFB\u4F55\u8BBE\u7F6E\u90FD\u9700\u8981\u91CD\u65B0\u542F\u52A8Obsidian\u3002",dates:{cancelledDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u5728\u4EFB\u52A1\u8BBE\u7F6E\u4E3A\u53D6\u6D88\u65F6\uFF0C\u5728\u5176\u672B\u5C3E\u6DFB\u52A0\u65F6\u95F4\u6233 \u274C YYYY-MM-DD\u3002",name:"\u8BBE\u7F6E\u6BCF\u4E2A\u5DF2\u53D6\u6D88\u7684\u4EFB\u52A1\u7684\u53D6\u6D88\u65E5\u671F"},createdDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u5728\u901A\u8FC7\u201CCreate or edit task\u201D\u547D\u4EE4\u6216\u5B8C\u6210\u91CD\u590D\u4EFB\u52A1\u65F6\uFF0C\u5728\u5176\u4ED6\u65E5\u671F\u503C\u4E4B\u524D\u6DFB\u52A0\u65F6\u95F4\u6233\u2795YYYY-MM-DD\u3002",name:"\u8BBE\u7F6E\u6BCF\u4E2A\u5DF2\u6DFB\u52A0\u4EFB\u52A1\u7684\u521B\u5EFA\u65E5\u671F"},doneDate:{description:"\u542F\u7528\u6B64\u529F\u80FD\u5C06\u5728\u4EFB\u52A1\u88AB\u8BBE\u7F6E\u4E3A\u5B8C\u6210\u65F6\uFF0C\u5728\u5176\u672B\u5C3E\u6DFB\u52A0\u65F6\u95F4\u6233 \u2705 YYYY-MM-DD\u3002",name:"\u8BBE\u7F6E\u6BCF\u4E2A\u5DF2\u5B8C\u6210\u4EFB\u52A1\u7684\u5B8C\u6210\u65E5\u671F"},heading:"\u65E5\u671F"},datesFromFileNames:{heading:"\u4ECE\u6587\u4EF6\u540D\u4E2D\u63D0\u53D6\u65E5\u671F",scheduledDate:{extraFormat:{description:{line1:"\u4EFB\u52A1\u63D2\u4EF6\u5728\u5C06\u6587\u4EF6\u540D\u7528\u4F5C\u672A\u6CE8\u660E\u65E5\u671F\u4EFB\u52A1\u7684\u8BA1\u5212\u65E5\u671F\u65F6\uFF0C\u5C06\u8BC6\u522B\u7684\u9644\u52A0\u65E5\u671F\u683C\u5F0F\u3002",line2:"\u8BED\u6CD5\u53C2\u8003"},name:"\u4E3A\u65E0\u65E5\u671F\u4EFB\u52A1\u6DFB\u52A0\u6587\u4EF6\u540D\u65E5\u671F\u683C\u5F0F\u4F5C\u4E3A\u8BA1\u5212\u65E5\u671F",placeholder:"\u793A\u4F8B\uFF1AMMM DD YYYY"},folders:{description:"\u5982\u679C\u8981\u5728\u5168\u5C40\u4F7F\u7528\u9ED8\u8BA4\u7684\u8BA1\u5212\u65E5\u671F\uFF0C\u8BF7\u4FDD\u7559\u4E3A\u7A7A,\u6216\u8005\u8F93\u5165\u4EE5\u9017\u53F7\u5206\u9694\u7684\u6587\u4EF6\u5939\u5217\u8868\u3002",name:"\u5177\u6709\u9ED8\u8BA4\u8BA1\u5212\u65E5\u671F\u7684\u6587\u4EF6\u5939"},toggle:{description:{line1:"\u7528\u4E8E\u8282\u7701\u8F93\u5165\u8BA1\u5212 (\u23F3) \u65E5\u671F\u7684\u65F6\u95F4\u3002",line2:"\u5982\u679C\u542F\u7528\u6B64\u9009\u9879\uFF0C\u5219\u4EFB\u4F55\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u90FD\u5C06\u88AB\u8D4B\u4E88\u4ECE\u5176\u6587\u4EF6\u540D\u4E2D\u63D0\u53D6\u7684\u9ED8\u8BA4\u201C\u8BA1\u5212\u65E5\u671F\u201D\u3002",line3:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CTasks \u63D2\u4EF6\u5C06\u5339\u914D <code>YYYY-MM-DD</code> \u548C <code>YYYYMMDD</code> \u4E24\u79CD\u65E5\u671F\u683C\u5F0F\u3002",line4:"\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u6307\u6CA1\u6709\u622A\u6B62\u65E5\u671F (\u{1F4C5} ), \u8BA1\u5212\u65E5\u671F (\u23F3) \u548C\u5F00\u59CB\u65E5\u671F(\u{1F6EB}) \u7684\u4EFB\u52A1\u3002"},name:"\u5C06\u6587\u4EF6\u540D\u7528\u4F5C\u672A\u6CE8\u660E\u65E5\u671F\u7684\u4EFB\u52A1\u7684\u8BA1\u5212\u65E5\u671F"}}},dialogs:{accessKeys:{description:"\u5982\u679C\u5BF9\u8BDD\u6846\u4E2D\u5404\u79CD\u63A7\u4EF6\u7684\u5FEB\u6377\u952E\u4E0E\u7CFB\u7EDF\u5FEB\u6377\u952E\u53D1\u751F\u51B2\u7A81\uFF0C\u60A8\u53EF\u4EE5\u5728\u8FD9\u91CC\u505C\u7528\u5B83\u4EEC\u3002",name:"\u5728\u5BF9\u8BDD\u6846\u4E2D\u4F7F\u7528\u5FEB\u6377\u952E"},heading:"\u5BF9\u8BDD\u6846"},format:{description:{line1:"Tasks \u7528\u4E8E\u8BFB\u53D6\u548C\u5199\u5165\u4EFB\u52A1\u7684\u683C\u5F0F.",line2:"<b>\u91CD\u70B9:</b> \u76EE\u524D Tasks \u53EA\u652F\u6301\u540C\u65F6\u4F7F\u7528\u4E00\u79CD\u683C\u5F0F\u3002\u9009\u62E9 dataview \u5C06 <b>\u4F7F Tasks \u505C\u6B62\u8BFB\u53D6\u81EA\u6709\u7684\u8868\u60C5\u7B26\u53F7\u683C\u5F0F</b>"},displayName:{dataview:"Dataview \u683C\u5F0F",tasksEmojiFormat:"Tasks \u8868\u60C5\u683C\u5F0F"},name:"\u4EFB\u52A1\u683C\u5F0F"},globalFilter:{filter:{description:{line1:"\u5EFA\u8BAE\uFF1A\u5982\u679C\u60A8\u5E0C\u671B\u4ED3\u5E93\u4E2D\u7684\u6240\u6709\u4EFB\u52A1\u5217\u8868\u9879\u90FD\u7531\u6B64\u63D2\u4EF6\u7BA1\u7406\uFF0C\u8BF7\u7559\u7A7A\u3002",line2:'\u5982\u679C\u60A8\u5E0C\u671B Tasks \u4EC5\u4F5C\u7528\u4E8E "<code>- [ ]</code>" \u4EFB\u52A1\u5217\u8868\u9879\u7684\u5B50\u96C6\uFF0C\u8BF7\u4F7F\u7528\u5168\u5C40\u7B5B\u9009\u5668,\u4EE5\u4FBF\u53EA\u6709\u5728\u5176\u63CF\u8FF0\u4E2D\u5305\u542B\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u7684\u4EFB\u52A1\u5217\u8868\u9879\u624D\u88AB\u89C6\u4E3A\u4EFB\u52A1\u3002',line3:"\u4F8B\u5982\uFF0C\u5982\u679C\u5C06\u5168\u5C40\u7B5B\u9009\u5668\u8BBE\u7F6E\u4E3A <code>#task</code>\uFF0C\u5219 Tasks \u63D2\u4EF6\u5C06\u4EC5\u5904\u7406\u6807\u8BB0\u4E3A <code>#task</code> \u7684\u4EFB\u52A1\u5217\u8868\u9879\u3002",line4:"\u5176\u4ED6\u4EFB\u52A1\u5217\u8868\u9879\u5C06\u4FDD\u6301\u6B63\u5E38,\u4E0D\u4F1A\u51FA\u73B0\u5728\u67E5\u8BE2\u4E2D\u6216\u8BBE\u7F6E\u5B8C\u6210\u65E5\u671F\u3002"},name:"\u5168\u5C40\u7B5B\u9009\u5668",placeholder:"\u4F8B\u5982:#task \u6216 TODO"},heading:"\u5168\u5C40\u4EFB\u52A1\u7B5B\u9009\u5668",removeFilter:{description:"\u542F\u7528\u6B64\u9009\u9879\u5C06\u5728\u663E\u793A\u4EFB\u52A1\u65F6\u4ECE\u4EFB\u52A1\u63CF\u8FF0\u4E2D\u5220\u9664\u8BBE\u7F6E\u4E3A\u5168\u5C40\u7B5B\u9009\u5668\u7684\u5B57\u7B26\u4E32.",name:"\u4ECE\u63CF\u8FF0\u4E2D\u5220\u9664\u5168\u5C40\u7B5B\u9009\u5668"}},globalQuery:{heading:"\u5168\u5C40\u67E5\u8BE2",query:{description:"\u81EA\u52A8\u5305\u542B\u5728\u5E93\u4E2D\u6BCF\u4E2A Tasks \u5757\u5F00\u5934\u7684\u67E5\u8BE2\u8BED\u53E5.\u7528\u4E8E\u6DFB\u52A0\u9ED8\u8BA4\u8FC7\u6EE4\u5668\u6216\u5E03\u5C40\u9009\u9879\u3002",placeholder:`\u4F8B\u5982...
path does not include _templates/
limit 300
show urgency`}},recurringTasks:{heading:"\u91CD\u590D\u6027\u4EFB\u52A1",nextLine:{description:"\u542F\u7528\u6B64\u529F\u80FD\u540E\uFF0C\u4EFB\u52A1\u7684\u4E0B\u4E00\u6B21\u91CD\u590D\u5C06\u663E\u793A\u5728\u5DF2\u5B8C\u6210\u4EFB\u52A1\u7684\u4E0B\u4E00\u884C\u3002\u82E5\u5173\u95ED\u6B64\u529F\u80FD\uFF0C\u5219\u4E0B\u4E00\u6B21\u91CD\u590D\u5C06\u51FA\u73B0\u5728\u5DF2\u5B8C\u6210\u4EFB\u52A1\u7684\u4E0A\u4E00\u884C\u3002",name:"\u628A\u4EFB\u52A1\u7684\u4E0B\u4E00\u6B21\u91CD\u590D\u653E\u5728\u4E0B\u4E00\u884C"}},seeTheDocumentation:"\u53C2\u9605\u6587\u6863",statuses:{collections:{anuppuccinTheme:"AnuPpuccin \u4E3B\u9898",auraTheme:"Aura \u4E3B\u9898",borderTheme:"Border \u4E3B\u9898",buttons:{addCollection:{name:"{{themeName}}: \u6DFB\u52A0 {{numberOfStatuses}} \u79CD\u652F\u6301\u72B6\u6001"}},ebullientworksTheme:"Ebullientworks \u4E3B\u9898",itsThemeAndSlrvbCheckboxes:"ITS \u4E3B\u9898\u548C SlRvb \u590D\u9009\u6846",lytModeTheme:"LYT Mode \u4E3B\u9898 (\u4EC5\u6DF1\u8272\u6A21\u5F0F)",minimalTheme:"Minimal \u4E3B\u9898",thingsTheme:"Things \u4E3B\u9898"},coreStatuses:{buttons:{checkStatuses:{name:"\u67E5\u770B\u5E76\u68C0\u67E5\u60A8\u7684\u72B6\u6001",tooltip:"\u5728\u5E93\u7684\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A\u65B0\u6587\u4EF6,\u5305\u542B\u5F53\u524D\u72B6\u6001\u8BBE\u7F6E\u7684 Mermaid \u56FE\u8868."}},description:{line1:"\u8FD9\u4E9B\u662F Tasks \u539F\u751F\u652F\u6301\u7684\u6838\u5FC3\u72B6\u6001\uFF0C\u4E0D\u9700\u8981\u81EA\u5B9A\u4E49CSS\u6837\u5F0F\u6216\u4E3B\u9898\u3002",line2:"\u60A8\u53EF\u4EE5\u5728\u4E0B\u9762\u7F16\u8F91\u548C\u6DFB\u52A0\u81EA\u5B9A\u4E49\u72B6\u6001\u3002"},heading:"\u6838\u5FC3\u72B6\u6001"},customStatuses:{buttons:{addAllUnknown:{name:"\u6DFB\u52A0\u6240\u6709\u672A\u77E5\u72B6\u6001\u7C7B\u578B"},addNewStatus:{name:"\u6DFB\u52A0\u65B0\u4EFB\u52A1\u72B6\u6001"},resetCustomStatuses:{name:"\u91CD\u7F6E\u81EA\u5B9A\u4E49\u72B6\u6001\u7C7B\u578B\u4E3A\u9ED8\u8BA4\u503C"}},description:{line1:"\u60A8\u5E94\u8BE5\u9996\u5148<b>\u9009\u62E9\u5E76\u5B89\u88C5 CSS\u4EE3\u7801\u6BB5\u6216\u4E3B\u9898<b>\u4EE5\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u590D\u9009\u6846\u7684\u6837\u5F0F",line2:"\u7136\u540E\uFF0C\u4F7F\u7528\u4E0B\u9762\u7684\u6309\u94AE\u8BBE\u7F6E\u60A8\u7684\u81EA\u5B9A\u4E49\u72B6\u6001,\u4EE5\u5339\u914D\u60A8\u9009\u62E9\u7684CSS\u590D\u9009\u6846.",line3:"<b>\u6CE8\u610F</b>\u4EFB\u4F55\u4E0E\u66F4\u65E9\u7684\u72B6\u6001\u5177\u6709\u76F8\u540C\u7B26\u53F7\u7684\u72B6\u6001\u90FD\u5C06\u88AB\u5FFD\u7565.\u60A8\u53EF\u4EE5\u901A\u8FC7\u8FD0\u884C\u201CCreate or edit task\u201D\u547D\u4EE4\u5E76\u67E5\u770B\u201CStatus\u201D\u4E0B\u62C9\u5217\u8868\u6765\u786E\u8BA4\u5B9E\u9645\u52A0\u8F7D\u7684\u72B6\u6001\u3002",line4:"\u53C2\u9605\u6587\u6863\uFF01"},heading:"\u81EA\u5B9A\u4E49\u72B6\u6001"},heading:"\u4EFB\u52A1\u72B6\u6001"}}}});var Wf,Y0,qb,N,gs=re(()=>{"use strict";Lb();Ub();Wb();Wf=!1,Y0=()=>{let r=localStorage.getItem("language"),t=(r==null?void 0:r.toLowerCase())||"en";return console.log(`Language in Obsidian settings: '${t}'; requesting Tasks in '${t}'.`),t},qb=()=>L(void 0,null,function*(){Wf||(yield yt.init({lng:Y0(),fallbackLng:"en",returnEmptyString:!1,resources:{en:{translation:jb},zh:{translation:$b}},interpolation:{escapeValue:!1}}),Wf=!0)}),N=new Proxy(yt,{get(r,t){if(!Wf&&t==="t")throw new Error("i18n.t() called before initialization. Call initializeI18n() first.");return Reflect.get(r,t)}})});var wr,ce,ii=re(()=>{"use strict";wr=class{},ce=wr;ce.dateFormat="YYYY-MM-DD",ce.dateTimeFormat="YYYY-MM-DD HH:mm",ce.indentationRegex=/^([\s\t>]*)/,ce.listMarkerRegex=/([-*+]|[0-9]+\.)/,ce.checkboxRegex=/\[(.)\]/u,ce.afterCheckboxRegex=/ *(.*)/u,ce.taskRegex=new RegExp(wr.indentationRegex.source+wr.listMarkerRegex.source+" +"+wr.checkboxRegex.source+wr.afterCheckboxRegex.source,"u"),ce.nonTaskRegex=new RegExp(wr.indentationRegex.source+wr.listMarkerRegex.source+"? *("+wr.checkboxRegex.source+")?"+wr.afterCheckboxRegex.source,"u"),ce.listItemRegex=new RegExp(wr.indentationRegex.source+wr.listMarkerRegex.source),ce.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,ce.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]+/g,ce.hashTagsFromEnd=new RegExp(wr.hashTags.source+"$")});var Ke=x(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.matchAnyPattern=Ni.extractTerms=Ni.repeatedTimeunitPattern=void 0;function V0(r,t){let e=t.replace(/\((?!\?)/g,"(?:");return`${r}${e}\\s{0,5}(?:,?\\s{0,5}${e}){0,10}`}Ni.repeatedTimeunitPattern=V0;function Yb(r){let t;return r instanceof Array?t=[...r]:r instanceof Map?t=Array.from(r.keys()):t=Object.keys(r),t}Ni.extractTerms=Yb;function z0(r){return`(?:${Yb(r).sort((e,n)=>n.length-e.length).join("|").replace(/\./g,"\\.")})`}Ni.matchAnyPattern=z0});var Ue=x((qf,Yf)=>{(function(r,t){typeof qf=="object"&&typeof Yf!="undefined"?Yf.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=t()})(qf,function(){"use strict";var r=1e3,t=6e4,e=36e5,n="millisecond",i="second",s="minute",a="hour",o="day",l="week",u="month",c="quarter",d="year",f="date",p="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(V,K,C){var J=String(V);return!J||J.length>=K?V:""+Array(K+1-J.length).join(C)+V},D={s:O,z:function(V){var K=-V.utcOffset(),C=Math.abs(K),J=Math.floor(C/60),q=C%60;return(K<=0?"+":"-")+O(J,2,"0")+":"+O(q,2,"0")},m:function V(K,C){if(K.date()<C.date())return-V(C,K);var J=12*(C.year()-K.year())+(C.month()-K.month()),q=K.clone().add(J,u),oe=C-q<0,m=K.clone().add(J+(oe?-1:1),u);return+(-(J+(C-q)/(oe?q-m:m-q))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:u,y:d,w:l,d:o,D:f,h:a,m:s,s:i,ms:n,Q:c}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},A="en",j={};j[A]=_;var Y=function(V){return V instanceof ye},se=function(V,K,C){var J;if(!V)return A;if(typeof V=="string")j[V]&&(J=V),K&&(j[V]=K,J=V);else{var q=V.name;j[q]=V,J=q}return!C&&J&&(A=J),J||!C&&A},H=function(V,K){if(Y(V))return V.clone();var C=typeof K=="object"?K:{};return C.date=V,C.args=arguments,new ye(C)},Z=D;Z.l=se,Z.i=Y,Z.w=function(V,K){return H(V,{locale:K.$L,utc:K.$u,x:K.$x,$offset:K.$offset})};var ye=function(){function V(C){this.$L=se(C.locale,null,!0),this.parse(C)}var K=V.prototype;return K.parse=function(C){this.$d=function(J){var q=J.date,oe=J.utc;if(q===null)return new Date(NaN);if(Z.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var m=q.match(b);if(m){var y=m[2]-1||0,v=(m[7]||"0").substring(0,3);return oe?new Date(Date.UTC(m[1],y,m[3]||1,m[4]||0,m[5]||0,m[6]||0,v)):new Date(m[1],y,m[3]||1,m[4]||0,m[5]||0,m[6]||0,v)}}return new Date(q)}(C),this.$x=C.x||{},this.init()},K.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},K.$utils=function(){return Z},K.isValid=function(){return this.$d.toString()!==p},K.isSame=function(C,J){var q=H(C);return this.startOf(J)<=q&&q<=this.endOf(J)},K.isAfter=function(C,J){return H(C)<this.startOf(J)},K.isBefore=function(C,J){return this.endOf(J)<H(C)},K.$g=function(C,J,q){return Z.u(C)?this[J]:this.set(q,C)},K.unix=function(){return Math.floor(this.valueOf()/1e3)},K.valueOf=function(){return this.$d.getTime()},K.startOf=function(C,J){var q=this,oe=!!Z.u(J)||J,m=Z.p(C),y=function(P,$){var de=Z.w(q.$u?Date.UTC(q.$y,$,P):new Date(q.$y,$,P),q);return oe?de:de.endOf(o)},v=function(P,$){return Z.w(q.toDate()[P].apply(q.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice($)),q)},w=this.$W,S=this.$M,M=this.$D,I="set"+(this.$u?"UTC":"");switch(m){case d:return oe?y(1,0):y(31,11);case u:return oe?y(1,S):y(0,S+1);case l:var W=this.$locale().weekStart||0,E=(w<W?w+7:w)-W;return y(oe?M-E:M+(6-E),S);case o:case f:return v(I+"Hours",0);case a:return v(I+"Minutes",1);case s:return v(I+"Seconds",2);case i:return v(I+"Milliseconds",3);default:return this.clone()}},K.endOf=function(C){return this.startOf(C,!1)},K.$set=function(C,J){var q,oe=Z.p(C),m="set"+(this.$u?"UTC":""),y=(q={},q[o]=m+"Date",q[f]=m+"Date",q[u]=m+"Month",q[d]=m+"FullYear",q[a]=m+"Hours",q[s]=m+"Minutes",q[i]=m+"Seconds",q[n]=m+"Milliseconds",q)[oe],v=oe===o?this.$D+(J-this.$W):J;if(oe===u||oe===d){var w=this.clone().set(f,1);w.$d[y](v),w.init(),this.$d=w.set(f,Math.min(this.$D,w.daysInMonth())).$d}else y&&this.$d[y](v);return this.init(),this},K.set=function(C,J){return this.clone().$set(C,J)},K.get=function(C){return this[Z.p(C)]()},K.add=function(C,J){var q,oe=this;C=Number(C);var m=Z.p(J),y=function(S){var M=H(oe);return Z.w(M.date(M.date()+Math.round(S*C)),oe)};if(m===u)return this.set(u,this.$M+C);if(m===d)return this.set(d,this.$y+C);if(m===o)return y(1);if(m===l)return y(7);var v=(q={},q[s]=t,q[a]=e,q[i]=r,q)[m]||1,w=this.$d.getTime()+C*v;return Z.w(w,this)},K.subtract=function(C,J){return this.add(-1*C,J)},K.format=function(C){var J=this,q=this.$locale();if(!this.isValid())return q.invalidDate||p;var oe=C||"YYYY-MM-DDTHH:mm:ssZ",m=Z.z(this),y=this.$H,v=this.$m,w=this.$M,S=q.weekdays,M=q.months,I=function($,de,be,xe){return $&&($[de]||$(J,oe))||be[de].substr(0,xe)},W=function($){return Z.s(y%12||12,$,"0")},E=q.meridiem||function($,de,be){var xe=$<12?"AM":"PM";return be?xe.toLowerCase():xe},P={YY:String(this.$y).slice(-2),YYYY:this.$y,M:w+1,MM:Z.s(w+1,2,"0"),MMM:I(q.monthsShort,w,M,3),MMMM:I(M,w),D:this.$D,DD:Z.s(this.$D,2,"0"),d:String(this.$W),dd:I(q.weekdaysMin,this.$W,S,2),ddd:I(q.weekdaysShort,this.$W,S,3),dddd:S[this.$W],H:String(y),HH:Z.s(y,2,"0"),h:W(1),hh:W(2),a:E(y,v,!0),A:E(y,v,!1),m:String(v),mm:Z.s(v,2,"0"),s:String(this.$s),ss:Z.s(this.$s,2,"0"),SSS:Z.s(this.$ms,3,"0"),Z:m};return oe.replace(T,function($,de){return de||P[$]||m.replace(":","")})},K.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},K.diff=function(C,J,q){var oe,m=Z.p(J),y=H(C),v=(y.utcOffset()-this.utcOffset())*t,w=this-y,S=Z.m(this,y);return S=(oe={},oe[d]=S/12,oe[u]=S,oe[c]=S/3,oe[l]=(w-v)/6048e5,oe[o]=(w-v)/864e5,oe[a]=w/e,oe[s]=w/t,oe[i]=w/r,oe)[m]||w,q?S:Z.a(S)},K.daysInMonth=function(){return this.endOf(u).$D},K.$locale=function(){return j[this.$L]},K.locale=function(C,J){if(!C)return this.$L;var q=this.clone(),oe=se(C,J,!0);return oe&&(q.$L=oe),q},K.clone=function(){return Z.w(this.$d,this)},K.toDate=function(){return new Date(this.valueOf())},K.toJSON=function(){return this.isValid()?this.toISOString():null},K.toISOString=function(){return this.$d.toISOString()},K.toString=function(){return this.$d.toUTCString()},V}(),we=ye.prototype;return H.prototype=we,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",o],["$M",u],["$y",d],["$D",f]].forEach(function(V){we[V[1]]=function(K){return this.$g(K,V[0],V[1])}}),H.extend=function(V,K){return V.$i||(V(K,ye,H),V.$i=!0),H},H.locale=se,H.isDayjs=Y,H.unix=function(V){return H(1e3*V)},H.en=j[A],H.Ls=j,H.p={},H})});var Ct=x(Ii=>{"use strict";var K0=Ii&&Ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.findYearClosestToRef=Ii.findMostLikelyADYear=void 0;var Q0=K0(Ue());function X0(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}Ii.findMostLikelyADYear=X0;function Z0(r,t,e){let n=Q0.default(r),i=n;i=i.month(e-1),i=i.date(t),i=i.year(n.year());let s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(n))<Math.abs(i.diff(n))?i=s:Math.abs(a.diff(n))<Math.abs(i.diff(n))&&(i=a),i.year()}Ii.findYearClosestToRef=Z0});var Mt=x(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.parseTimeUnits=Me.TIME_UNITS_PATTERN=Me.parseYear=Me.YEAR_PATTERN=Me.parseOrdinalNumberPattern=Me.ORDINAL_NUMBER_PATTERN=Me.parseNumberPattern=Me.NUMBER_PATTERN=Me.TIME_UNIT_DICTIONARY=Me.ORDINAL_WORD_DICTIONARY=Me.INTEGER_WORD_DICTIONARY=Me.MONTH_DICTIONARY=Me.FULL_MONTH_NAME_DICTIONARY=Me.WEEKDAY_DICTIONARY=void 0;var $u=Ke(),J0=Ct();Me.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};Me.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};Me.MONTH_DICTIONARY=Object.assign(Object.assign({},Me.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});Me.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};Me.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};Me.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};Me.NUMBER_PATTERN=`(?:${$u.matchAnyPattern(Me.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function Gb(r){let t=r.toLowerCase();return Me.INTEGER_WORD_DICTIONARY[t]!==void 0?Me.INTEGER_WORD_DICTIONARY[t]:t==="a"||t==="an"?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Me.parseNumberPattern=Gb;Me.ORDINAL_NUMBER_PATTERN=`(?:${$u.matchAnyPattern(Me.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function ex(r){let t=r.toLowerCase();return Me.ORDINAL_WORD_DICTIONARY[t]!==void 0?Me.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}Me.parseOrdinalNumberPattern=ex;Me.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function tx(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let t=parseInt(r);return J0.findMostLikelyADYear(t)}Me.parseYear=tx;var Bb=`(${Me.NUMBER_PATTERN})\\s{0,3}(${$u.matchAnyPattern(Me.TIME_UNIT_DICTIONARY)})`,Hb=new RegExp(Bb,"i");Me.TIME_UNITS_PATTERN=$u.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",Bb);function rx(r){let t={},e=r,n=Hb.exec(e);for(;n;)nx(t,n),e=e.substring(n[0].length).trim(),n=Hb.exec(e);return t}Me.parseTimeUnits=rx;function nx(r,t){let e=Gb(t[1]),n=Me.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];r[n]=e}});var Vb=x((Hf,Gf)=>{(function(r,t){typeof Hf=="object"&&typeof Gf!="undefined"?Gf.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=t()})(Hf,function(){"use strict";var r="month",t="quarter";return function(e,n){var i=n.prototype;i.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(o-1))};var s=i.add;i.add=function(o,l){return o=Number(o),this.$utils().p(l)===t?this.add(3*o,r):s.bind(this)(o,l)};var a=i.startOf;i.startOf=function(o,l){var u=this.$utils(),c=!!u.u(l)||l;if(u.p(o)===t){var d=this.quarter()-1;return c?this.month(3*d).startOf(r).startOf("day"):this.month(3*d+2).endOf(r).endOf("day")}return a.bind(this)(o,l)}}})});var $r=x(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.implySimilarTime=jn.assignSimilarTime=jn.assignSimilarDate=jn.assignTheNextDay=void 0;var zb=ht();function ix(r,t){t=t.add(1,"day"),Kb(r,t),Qb(r,t)}jn.assignTheNextDay=ix;function Kb(r,t){r.assign("day",t.date()),r.assign("month",t.month()+1),r.assign("year",t.year())}jn.assignSimilarDate=Kb;function sx(r,t){r.assign("hour",t.hour()),r.assign("minute",t.minute()),r.assign("second",t.second()),r.assign("millisecond",t.millisecond()),r.get("hour")<12?r.assign("meridiem",zb.Meridiem.AM):r.assign("meridiem",zb.Meridiem.PM)}jn.assignSimilarTime=sx;function Qb(r,t){r.imply("hour",t.hour()),r.imply("minute",t.minute()),r.imply("second",t.second()),r.imply("millisecond",t.millisecond())}jn.implySimilarTime=Qb});var Xb=x(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.toTimezoneOffset=ys.TIMEZONE_ABBR_MAP=void 0;ys.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function ax(r){var t;return r==null?null:typeof r=="number"?r:(t=ys.TIMEZONE_ABBR_MAP[r])!==null&&t!==void 0?t:null}ys.toTimezoneOffset=ax});var rt=x(Wn=>{"use strict";var Zb=Wn&&Wn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.ParsingResult=Wn.ParsingComponents=Wn.ReferenceWithTimezone=void 0;var ox=Zb(Vb()),qu=Zb(Ue()),Bf=$r(),lx=Xb();qu.default.extend(ox.default);var Vf=class{constructor(t){var e;t=t!=null?t:new Date,t instanceof Date?this.instant=t:(this.instant=(e=t.instant)!==null&&e!==void 0?e:new Date,this.timezoneOffset=lx.toTimezoneOffset(t.timezone))}};Wn.ReferenceWithTimezone=Vf;var bs=class{constructor(t,e){if(this.reference=t,this.knownValues={},this.impliedValues={},e)for(let i in e)this.knownValues[i]=e[i];let n=qu.default(t.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(t){return t in this.knownValues?this.knownValues[t]:t in this.impliedValues?this.impliedValues[t]:null}isCertain(t){return t in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(t,e){return t in this.knownValues?this:(this.impliedValues[t]=e,this)}assign(t,e){return this.knownValues[t]=e,delete this.impliedValues[t],this}delete(t){delete this.knownValues[t],delete this.impliedValues[t]}clone(){let t=new bs(this.reference);t.knownValues={},t.impliedValues={};for(let e in this.knownValues)t.knownValues[e]=this.knownValues[e];for(let e in this.impliedValues)t.impliedValues[e]=this.impliedValues[e];return t}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let t=this.dateWithoutTimezoneAdjustment();return!(t.getFullYear()!==this.get("year")||t.getMonth()!==this.get("month")-1||t.getDate()!==this.get("day")||this.get("hour")!=null&&t.getHours()!=this.get("hour")||this.get("minute")!=null&&t.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return qu.default(this.date())}date(){let t=this.dateWithoutTimezoneAdjustment();return new Date(t.getTime()+this.getSystemTimezoneAdjustmentMinute(t)*6e4)}dateWithoutTimezoneAdjustment(){let t=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return t.setFullYear(this.get("year")),t}getSystemTimezoneAdjustmentMinute(t){var e,n;(!t||t.getTime()<0)&&(t=new Date);let i=-t.getTimezoneOffset(),s=(n=(e=this.get("timezoneOffset"))!==null&&e!==void 0?e:this.reference.timezoneOffset)!==null&&n!==void 0?n:i;return i-s}static createRelativeFromReference(t,e){let n=qu.default(t.instant);for(let s in e)n=n.add(e[s],s);let i=new bs(t);return e.hour||e.minute||e.second?(Bf.assignSimilarTime(i,n),Bf.assignSimilarDate(i,n),t.timezoneOffset!==null&&i.assign("timezoneOffset",-t.instant.getTimezoneOffset())):(Bf.implySimilarTime(i,n),t.timezoneOffset!==null&&i.imply("timezoneOffset",-t.instant.getTimezoneOffset()),e.d?(i.assign("day",n.date()),i.assign("month",n.month()+1),i.assign("year",n.year())):(e.week&&i.imply("weekday",n.day()),i.imply("day",n.date()),e.month?(i.assign("month",n.month()+1),i.assign("year",n.year())):(i.imply("month",n.month()+1),e.year?i.assign("year",n.year()):i.imply("year",n.year())))),i}};Wn.ParsingComponents=bs;var Bo=class{constructor(t,e,n,i,s){this.reference=t,this.refDate=t.instant,this.index=e,this.text=n,this.start=i||new bs(t),this.end=s}clone(){let t=new Bo(this.reference,this.index,this.text);return t.start=this.start?this.start.clone():null,t.end=this.end?this.end.clone():null,t}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};Wn.ParsingResult=Bo});var ne=x(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.AbstractParserWithWordBoundaryChecking=void 0;var zf=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(t){let e=this.innerPattern(t);return e==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${e.source}`,e.flags),this.cachedInnerPattern=e,this.cachedPattern)}extract(t,e){var n;let i=(n=e[1])!==null&&n!==void 0?n:"";e.index=e.index+i.length,e[0]=e[0].substring(i.length);for(let s=2;s<e.length;s++)e[s-1]=e[s];return this.innerExtract(t,e)}};Yu.AbstractParserWithWordBoundaryChecking=zf});var Jb=x(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});var Qf=Mt(),ux=rt(),cx=ne(),dx=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Qf.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),fx=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Qf.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Kf=class extends cx.AbstractParserWithWordBoundaryChecking{innerPattern(t){return t.option.forwardDate?fx:dx}innerExtract(t,e){let n=Qf.parseTimeUnits(e[1]);return ux.ParsingComponents.createRelativeFromReference(t.reference,n)}};Xf.default=Kf});var sT=x(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});var px=Ct(),nT=Mt(),iT=Mt(),Hu=Mt(),mx=Ke(),hx=ne(),gx=new RegExp(`(?:on\\s{0,3})?(${Hu.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Hu.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${mx.matchAnyPattern(nT.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${iT.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),eT=1,tT=2,yx=3,rT=4,Zf=class extends hx.AbstractParserWithWordBoundaryChecking{innerPattern(){return gx}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=nT.MONTH_DICTIONARY[e[yx].toLowerCase()],s=Hu.parseOrdinalNumberPattern(e[eT]);if(s>31)return e.index=e.index+e[eT].length,null;if(n.start.assign("month",i),n.start.assign("day",s),e[rT]){let a=iT.parseYear(e[rT]);n.start.assign("year",a)}else{let a=px.findYearClosestToRef(t.refDate,s,i);n.start.imply("year",a)}if(e[tT]){let a=Hu.parseOrdinalNumberPattern(e[tT]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Jf.default=Zf});var cT=x(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});var bx=Ct(),lT=Mt(),Gu=Mt(),uT=Mt(),Tx=Ke(),_x=ne(),vx=new RegExp(`(${Tx.matchAnyPattern(lT.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Gu.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Gu.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${uT.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),wx=1,kx=2,aT=3,oT=4,ep=class extends _x.AbstractParserWithWordBoundaryChecking{innerPattern(){return vx}innerExtract(t,e){let n=lT.MONTH_DICTIONARY[e[wx].toLowerCase()],i=Gu.parseOrdinalNumberPattern(e[kx]);if(i>31)return null;let s=t.createParsingComponents({day:i,month:n});if(e[oT]){let l=uT.parseYear(e[oT]);s.assign("year",l)}else{let l=bx.findYearClosestToRef(t.refDate,i,n);s.imply("year",l)}if(!e[aT])return s;let a=Gu.parseOrdinalNumberPattern(e[aT]),o=t.createParsingResult(e.index,e[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};tp.default=ep});var pT=x(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});var rp=Mt(),Sx=Ct(),Ex=Ke(),fT=Mt(),Dx=ne(),xx=new RegExp(`((?:in)\\s*)?(${Ex.matchAnyPattern(rp.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${fT.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Ox=1,Cx=2,dT=3,np=class extends Dx.AbstractParserWithWordBoundaryChecking{innerPattern(){return xx}innerExtract(t,e){let n=e[Cx].toLowerCase();if(e[0].length<=3&&!rp.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=t.createParsingResult(e.index+(e[Ox]||"").length,e.index+e[0].length);i.start.imply("day",1);let s=rp.MONTH_DICTIONARY[n];if(i.start.assign("month",s),e[dT]){let a=fT.parseYear(e[dT]);i.start.assign("year",a)}else{let a=Sx.findYearClosestToRef(t.refDate,1,s);i.start.imply("year",a)}return i}};ip.default=np});var gT=x(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var hT=Mt(),Mx=Ke(),Rx=ne(),Ax=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${Mx.matchAnyPattern(hT.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),Px=1,Nx=2,mT=3,Ix=4,sp=class extends Rx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Ax}innerExtract(t,e){let n=e[mT]?parseInt(e[mT]):hT.MONTH_DICTIONARY[e[Nx].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(e[Px]);return{day:parseInt(e[Ix]),month:n,year:i}}};ap.default=sp});var yT=x(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});var Fx=ne(),Lx=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),Ux=1,jx=2,op=class extends Fx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Lx}innerExtract(t,e){let n=parseInt(e[jx]),i=parseInt(e[Ux]);return t.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};lp.default=op});var Ts=x(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.AbstractTimeExpressionParser=void 0;var Zt=ht();function Wx(r,t,e,n){return new RegExp(`${r}${t}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,n)}function $x(r,t){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,"i")}var bT=2,Ta=3,Bu=4,Vu=5,Vo=6,up=class{constructor(t=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=t}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(t){return this.getPrimaryTimePatternThroughCache()}extract(t,e){let n=this.extractPrimaryTimeComponents(t,e);if(!n)return e.index+=e[0].length,null;let i=e.index+e[1].length,s=e[0].substring(e[1].length),a=t.createParsingResult(i,s,n);e.index+=e[0].length;let o=t.text.substring(e.index),u=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&u&&u[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!u||u[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(t,u,a),a.end&&(a.text+=u[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(t,e,n=!1){let i=t.createParsingComponents(),s=0,a=null,o=parseInt(e[bT]);if(o>100){if(this.strictMode||e[Ta]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(e[Ta]!=null){if(e[Ta].length==1&&!e[Vo])return null;s=parseInt(e[Ta])}if(s>=60)return null;if(o>12&&(a=Zt.Meridiem.PM),e[Vo]!=null){if(o>12)return null;let l=e[Vo][0].toLowerCase();l=="a"&&(a=Zt.Meridiem.AM,o==12&&(o=0)),l=="p"&&(a=Zt.Meridiem.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",Zt.Meridiem.AM):i.imply("meridiem",Zt.Meridiem.PM),e[Vu]!=null){let l=parseInt(e[Vu].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(e[Bu]!=null){let l=parseInt(e[Bu]);if(l>=60)return null;i.assign("second",l)}return i}extractFollowingTimeComponents(t,e,n){let i=t.createParsingComponents();if(e[Vu]!=null){let l=parseInt(e[Vu].substring(0,3));if(l>=1e3)return null;i.assign("millisecond",l)}if(e[Bu]!=null){let l=parseInt(e[Bu]);if(l>=60)return null;i.assign("second",l)}let s=parseInt(e[bT]),a=0,o=-1;if(e[Ta]!=null?a=parseInt(e[Ta]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=Zt.Meridiem.PM),e[Vo]!=null){if(s>12)return null;let l=e[Vo][0].toLowerCase();l=="a"&&(o=Zt.Meridiem.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),l=="p"&&(o=Zt.Meridiem.PM,s!=12&&(s+=12)),n.start.isCertain("meridiem")||(o==Zt.Meridiem.AM?(n.start.imply("meridiem",Zt.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",Zt.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>s?i.imply("meridiem",Zt.Meridiem.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",Zt.Meridiem.PM)):s>12?i.imply("meridiem",Zt.Meridiem.PM):s<=12&&i.imply("meridiem",Zt.Meridiem.AM),i.date().getTime()<n.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(t){if(t.text.match(/^\d$/)||t.text.match(/^\d\d\d+$/)||t.text.match(/\d[apAP]$/))return null;let e=t.text.match(/[^\d:.](\d[\d.]+)$/);if(e){let n=e[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return t}checkAndReturnWithFollowingPattern(t){if(t.text.match(/^\d+-\d+$/))return null;let e=t.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(e){if(this.strictMode)return null;let n=e[1],i=e[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let s=parseInt(i),a=parseInt(n);if(s>24||a>24)return null}return t}getPrimaryTimePatternThroughCache(){let t=this.primaryPrefix(),e=this.primarySuffix();return this.cachedPrimaryPrefix===t&&this.cachedPrimarySuffix===e?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=Wx(this.primaryPatternLeftBoundary(),t,e,this.patternFlags()),this.cachedPrimaryPrefix=t,this.cachedPrimarySuffix=e,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let t=this.followingPhase(),e=this.followingSuffix();return this.cachedFollowingPhase===t&&this.cachedFollowingSuffix===e?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=$x(t,e),this.cachedFollowingPhase=t,this.cachedFollowingSuffix=e,this.cachedFollowingTimePatten)}};zu.AbstractTimeExpressionParser=up});var TT=x(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var Ku=ht(),qx=Ts(),cp=class extends qx.AbstractTimeExpressionParser{constructor(t){super(t)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,e){let n=super.extractPrimaryTimeComponents(t,e);if(n){if(e[0].endsWith("night")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Ku.Meridiem.PM)):i<6&&n.assign("meridiem",Ku.Meridiem.AM)}if(e[0].endsWith("afternoon")){n.assign("meridiem",Ku.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}e[0].endsWith("morning")&&(n.assign("meridiem",Ku.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};dp.default=cp});var qr=x(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.addImpliedTimeUnits=_a.reverseTimeUnits=void 0;function Yx(r){let t={};for(let e in r)t[e]=-r[e];return t}_a.reverseTimeUnits=Yx;function Hx(r,t){let e=r.clone(),n=r.dayjs();for(let i in t)n=n.add(t[i],i);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(e.imply("day",n.date()),e.imply("month",n.month()+1),e.imply("year",n.year())),("second"in t||"minute"in t||"hour"in t)&&(e.imply("second",n.second()),e.imply("minute",n.minute()),e.imply("hour",n.hour())),e}_a.addImpliedTimeUnits=Hx});var _T=x(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var pp=Mt(),Gx=rt(),Bx=ne(),Vx=qr(),zx=new RegExp(`(${pp.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),Kx=new RegExp(`(${pp.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),fp=class extends Bx.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?Kx:zx}innerExtract(t,e){let n=pp.parseTimeUnits(e[1]),i=Vx.reverseTimeUnits(n);return Gx.ParsingComponents.createRelativeFromReference(t.reference,i)}};mp.default=fp});var vT=x(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var gp=Mt(),Qx=rt(),Xx=ne(),Zx=new RegExp(`(${gp.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),Jx=new RegExp("("+gp.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),eO=1,hp=class extends Xx.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?Jx:Zx}innerExtract(t,e){let n=gp.parseTimeUnits(e[eO]);return Qx.ParsingComponents.createRelativeFromReference(t.reference,n)}};yp.default=hp});var wa=x(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.MergingRefiner=va.Filter=void 0;var bp=class{refine(t,e){return e.filter(n=>this.isValid(t,n))}};va.Filter=bp;var Tp=class{refine(t,e){if(e.length<2)return e;let n=[],i=e[0],s=null;for(let a=1;a<e.length;a++){s=e[a];let o=t.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,t))n.push(i),i=s;else{let l=i,u=s,c=this.mergeResults(o,l,u,t);t.debug(()=>{console.log(`${this.constructor.name} merged ${l} and ${u} into ${c}`)}),i=c}}return i!=null&&n.push(i),n}};va.MergingRefiner=Tp});var $n=x(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var tO=wa(),_p=class extends tO.MergingRefiner{shouldMergeResults(t,e,n){return!e.end&&!n.end&&t.match(this.patternBetween())!=null}mergeResults(t,e,n){if(!e.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(s=>{e.start.isCertain(s)||e.start.assign(s,n.start.get(s))}),e.start.getCertainComponents().forEach(s=>{n.start.isCertain(s)||n.start.assign(s,e.start.get(s))})),e.start.date().getTime()>n.start.date().getTime()){let s=e.start.dayjs(),a=n.start.dayjs();e.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),e.start.imply("day",s.date()),e.start.imply("month",s.month()+1),e.start.imply("year",s.year())):n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):[n,e]=[e,n]}let i=e.clone();return i.start=e.start,i.end=n.start,i.index=Math.min(e.index,n.index),e.index<n.index?i.text=e.text+t+n.text:i.text=n.text+t+e.text,i}};vp.default=_p});var wT=x(zo=>{"use strict";var rO=zo&&zo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zo,"__esModule",{value:!0});var nO=rO($n()),wp=class extends nO.default{patternBetween(){return/^\s*(to|-)\s*$/i}};zo.default=wp});var kT=x(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.mergeDateTimeComponent=ka.mergeDateTimeResult=void 0;var iO=ht();function sO(r,t){let e=r.clone(),n=r.start,i=t.start;if(e.start=kp(n,i),r.end!=null||t.end!=null){let s=r.end==null?r.start:r.end,a=t.end==null?t.start:t.end,o=kp(s,a);r.end==null&&o.date().getTime()<e.start.date().getTime()&&(o.isCertain("day")?o.assign("day",o.get("day")+1):o.imply("day",o.get("day")+1)),e.end=o}return e}ka.mergeDateTimeResult=sO;function kp(r,t){let e=r.clone();return t.isCertain("hour")?(e.assign("hour",t.get("hour")),e.assign("minute",t.get("minute")),t.isCertain("second")?(e.assign("second",t.get("second")),t.isCertain("millisecond")?e.assign("millisecond",t.get("millisecond")):e.imply("millisecond",t.get("millisecond"))):(e.imply("second",t.get("second")),e.imply("millisecond",t.get("millisecond")))):(e.imply("hour",t.get("hour")),e.imply("minute",t.get("minute")),e.imply("second",t.get("second")),e.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&e.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?e.assign("meridiem",t.get("meridiem")):t.get("meridiem")!=null&&e.get("meridiem")==null&&e.imply("meridiem",t.get("meridiem")),e.get("meridiem")==iO.Meridiem.PM&&e.get("hour")<12&&(t.isCertain("hour")?e.assign("hour",e.get("hour")+12):e.imply("hour",e.get("hour")+12)),e}ka.mergeDateTimeComponent=kp});var si=x(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});var aO=wa(),ST=kT(),Sp=class extends aO.MergingRefiner{shouldMergeResults(t,e,n){return(e.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&e.start.isOnlyTime())&&t.match(this.patternBetween())!=null}mergeResults(t,e,n){let i=e.start.isOnlyDate()?ST.mergeDateTimeResult(e,n):ST.mergeDateTimeResult(n,e);return i.index=e.index,i.text=e.text+t+n.text,i}};Ep.default=Sp});var ET=x(Ko=>{"use strict";var oO=Ko&&Ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ko,"__esModule",{value:!0});var lO=oO(si()),Dp=class extends lO.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};Ko.default=Dp});var DT=x(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});var uO=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),cO={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},xp=class{constructor(t){this.timezone=Object.assign(Object.assign({},cO),t)}refine(t,e){var n;let i=(n=t.option.timezones)!==null&&n!==void 0?n:{};return e.forEach(s=>{var a,o;let l=t.text.substring(s.index+s.text.length),u=uO.exec(l);if(!u)return;let c=u[1].toUpperCase(),d=(o=(a=i[c])!==null&&a!==void 0?a:this.timezone[c])!==null&&o!==void 0?o:null;if(d===null)return;t.debug(()=>{console.log(`Extracting timezone: '${c}' into: ${d} for: ${s.start}`)});let f=s.start.get("timezoneOffset");f!==null&&d!=f&&(s.start.isCertain("timezoneOffset")||c!=u[1])||s.start.isOnlyDate()&&c!=u[1]||(s.text+=u[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",d),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",d))}),e}};Op.default=xp});var Qu=x(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});var dO=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),fO=1,pO=2,mO=3,Cp=class{refine(t,e){return e.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let i=t.text.substring(n.index+n.text.length),s=dO.exec(i);if(!s)return;t.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${n}`)});let a=parseInt(s[pO]),o=parseInt(s[mO]||"0"),l=a*60+o;l>14*60||(s[fO]==="-"&&(l=-l),n.end!=null&&n.end.assign("timezoneOffset",l),n.start.assign("timezoneOffset",l),n.text+=s[0])}),e}};Mp.default=Cp});var xT=x(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});var Rp=class{refine(t,e){if(e.length<2)return e;let n=[],i=e[0];for(let s=1;s<e.length;s++){let a=e[s];a.index<i.index+i.text.length?a.text.length>i.text.length&&(i=a):(n.push(i),i=a)}return i!=null&&n.push(i),n}};Ap.default=Rp});var OT=x(Qo=>{"use strict";var hO=Qo&&Qo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qo,"__esModule",{value:!0});var gO=hO(Ue()),Pp=class{refine(t,e){return t.option.forwardDate&&e.forEach(function(n){let i=gO.default(t.refDate);if(n.start.isOnlyDayMonthComponent()&&i.isAfter(n.start.dayjs()))for(let s=0;s<3&&i.isAfter(n.start.dayjs());s++)n.start.imply("year",n.start.get("year")+1),t.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),t.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&i.isAfter(n.start.dayjs())&&(i.day()>=n.start.get("weekday")?i=i.day(n.start.get("weekday")+7):i=i.day(n.start.get("weekday")),n.start.imply("day",i.date()),n.start.imply("month",i.month()+1),n.start.imply("year",i.year()),t.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(i.day()>n.end.get("weekday")?i=i.day(n.end.get("weekday")+7):i=i.day(n.end.get("weekday")),n.end.imply("day",i.date()),n.end.imply("month",i.month()+1),n.end.imply("year",i.year()),t.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),e}};Qo.default=Pp});var CT=x(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var yO=wa(),Np=class extends yO.Filter{constructor(t){super(),this.strictMode=t}isValid(t,e){return e.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(t.debug(()=>{console.log(`Removing unlikely result '${e.text}'`)}),!1):e.start.isValidDate()?e.end&&!e.end.isValidDate()?(t.debug(()=>{console.log(`Removing invalid result: ${e} (${e.end})`)}),!1):this.strictMode?this.isStrictModeValid(t,e):!0:(t.debug(()=>{console.log(`Removing invalid result: ${e} (${e.start})`)}),!1)}isStrictModeValid(t,e){return e.start.isOnlyWeekdayComponent()?(t.debug(()=>{console.log(`(Strict) Removing weekday only component: ${e} (${e.end})`)}),!1):e.start.isOnlyTime()&&(!e.start.isCertain("hour")||!e.start.isCertain("minute"))?(t.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${e} (${e.end})`)}),!1):!0}};Ip.default=Np});var Up=x(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});var bO=ne(),TO=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),_O=1,vO=2,wO=3,MT=4,kO=5,RT=6,AT=7,PT=8,NT=9,Fp=class extends bO.AbstractParserWithWordBoundaryChecking{innerPattern(){return TO}innerExtract(t,e){let n={};if(n.year=parseInt(e[_O]),n.month=parseInt(e[vO]),n.day=parseInt(e[wO]),e[MT]!=null)if(n.hour=parseInt(e[MT]),n.minute=parseInt(e[kO]),e[RT]!=null&&(n.second=parseInt(e[RT])),e[AT]!=null&&(n.millisecond=parseInt(e[AT])),e[PT]==null)n.timezoneOffset=0;else{let i=parseInt(e[PT]),s=0;e[NT]!=null&&(s=parseInt(e[NT]));let a=i*60;a<0?a-=s:a+=s,n.timezoneOffset=a}return n}};Lp.default=Fp});var IT=x(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});var SO=wa(),jp=class extends SO.MergingRefiner{mergeResults(t,e,n){let i=n.clone();return i.index=e.index,i.text=e.text+t+i.text,i.start.assign("weekday",e.start.get("weekday")),i.end&&i.end.assign("weekday",e.start.get("weekday")),i}shouldMergeResults(t,e,n){return e.start.isOnlyWeekdayComponent()&&!e.start.isCertain("hour")&&n.start.isCertain("day")&&t.match(/^,?\s*$/)!=null}};Wp.default=jp});var ai=x(Sa=>{"use strict";var _s=Sa&&Sa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.includeCommonConfiguration=void 0;var EO=_s(DT()),DO=_s(Qu()),FT=_s(xT()),xO=_s(OT()),OO=_s(CT()),CO=_s(Up()),MO=_s(IT());function RO(r,t=!1){return r.parsers.unshift(new CO.default),r.refiners.unshift(new MO.default),r.refiners.unshift(new EO.default),r.refiners.unshift(new DO.default),r.refiners.unshift(new FT.default),r.refiners.push(new FT.default),r.refiners.push(new xO.default),r.refiners.push(new OO.default(t)),r}Sa.includeCommonConfiguration=RO});var li=x(Ge=>{"use strict";var AO=Ge&&Ge.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.noon=Ge.morning=Ge.midnight=Ge.yesterdayEvening=Ge.evening=Ge.lastNight=Ge.tonight=Ge.theDayAfter=Ge.tomorrow=Ge.theDayBefore=Ge.yesterday=Ge.today=Ge.now=void 0;var qn=rt(),Ea=AO(Ue()),oi=$r(),Xo=ht();function PO(r){let t=Ea.default(r.instant),e=new qn.ParsingComponents(r,{});return oi.assignSimilarDate(e,t),oi.assignSimilarTime(e,t),r.timezoneOffset!==null&&e.assign("timezoneOffset",t.utcOffset()),e}Ge.now=PO;function NO(r){let t=Ea.default(r.instant),e=new qn.ParsingComponents(r,{});return oi.assignSimilarDate(e,t),oi.implySimilarTime(e,t),e}Ge.today=NO;function IO(r){return LT(r,1)}Ge.yesterday=IO;function LT(r,t){return $p(r,-t)}Ge.theDayBefore=LT;function FO(r){return $p(r,1)}Ge.tomorrow=FO;function $p(r,t){let e=Ea.default(r.instant),n=new qn.ParsingComponents(r,{});return e=e.add(t,"day"),oi.assignSimilarDate(n,e),oi.implySimilarTime(n,e),n}Ge.theDayAfter=$p;function LO(r,t=22){let e=Ea.default(r.instant),n=new qn.ParsingComponents(r,{});return n.imply("hour",t),n.imply("meridiem",Xo.Meridiem.PM),oi.assignSimilarDate(n,e),n}Ge.tonight=LO;function UO(r,t=0){let e=Ea.default(r.instant),n=new qn.ParsingComponents(r,{});return e.hour()<6&&(e=e.add(-1,"day")),oi.assignSimilarDate(n,e),n.imply("hour",t),n}Ge.lastNight=UO;function jO(r,t=20){let e=new qn.ParsingComponents(r,{});return e.imply("meridiem",Xo.Meridiem.PM),e.imply("hour",t),e}Ge.evening=jO;function WO(r,t=20){let e=Ea.default(r.instant),n=new qn.ParsingComponents(r,{});return e=e.add(-1,"day"),oi.assignSimilarDate(n,e),n.imply("hour",t),n.imply("meridiem",Xo.Meridiem.PM),n}Ge.yesterdayEvening=WO;function $O(r){let t=new qn.ParsingComponents(r,{});return t.imply("hour",0),t.imply("minute",0),t.imply("second",0),t}Ge.midnight=$O;function qO(r,t=6){let e=new qn.ParsingComponents(r,{});return e.imply("meridiem",Xo.Meridiem.AM),e.imply("hour",t),e}Ge.morning=qO;function YO(r){let t=new qn.ParsingComponents(r,{});return t.imply("meridiem",Xo.Meridiem.AM),t.imply("hour",12),t}Ge.noon=YO});var UT=x(gn=>{"use strict";var HO=gn&&gn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),GO=gn&&gn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),BO=gn&&gn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&HO(t,r,e);return GO(t,r),t},VO=gn&&gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gn,"__esModule",{value:!0});var zO=VO(Ue()),KO=ne(),QO=$r(),Zo=BO(li()),XO=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,qp=class extends KO.AbstractParserWithWordBoundaryChecking{innerPattern(t){return XO}innerExtract(t,e){let n=zO.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();switch(i){case"now":return Zo.now(t.reference);case"today":return Zo.today(t.reference);case"yesterday":return Zo.yesterday(t.reference);case"tomorrow":case"tmr":case"tmrw":return Zo.tomorrow(t.reference);case"tonight":return Zo.tonight(t.reference);default:i.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),QO.assignSimilarDate(s,n),s.imply("hour",0));break}return s}};gn.default=qp});var jT=x(Jo=>{"use strict";var ZO=Jo&&Jo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jo,"__esModule",{value:!0});var Xu=ht(),JO=ne(),e1=ZO(Ue()),t1=$r(),r1=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,Yp=class extends JO.AbstractParserWithWordBoundaryChecking{innerPattern(){return r1}innerExtract(t,e){let n=e1.default(t.refDate),i=t.createParsingComponents();switch(e[1].toLowerCase()){case"afternoon":i.imply("meridiem",Xu.Meridiem.PM),i.imply("hour",15);break;case"evening":case"night":i.imply("meridiem",Xu.Meridiem.PM),i.imply("hour",20);break;case"midnight":t1.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"morning":i.imply("meridiem",Xu.Meridiem.AM),i.imply("hour",6);break;case"noon":i.imply("meridiem",Xu.Meridiem.AM),i.imply("hour",12);break}return i}};Jo.default=Yp});var vs=x(Fi=>{"use strict";var n1=Fi&&Fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.toDayJSClosestWeekday=Fi.toDayJSWeekday=void 0;var WT=n1(Ue());function i1(r,t,e){if(!e)return $T(r,t);let n=WT.default(r);switch(e){case"this":n=n.day(t);break;case"next":n=n.day(t+7);break;case"last":n=n.day(t-7);break}return n}Fi.toDayJSWeekday=i1;function $T(r,t){let e=WT.default(r),n=e.day();return Math.abs(t-7-n)<Math.abs(t-n)?e=e.day(t-7):Math.abs(t+7-n)<Math.abs(t-n)?e=e.day(t+7):e=e.day(t),e}Fi.toDayJSClosestWeekday=$T});var YT=x(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});var qT=Mt(),s1=Ke(),a1=ne(),o1=vs(),l1=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${s1.matchAnyPattern(qT.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),u1=1,c1=2,d1=3,Hp=class extends a1.AbstractParserWithWordBoundaryChecking{innerPattern(){return l1}innerExtract(t,e){let n=e[c1].toLowerCase(),i=qT.WEEKDAY_DICTIONARY[n],s=e[u1],a=e[d1],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="last"||o=="past"?l="last":o=="next"?l="next":o=="this"&&(l="this");let u=o1.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};Gp.default=Hp});var BT=x(el=>{"use strict";var f1=el&&el.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(el,"__esModule",{value:!0});var GT=Mt(),HT=rt(),p1=f1(Ue()),m1=ne(),h1=Ke(),g1=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${h1.matchAnyPattern(GT.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),y1=1,b1=2,Bp=class extends m1.AbstractParserWithWordBoundaryChecking{innerPattern(){return g1}innerExtract(t,e){let n=e[y1].toLowerCase(),i=e[b1].toLowerCase(),s=GT.TIME_UNIT_DICTIONARY[i];if(n=="next"||n.startsWith("after")){let l={};return l[s]=1,HT.ParsingComponents.createRelativeFromReference(t.reference,l)}if(n=="last"||n=="past"){let l={};return l[s]=-1,HT.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=p1.default(t.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};el.default=Bp});var yn=x(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ParsingContext=Oa.Chrono=void 0;var Da=rt(),T1=Vp(),xa=class{constructor(t){t=t||T1.createCasualConfiguration(),this.parsers=[...t.parsers],this.refiners=[...t.refiners]}clone(){return new xa({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(t,e,n){let i=this.parse(t,e,n);return i.length>0?i[0].start.date():null}parse(t,e,n){let i=new Zu(t,e,n),s=[];return this.parsers.forEach(a=>{let o=xa.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(t,e){let n=[],i=e.pattern(t),s=t.text,a=t.text,o=i.exec(a);for(;o;){let l=o.index+s.length-a.length;o.index=l;let u=e.extract(t,o);if(!u){a=s.substring(o.index+1),o=i.exec(a);continue}let c=null;u instanceof Da.ParsingResult?c=u:u instanceof Da.ParsingComponents?(c=t.createParsingResult(o.index,o[0]),c.start=u):c=t.createParsingResult(o.index,o[0],u),t.debug(()=>console.log(`${e.constructor.name} extracted result ${c}`)),n.push(c),a=s.substring(l+c.text.length),o=i.exec(a)}return n}};Oa.Chrono=xa;var Zu=class{constructor(t,e,n){this.text=t,this.reference=new Da.ReferenceWithTimezone(e),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(t){return t instanceof Da.ParsingComponents?t:new Da.ParsingComponents(this.reference,t)}createParsingResult(t,e,n,i){let s=typeof e=="string"?e:this.text.substring(t,e),a=n?this.createParsingComponents(n):null,o=i?this.createParsingComponents(i):null;return new Da.ParsingResult(this.reference,t,s,a,o)}debug(t){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(t):this.option.debug.debug(t))}};Oa.ParsingContext=Zu});var ws=x(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var VT=Ct(),_1=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Ju=1,zT=5,KT=2,QT=3,zp=4,Kp=class{constructor(t){this.groupNumberMonth=t?QT:KT,this.groupNumberDay=t?KT:QT}pattern(){return _1}extract(t,e){if(e[Ju]=="/"||e[zT]=="/"){e.index+=e[0].length;return}let n=e.index+e[Ju].length,i=e[0].substr(e[Ju].length,e[0].length-e[Ju].length-e[zT].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!e[zp]&&e[0].indexOf("/")<0)return;let s=t.createParsingResult(n,i),a=parseInt(e[this.groupNumberMonth]),o=parseInt(e[this.groupNumberDay]);if((a<1||a>12)&&a>12)if(o>=1&&o<=12&&a<=31)[o,a]=[a,o];else return null;if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",a),e[zp]){let l=parseInt(e[zp]),u=VT.findMostLikelyADYear(l);s.start.assign("year",u)}else{let l=VT.findYearClosestToRef(t.refDate,o,a);s.start.imply("year",l)}return s}};Qp.default=Kp});var ZT=x(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var XT=Mt(),v1=rt(),w1=ne(),k1=qr(),S1=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${XT.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Xp=class extends w1.AbstractParserWithWordBoundaryChecking{innerPattern(){return S1}innerExtract(t,e){let n=e[1].toLowerCase(),i=XT.parseTimeUnits(e[2]);switch(n){case"last":case"past":case"-":i=k1.reverseTimeUnits(i);break}return v1.ParsingComponents.createRelativeFromReference(t.reference,i)}};Zp.default=Xp});var e_=x(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var E1=wa(),Jp=rt(),D1=Mt(),x1=qr();function JT(r){return r.text.match(/\s+(before|from)$/i)!=null}function O1(r){return r.text.match(/\s+(after|since)$/i)!=null}var em=class extends E1.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(t,e,n){return!t.match(this.patternBetween())||!JT(e)&&!O1(e)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(t,e,n){let i=D1.parseTimeUnits(e.text);JT(e)&&(i=x1.reverseTimeUnits(i));let s=Jp.ParsingComponents.createRelativeFromReference(new Jp.ReferenceWithTimezone(n.start.date()),i);return new Jp.ParsingResult(n.reference,e.index,`${e.text}${t}${n.text}`,s)}};tm.default=em});var Vp=x(lt=>{"use strict";var bt=lt&&lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.createConfiguration=lt.createCasualConfiguration=lt.parseDate=lt.parse=lt.GB=lt.strict=lt.casual=void 0;var C1=bt(Jb()),M1=bt(sT()),R1=bt(cT()),A1=bt(pT()),P1=bt(gT()),N1=bt(yT()),I1=bt(TT()),F1=bt(_T()),L1=bt(vT()),U1=bt(wT()),j1=bt(ET()),W1=ai(),$1=bt(UT()),q1=bt(jT()),Y1=bt(YT()),H1=bt(BT()),rm=yn(),G1=bt(ws()),B1=bt(ZT()),V1=bt(e_());lt.casual=new rm.Chrono(t_(!1));lt.strict=new rm.Chrono(ec(!0,!1));lt.GB=new rm.Chrono(ec(!1,!0));function z1(r,t,e){return lt.casual.parse(r,t,e)}lt.parse=z1;function K1(r,t,e){return lt.casual.parseDate(r,t,e)}lt.parseDate=K1;function t_(r=!1){let t=ec(!1,r);return t.parsers.unshift(new $1.default),t.parsers.unshift(new q1.default),t.parsers.unshift(new A1.default),t.parsers.unshift(new H1.default),t.parsers.unshift(new B1.default),t}lt.createCasualConfiguration=t_;function ec(r=!0,t=!1){return W1.includeCommonConfiguration({parsers:[new G1.default(t),new C1.default,new M1.default,new R1.default,new Y1.default,new P1.default,new N1.default,new I1.default(r),new F1.default(r),new L1.default(r)],refiners:[new V1.default,new j1.default,new U1.default]},r)}lt.createConfiguration=ec});var r_=x(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});var Q1=Ts(),nm=class extends Q1.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};im.default=nm});var tl=x(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.parseTimeUnits=Qe.TIME_UNITS_PATTERN=Qe.parseYear=Qe.YEAR_PATTERN=Qe.parseNumberPattern=Qe.NUMBER_PATTERN=Qe.TIME_UNIT_DICTIONARY=Qe.INTEGER_WORD_DICTIONARY=Qe.MONTH_DICTIONARY=Qe.WEEKDAY_DICTIONARY=void 0;var sm=Ke(),X1=Ct();Qe.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};Qe.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};Qe.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};Qe.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};Qe.NUMBER_PATTERN=`(?:${sm.matchAnyPattern(Qe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function i_(r){let t=r.toLowerCase();return Qe.INTEGER_WORD_DICTIONARY[t]!==void 0?Qe.INTEGER_WORD_DICTIONARY[t]:t==="a"||t==="an"?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Qe.parseNumberPattern=i_;Qe.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function Z1(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let t=parseInt(r);return X1.findMostLikelyADYear(t)}Qe.parseYear=Z1;var s_=`(${Qe.NUMBER_PATTERN})\\s{0,5}(${sm.matchAnyPattern(Qe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,n_=new RegExp(s_,"i");Qe.TIME_UNITS_PATTERN=sm.repeatedTimeunitPattern("",s_);function J1(r){let t={},e=r,n=n_.exec(e);for(;n;)eC(t,n),e=e.substring(n[0].length),n=n_.exec(e);return t}Qe.parseTimeUnits=J1;function eC(r,t){let e=i_(t[1]),n=Qe.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];r[n]=e}});var o_=x(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});var a_=tl(),tC=Ke(),rC=ne(),nC=vs(),iC=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${tC.matchAnyPattern(a_.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),sC=1,aC=3,oC=2,am=class extends rC.AbstractParserWithWordBoundaryChecking{innerPattern(){return iC}innerExtract(t,e){let n=e[oC].toLowerCase(),i=a_.WEEKDAY_DICTIONARY[n],s=e[sC],a=e[aC],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o.match(/letzte/)?l="last":o.match(/chste/)?l="next":o.match(/diese/)&&(l="this");let u=nC.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};om.default=am});var d_=x(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});var Li=ht(),lC=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),uC=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),cC=2,l_=3,u_=4,c_=5,Ca=class{pattern(t){return lC}extract(t,e){let n=t.createParsingResult(e.index+e[1].length,e[0].substring(e[1].length));if(n.text.match(/^\d{4}$/)||(n.start=Ca.extractTimeComponent(n.start.clone(),e),!n.start))return e.index+=e[0].length,null;let i=t.text.substring(e.index+e[0].length),s=uC.exec(i);return s&&(n.end=Ca.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(t,e){let n=0,i=0,s=null;if(n=parseInt(e[cC]),e[l_]!=null&&(i=parseInt(e[l_])),i>=60||n>24)return null;if(n>=12&&(s=Li.Meridiem.PM),e[c_]!=null){if(n>12)return null;let a=e[c_].toLowerCase();a.match(/morgen|vormittag/)&&(s=Li.Meridiem.AM,n==12&&(n=0)),a.match(/nachmittag|abend/)&&(s=Li.Meridiem.PM,n!=12&&(n+=12)),a.match(/nacht/)&&(n==12?(s=Li.Meridiem.AM,n=0):n<6?s=Li.Meridiem.AM:(s=Li.Meridiem.PM,n+=12))}if(t.assign("hour",n),t.assign("minute",i),s!==null?t.assign("meridiem",s):n<12?t.imply("meridiem",Li.Meridiem.AM):t.imply("meridiem",Li.Meridiem.PM),e[u_]!=null){let a=parseInt(e[u_]);if(a>=60)return null;t.assign("second",a)}return t}};lm.default=Ca});var f_=x(rl=>{"use strict";var dC=rl&&rl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rl,"__esModule",{value:!0});var fC=dC($n()),um=class extends fC.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};rl.default=um});var p_=x(nl=>{"use strict";var pC=nl&&nl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nl,"__esModule",{value:!0});var mC=pC(si()),cm=class extends mC.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};nl.default=cm});var dm=x(sl=>{"use strict";var hC=sl&&sl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sl,"__esModule",{value:!0});var gC=hC(Ue()),ks=ht(),yC=ne(),bC=$r(),TC=qr(),il=class extends yC.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(t,e){let n=gC.default(t.refDate),i=e[2].toLowerCase(),s=t.createParsingComponents();return bC.implySimilarTime(s,n),il.extractTimeComponents(s,i)}static extractTimeComponents(t,e){switch(e){case"morgen":t.imply("hour",6),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"vormittag":t.imply("hour",9),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"mittag":case"mittags":t.imply("hour",12),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break;case"nachmittag":t.imply("hour",15),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"abend":t.imply("hour",18),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"nacht":t.imply("hour",22),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.PM);break;case"mitternacht":t.get("hour")>1&&(t=TC.addImpliedTimeUnits(t,{day:1})),t.imply("hour",0),t.imply("minute",0),t.imply("second",0),t.imply("meridiem",ks.Meridiem.AM);break}return t}};sl.default=il});var g_=x(bn=>{"use strict";var _C=bn&&bn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),vC=bn&&bn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),wC=bn&&bn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&_C(t,r,e);return vC(t,r),t},h_=bn&&bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bn,"__esModule",{value:!0});var kC=h_(Ue()),SC=ne(),Ss=$r(),EC=h_(dm()),m_=wC(li()),DC=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),xC=1,OC=2,fm=class extends SC.AbstractParserWithWordBoundaryChecking{innerPattern(t){return DC}innerExtract(t,e){let n=kC.default(t.refDate),i=(e[xC]||"").toLowerCase(),s=(e[OC]||"").toLowerCase(),a=t.createParsingComponents();switch(i){case"jetzt":a=m_.now(t.reference);break;case"heute":a=m_.today(t.reference);break;case"morgen":Ss.assignTheNextDay(a,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),Ss.assignTheNextDay(a,n);break;case"gestern":n=n.add(-1,"day"),Ss.assignSimilarDate(a,n),Ss.implySimilarTime(a,n);break;case"vorgestern":n=n.add(-2,"day"),Ss.assignSimilarDate(a,n),Ss.implySimilarTime(a,n);break;default:i.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),Ss.assignSimilarDate(a,n),a.imply("hour",0));break}return s&&(a=EC.default.extractTimeComponents(a,s)),a}};bn.default=fm});var w_=x(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});var CC=Ct(),__=tl(),v_=tl(),MC=Ke(),RC=ne(),AC=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${MC.matchAnyPattern(__.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${v_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),y_=1,b_=2,PC=3,T_=4,pm=class extends RC.AbstractParserWithWordBoundaryChecking{innerPattern(){return AC}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=__.MONTH_DICTIONARY[e[PC].toLowerCase()],s=parseInt(e[y_]);if(s>31)return e.index=e.index+e[y_].length,null;if(n.start.assign("month",i),n.start.assign("day",s),e[T_]){let a=v_.parseYear(e[T_]);n.start.assign("year",a)}else{let a=CC.findYearClosestToRef(t.refDate,s,i);n.start.imply("year",a)}if(e[b_]){let a=parseInt(e[b_]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};mm.default=pm});var k_=x(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});var tc=tl(),NC=rt(),IC=ne(),FC=qr(),LC=Ke(),hm=class extends IC.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${tc.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${LC.matchAnyPattern(tc.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(t,e){let n=e[2]?tc.parseNumberPattern(e[2]):1,i=tc.TIME_UNIT_DICTIONARY[e[4].toLowerCase()],s={};s[i]=n;let a=e[1]||e[3]||"";if(a=a.toLowerCase(),!!a)return(/vor/.test(a)||/letzte/.test(a)||/vergangen/.test(a))&&(s=FC.reverseTimeUnits(s)),NC.ParsingComponents.createRelativeFromReference(t.reference,s)}};gm.default=hm});var D_=x(Tt=>{"use strict";var Tn=Tt&&Tt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createConfiguration=Tt.createCasualConfiguration=Tt.parseDate=Tt.parse=Tt.strict=Tt.casual=void 0;var UC=ai(),S_=yn(),jC=Tn(ws()),WC=Tn(Up()),$C=Tn(r_()),qC=Tn(o_()),YC=Tn(d_()),HC=Tn(f_()),GC=Tn(p_()),BC=Tn(g_()),VC=Tn(dm()),zC=Tn(w_()),KC=Tn(k_());Tt.casual=new S_.Chrono(E_());Tt.strict=new S_.Chrono(ym(!0));function QC(r,t,e){return Tt.casual.parse(r,t,e)}Tt.parse=QC;function XC(r,t,e){return Tt.casual.parseDate(r,t,e)}Tt.parseDate=XC;function E_(r=!0){let t=ym(!1,r);return t.parsers.unshift(new VC.default),t.parsers.unshift(new BC.default),t.parsers.unshift(new KC.default),t}Tt.createCasualConfiguration=E_;function ym(r=!0,t=!0){return UC.includeCommonConfiguration({parsers:[new WC.default,new jC.default(t),new $C.default,new YC.default,new zC.default,new qC.default],refiners:[new HC.default,new GC.default]},r)}Tt.createConfiguration=ym});var O_=x(_n=>{"use strict";var ZC=_n&&_n.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),JC=_n&&_n.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),eM=_n&&_n.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&ZC(t,r,e);return JC(t,r),t},tM=_n&&_n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_n,"__esModule",{value:!0});var rM=tM(Ue()),nM=ht(),iM=ne(),x_=$r(),rc=eM(li()),bm=class extends iM.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(t,e){let n=rM.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();switch(i){case"maintenant":return rc.now(t.reference);case"aujourd'hui":return rc.today(t.reference);case"hier":return rc.yesterday(t.reference);case"demain":return rc.tomorrow(t.reference);default:i.match(/cette\s*nuit/)?(x_.assignSimilarDate(s,n),s.imply("hour",22),s.imply("meridiem",nM.Meridiem.PM)):i.match(/la\s*veille/)&&(n=n.add(-1,"day"),x_.assignSimilarDate(s,n),s.imply("hour",0))}return s}};_n.default=bm});var C_=x(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});var al=ht(),sM=ne(),Tm=class extends sM.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(t,e){let n=e[2].toLowerCase(),i=t.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":i.imply("hour",14),i.imply("minute",0),i.imply("meridiem",al.Meridiem.PM);break;case"soir":i.imply("hour",18),i.imply("minute",0),i.imply("meridiem",al.Meridiem.PM);break;case"matin":i.imply("hour",8),i.imply("minute",0),i.imply("meridiem",al.Meridiem.AM);break;case"a midi":i.imply("hour",12),i.imply("minute",0),i.imply("meridiem",al.Meridiem.AM);break;case"\xE0 minuit":i.imply("hour",0),i.imply("meridiem",al.Meridiem.AM);break}return i}};_m.default=Tm});var M_=x(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});var aM=Ts(),vm=class extends aM.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};wm.default=vm});var R_=x(ol=>{"use strict";var oM=ol&&ol.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ol,"__esModule",{value:!0});var lM=oM(si()),km=class extends lM.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};ol.default=km});var A_=x(ll=>{"use strict";var uM=ll&&ll.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ll,"__esModule",{value:!0});var cM=uM($n()),Sm=class extends cM.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};ll.default=Sm});var Ui=x(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseTimeUnits=je.TIME_UNITS_PATTERN=je.parseYear=je.YEAR_PATTERN=je.parseOrdinalNumberPattern=je.ORDINAL_NUMBER_PATTERN=je.parseNumberPattern=je.NUMBER_PATTERN=je.TIME_UNIT_DICTIONARY=je.INTEGER_WORD_DICTIONARY=je.MONTH_DICTIONARY=je.WEEKDAY_DICTIONARY=void 0;var Em=Ke();je.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};je.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};je.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};je.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};je.NUMBER_PATTERN=`(?:${Em.matchAnyPattern(je.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function N_(r){let t=r.toLowerCase();return je.INTEGER_WORD_DICTIONARY[t]!==void 0?je.INTEGER_WORD_DICTIONARY[t]:t==="une"||t==="un"?1:t.match(/quelques?/)?3:t.match(/demi-?/)?.5:parseFloat(t)}je.parseNumberPattern=N_;je.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function dM(r){let t=r.toLowerCase();return t=t.replace(/(?:er)$/i,""),parseInt(t)}je.parseOrdinalNumberPattern=dM;je.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function fM(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let t=parseInt(r);return t<100&&(t>50?t=t+1900:t=t+2e3),t}je.parseYear=fM;var I_=`(${je.NUMBER_PATTERN})\\s{0,5}(${Em.matchAnyPattern(je.TIME_UNIT_DICTIONARY)})\\s{0,5}`,P_=new RegExp(I_,"i");je.TIME_UNITS_PATTERN=Em.repeatedTimeunitPattern("",I_);function pM(r){let t={},e=r,n=P_.exec(e);for(;n;)mM(t,n),e=e.substring(n[0].length),n=P_.exec(e);return t}je.parseTimeUnits=pM;function mM(r,t){let e=N_(t[1]),n=je.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];r[n]=e}});var L_=x(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});var F_=Ui(),hM=Ke(),gM=ne(),yM=vs(),bM=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${hM.matchAnyPattern(F_.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),TM=1,_M=2,Dm=class extends gM.AbstractParserWithWordBoundaryChecking{innerPattern(){return bM}innerExtract(t,e){let n=e[TM].toLowerCase(),i=F_.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=e[_M];s=s||"",s=s.toLowerCase();let a=null;s=="dernier"?a="last":s=="prochain"&&(a="next");let o=yM.toDayJSWeekday(t.refDate,i,a);return t.createParsingComponents().assign("weekday",i).imply("day",o.date()).imply("month",o.month()+1).imply("year",o.year())}};xm.default=Dm});var $_=x(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});var ul=ht(),vM=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),wM=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),kM=2,U_=3,j_=4,W_=5,Ma=class{pattern(t){return vM}extract(t,e){let n=t.createParsingResult(e.index+e[1].length,e[0].substring(e[1].length));if(n.text.match(/^\d{4}$/)||(n.start=Ma.extractTimeComponent(n.start.clone(),e),!n.start))return e.index+=e[0].length,null;let i=t.text.substring(e.index+e[0].length),s=wM.exec(i);return s&&(n.end=Ma.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(t,e){let n=0,i=0,s=null;if(n=parseInt(e[kM]),e[U_]!=null&&(i=parseInt(e[U_])),i>=60||n>24)return null;if(n>=12&&(s=ul.Meridiem.PM),e[W_]!=null){if(n>12)return null;let a=e[W_][0].toLowerCase();a=="a"&&(s=ul.Meridiem.AM,n==12&&(n=0)),a=="p"&&(s=ul.Meridiem.PM,n!=12&&(n+=12))}if(t.assign("hour",n),t.assign("minute",i),s!==null?t.assign("meridiem",s):n<12?t.imply("meridiem",ul.Meridiem.AM):t.imply("meridiem",ul.Meridiem.PM),e[j_]!=null){let a=parseInt(e[j_]);if(a>=60)return null;t.assign("second",a)}return t}};Om.default=Ma});var V_=x(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});var SM=Ct(),G_=Ui(),B_=Ui(),nc=Ui(),EM=Ke(),DM=ne(),xM=new RegExp(`(?:on\\s*?)?(${nc.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${nc.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${EM.matchAnyPattern(G_.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${B_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),q_=1,Y_=2,OM=3,H_=4,Cm=class extends DM.AbstractParserWithWordBoundaryChecking{innerPattern(){return xM}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=G_.MONTH_DICTIONARY[e[OM].toLowerCase()],s=nc.parseOrdinalNumberPattern(e[q_]);if(s>31)return e.index=e.index+e[q_].length,null;if(n.start.assign("month",i),n.start.assign("day",s),e[H_]){let a=B_.parseYear(e[H_]);n.start.assign("year",a)}else{let a=SM.findYearClosestToRef(t.refDate,s,i);n.start.imply("year",a)}if(e[Y_]){let a=nc.parseOrdinalNumberPattern(e[Y_]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Mm.default=Cm});var K_=x(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});var z_=Ui(),CM=rt(),MM=ne(),RM=qr(),Rm=class extends MM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${z_.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(t,e){let n=z_.parseTimeUnits(e[1]),i=RM.reverseTimeUnits(n);return CM.ParsingComponents.createRelativeFromReference(t.reference,i)}};Am.default=Rm});var X_=x(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});var Q_=Ui(),AM=rt(),PM=ne(),Pm=class extends PM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${Q_.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(t,e){let n=Q_.parseTimeUnits(e[1]);return AM.ParsingComponents.createRelativeFromReference(t.reference,n)}};Nm.default=Pm});var Z_=x(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});var ic=Ui(),NM=rt(),IM=ne(),FM=qr(),LM=Ke(),Im=class extends IM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${ic.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${LM.matchAnyPattern(ic.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(t,e){let n=e[1]?ic.parseNumberPattern(e[1]):1,i=ic.TIME_UNIT_DICTIONARY[e[3].toLowerCase()],s={};s[i]=n;let a=e[2]||e[4]||"";if(a=a.toLowerCase(),!!a)return(/derni[eè]re?s?/.test(a)||/pass[ée]e?s?/.test(a)||/pr[ée]c[ée]dents?/.test(a))&&(s=FM.reverseTimeUnits(s)),NM.ParsingComponents.createRelativeFromReference(t.reference,s)}};Fm.default=Im});var tv=x(_t=>{"use strict";var Yr=_t&&_t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_t,"__esModule",{value:!0});_t.createConfiguration=_t.createCasualConfiguration=_t.parseDate=_t.parse=_t.strict=_t.casual=void 0;var UM=ai(),J_=yn(),jM=Yr(O_()),WM=Yr(C_()),$M=Yr(ws()),qM=Yr(M_()),YM=Yr(R_()),HM=Yr(A_()),GM=Yr(L_()),BM=Yr($_()),VM=Yr(V_()),zM=Yr(K_()),KM=Yr(X_()),QM=Yr(Z_());_t.casual=new J_.Chrono(ev());_t.strict=new J_.Chrono(Lm(!0));function XM(r,t,e){return _t.casual.parse(r,t,e)}_t.parse=XM;function ZM(r,t,e){return _t.casual.parseDate(r,t,e)}_t.parseDate=ZM;function ev(r=!0){let t=Lm(!1,r);return t.parsers.unshift(new jM.default),t.parsers.unshift(new WM.default),t.parsers.unshift(new QM.default),t}_t.createCasualConfiguration=ev;function Lm(r=!0,t=!0){return UM.includeCommonConfiguration({parsers:[new $M.default(t),new VM.default,new qM.default,new BM.default,new zM.default,new KM.default,new GM.default],refiners:[new YM.default,new HM.default]},r)}_t.createConfiguration=Lm});var rv=x(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.toHankaku=void 0;function JM(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,eR)}sc.toHankaku=JM;function eR(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var iv=x(cl=>{"use strict";var tR=cl&&cl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cl,"__esModule",{value:!0});var Um=rv(),rR=Ct(),nR=tR(Ue()),iR=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,nv=1,sR=2,jm=3,aR=4,oR=5,lR=6,Wm=class{pattern(){return iR}extract(t,e){let n=parseInt(Um.toHankaku(e[oR])),i=parseInt(Um.toHankaku(e[lR])),s=t.createParsingComponents({day:i,month:n});if(e[nv]&&e[nv].match("\u540C|\u4ECA|\u672C")){let a=nR.default(t.refDate);s.assign("year",a.year())}if(e[sR]){let a=e[aR],o=a=="\u5143"?1:parseInt(Um.toHankaku(a));e[jm]=="\u4EE4\u548C"?o+=2018:e[jm]=="\u5E73\u6210"?o+=1988:e[jm]=="\u662D\u548C"&&(o+=1925),s.assign("year",o)}else{let a=rR.findYearClosestToRef(t.refDate,i,n);s.imply("year",a)}return s}};cl.default=Wm});var sv=x(dl=>{"use strict";var uR=dl&&dl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dl,"__esModule",{value:!0});var cR=uR($n()),$m=class extends cR.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};dl.default=$m});var ov=x(vn=>{"use strict";var dR=vn&&vn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),fR=vn&&vn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),pR=vn&&vn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&dR(t,r,e);return fR(t,r),t},mR=vn&&vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vn,"__esModule",{value:!0});var hR=mR(Ue()),av=ht(),qm=pR(li()),gR=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,Ym=class{pattern(){return gR}extract(t,e){let n=e[0],i=hR.default(t.refDate),s=t.createParsingComponents();switch(n){case"\u6628\u65E5":return qm.yesterday(t.reference);case"\u660E\u65E5":return qm.tomorrow(t.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return qm.today(t.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(s.imply("hour",22),s.assign("meridiem",av.Meridiem.PM)):n.match("\u4ECA\u671D")&&(s.imply("hour",6),s.assign("meridiem",av.Meridiem.AM)),s.assign("day",i.date()),s.assign("month",i.month()+1),s.assign("year",i.year()),s}};vn.default=Ym});var cv=x(vt=>{"use strict";var Hm=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});vt.createConfiguration=vt.createCasualConfiguration=vt.parseDate=vt.parse=vt.strict=vt.casual=void 0;var yR=Hm(iv()),bR=Hm(sv()),TR=Hm(ov()),lv=yn();vt.casual=new lv.Chrono(uv());vt.strict=new lv.Chrono(Gm());function _R(r,t,e){return vt.casual.parse(r,t,e)}vt.parse=_R;function vR(r,t,e){return vt.casual.parseDate(r,t,e)}vt.parseDate=vR;function uv(){let r=Gm();return r.parsers.unshift(new TR.default),r}vt.createCasualConfiguration=uv;function Gm(){return{parsers:[new yR.default],refiners:[new bR.default]}}vt.createConfiguration=Gm});var ac=x(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.parseYear=Yn.YEAR_PATTERN=Yn.MONTH_DICTIONARY=Yn.WEEKDAY_DICTIONARY=void 0;Yn.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};Yn.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};Yn.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function wR(r){if(r.match(/^[0-9]{1,4}$/)){let t=parseInt(r);return t<100&&(t>50?t=t+1900:t=t+2e3),t}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}Yn.parseYear=wR});var fv=x(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});var dv=ac(),kR=Ke(),SR=ne(),ER=vs(),DR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${kR.matchAnyPattern(dv.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),xR=1,OR=2,CR=3,Bm=class extends SR.AbstractParserWithWordBoundaryChecking{innerPattern(){return DR}innerExtract(t,e){let n=e[OR].toLowerCase(),i=dv.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=e[xR],a=e[CR],o=s||a||"";o=o.toLowerCase();let l=null;o=="passado"?l="this":o=="pr\xF3ximo"||o=="proximo"?l="next":o=="este"&&(l="this");let u=ER.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};Vm.default=Bm});var pv=x(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});var MR=Ts(),zm=class extends MR.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};Km.default=zm});var mv=x(fl=>{"use strict";var RR=fl&&fl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fl,"__esModule",{value:!0});var AR=RR(si()),Qm=class extends AR.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};fl.default=Qm});var hv=x(pl=>{"use strict";var PR=pl&&pl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pl,"__esModule",{value:!0});var NR=PR($n()),Xm=class extends NR.default{patternBetween(){return/^\s*(?:-)\s*$/i}};pl.default=Xm});var vv=x(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});var IR=Ct(),Tv=ac(),_v=ac(),FR=Ke(),LR=ne(),UR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${FR.matchAnyPattern(Tv.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${_v.YEAR_PATTERN}))?(?=\\W|$)`,"i"),gv=1,yv=2,jR=3,bv=4,Zm=class extends LR.AbstractParserWithWordBoundaryChecking{innerPattern(){return UR}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=Tv.MONTH_DICTIONARY[e[jR].toLowerCase()],s=parseInt(e[gv]);if(s>31)return e.index=e.index+e[gv].length,null;if(n.start.assign("month",i),n.start.assign("day",s),e[bv]){let a=_v.parseYear(e[bv]);n.start.assign("year",a)}else{let a=IR.findYearClosestToRef(t.refDate,s,i);n.start.imply("year",a)}if(e[yv]){let a=parseInt(e[yv]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Jm.default=Zm});var wv=x(ui=>{"use strict";var WR=ui&&ui.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),$R=ui&&ui.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),qR=ui&&ui.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&WR(t,r,e);return $R(t,r),t};Object.defineProperty(ui,"__esModule",{value:!0});var YR=ne(),oc=qR(li()),eh=class extends YR.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(t,e){let n=e[0].toLowerCase(),i=t.createParsingComponents();switch(n){case"agora":return oc.now(t.reference);case"hoje":return oc.today(t.reference);case"amanha":case"amanh\xE3":return oc.tomorrow(t.reference);case"ontem":return oc.yesterday(t.reference)}return i}};ui.default=eh});var kv=x(ml=>{"use strict";var HR=ml&&ml.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ml,"__esModule",{value:!0});var lc=ht(),GR=ne(),BR=$r(),VR=HR(Ue()),th=class extends GR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(t,e){let n=VR.default(t.refDate),i=t.createParsingComponents();switch(e[1].toLowerCase()){case"tarde":i.imply("meridiem",lc.Meridiem.PM),i.imply("hour",15);break;case"noite":i.imply("meridiem",lc.Meridiem.PM),i.imply("hour",22);break;case"manha":case"manh\xE3":i.imply("meridiem",lc.Meridiem.AM),i.imply("hour",6);break;case"meia-noite":BR.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"meio-dia":i.imply("meridiem",lc.Meridiem.AM),i.imply("hour",12);break}return i}};ml.default=th});var Dv=x(wt=>{"use strict";var ji=wt&&wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wt,"__esModule",{value:!0});wt.createConfiguration=wt.createCasualConfiguration=wt.parseDate=wt.parse=wt.strict=wt.casual=void 0;var zR=ai(),Sv=yn(),KR=ji(ws()),QR=ji(fv()),XR=ji(pv()),ZR=ji(mv()),JR=ji(hv()),eA=ji(vv()),tA=ji(wv()),rA=ji(kv());wt.casual=new Sv.Chrono(Ev());wt.strict=new Sv.Chrono(rh(!0));function nA(r,t,e){return wt.casual.parse(r,t,e)}wt.parse=nA;function iA(r,t,e){return wt.casual.parseDate(r,t,e)}wt.parseDate=iA;function Ev(r=!0){let t=rh(!1,r);return t.parsers.push(new tA.default),t.parsers.push(new rA.default),t}wt.createCasualConfiguration=Ev;function rh(r=!0,t=!0){return zR.includeCommonConfiguration({parsers:[new KR.default(t),new QR.default,new XR.default,new eA.default],refiners:[new ZR.default,new JR.default]},r)}wt.createConfiguration=rh});var xv=x(hl=>{"use strict";var sA=hl&&hl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hl,"__esModule",{value:!0});var aA=sA($n()),nh=class extends aA.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};hl.default=nh});var Ov=x(gl=>{"use strict";var oA=gl&&gl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gl,"__esModule",{value:!0});var lA=oA(si()),ih=class extends lA.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};gl.default=ih});var Cv=x(ci=>{"use strict";var uA=ci&&ci.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),cA=ci&&ci.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),dA=ci&&ci.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&uA(t,r,e);return cA(t,r),t};Object.defineProperty(ci,"__esModule",{value:!0});var fA=ne(),uc=dA(li()),sh=class extends fA.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(t,e){let n=e[0].toLowerCase(),i=t.createParsingComponents();switch(n){case"nu":return uc.now(t.reference);case"vandaag":return uc.today(t.reference);case"morgen":case"morgend":return uc.tomorrow(t.reference);case"gisteren":return uc.yesterday(t.reference)}return i}};ci.default=sh});var Mv=x(yl=>{"use strict";var pA=yl&&yl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yl,"__esModule",{value:!0});var cc=ht(),mA=ne(),hA=pA(Ue()),gA=$r(),yA=1,bA=2,ah=class extends mA.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(t,e){let n=hA.default(t.refDate),i=t.createParsingComponents();switch(e[yA]==="deze"&&(i.assign("day",t.refDate.getDate()),i.assign("month",t.refDate.getMonth()+1),i.assign("year",t.refDate.getFullYear())),e[bA].toLowerCase()){case"namiddag":case"'s namiddags":i.imply("meridiem",cc.Meridiem.PM),i.imply("hour",15);break;case"avond":case"'s avonds'":i.imply("meridiem",cc.Meridiem.PM),i.imply("hour",20);break;case"middernacht":gA.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"ochtend":case"'s ochtends":i.imply("meridiem",cc.Meridiem.AM),i.imply("hour",6);break;case"middag":case"'s middags":i.imply("meridiem",cc.Meridiem.AM),i.imply("hour",12);break}return i}};yl.default=ah});var kr=x(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.parseTimeUnits=Pe.TIME_UNITS_PATTERN=Pe.parseYear=Pe.YEAR_PATTERN=Pe.parseOrdinalNumberPattern=Pe.ORDINAL_NUMBER_PATTERN=Pe.parseNumberPattern=Pe.NUMBER_PATTERN=Pe.TIME_UNIT_DICTIONARY=Pe.ORDINAL_WORD_DICTIONARY=Pe.INTEGER_WORD_DICTIONARY=Pe.MONTH_DICTIONARY=Pe.WEEKDAY_DICTIONARY=void 0;var dc=Ke(),TA=Ct();Pe.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};Pe.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};Pe.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};Pe.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};Pe.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};Pe.NUMBER_PATTERN=`(?:${dc.matchAnyPattern(Pe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function Av(r){let t=r.toLowerCase();return Pe.INTEGER_WORD_DICTIONARY[t]!==void 0?Pe.INTEGER_WORD_DICTIONARY[t]:t==="paar"?2:t==="half"||t.match(/halve?/)?.5:parseFloat(t.replace(",","."))}Pe.parseNumberPattern=Av;Pe.ORDINAL_NUMBER_PATTERN=`(?:${dc.matchAnyPattern(Pe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function _A(r){let t=r.toLowerCase();return Pe.ORDINAL_WORD_DICTIONARY[t]!==void 0?Pe.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:ste|de)$/i,""),parseInt(t))}Pe.parseOrdinalNumberPattern=_A;Pe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function vA(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let t=parseInt(r);return TA.findMostLikelyADYear(t)}Pe.parseYear=vA;var Pv=`(${Pe.NUMBER_PATTERN})\\s{0,5}(${dc.matchAnyPattern(Pe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Rv=new RegExp(Pv,"i");Pe.TIME_UNITS_PATTERN=dc.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",Pv);function wA(r){let t={},e=r,n=Rv.exec(e);for(;n;)kA(t,n),e=e.substring(n[0].length),n=Rv.exec(e);return t}Pe.parseTimeUnits=wA;function kA(r,t){let e=Av(t[1]),n=Pe.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];r[n]=e}});var Iv=x(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var Nv=kr(),SA=rt(),EA=ne(),oh=class extends EA.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+Nv.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(t,e){let n=Nv.parseTimeUnits(e[1]);return SA.ParsingComponents.createRelativeFromReference(t.reference,n)}};lh.default=oh});var Lv=x(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var Fv=kr(),DA=Ke(),xA=ne(),OA=vs(),CA=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${DA.matchAnyPattern(Fv.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),MA=1,RA=2,AA=3,uh=class extends xA.AbstractParserWithWordBoundaryChecking{innerPattern(){return CA}innerExtract(t,e){let n=e[RA].toLowerCase(),i=Fv.WEEKDAY_DICTIONARY[n],s=e[MA],a=e[AA],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="vorige"?l="last":o=="volgende"?l="next":o=="deze"&&(l="this");let u=OA.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};ch.default=uh});var Yv=x(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});var PA=Ct(),$v=kr(),fc=kr(),qv=kr(),NA=Ke(),IA=ne(),FA=new RegExp(`(?:on\\s*?)?(${fc.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${fc.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+NA.matchAnyPattern($v.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${qv.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),LA=3,Uv=1,jv=2,Wv=4,dh=class extends IA.AbstractParserWithWordBoundaryChecking{innerPattern(){return FA}innerExtract(t,e){let n=$v.MONTH_DICTIONARY[e[LA].toLowerCase()],i=fc.parseOrdinalNumberPattern(e[Uv]);if(i>31)return e.index=e.index+e[Uv].length,null;let s=t.createParsingComponents({day:i,month:n});if(e[Wv]){let l=qv.parseYear(e[Wv]);s.assign("year",l)}else{let l=PA.findYearClosestToRef(t.refDate,i,n);s.imply("year",l)}if(!e[jv])return s;let a=fc.parseOrdinalNumberPattern(e[jv]),o=t.createParsingResult(e.index,e[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};fh.default=dh});var Vv=x(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var Gv=kr(),UA=Ct(),jA=Ke(),Bv=kr(),WA=ne(),$A=new RegExp(`(${jA.matchAnyPattern(Gv.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Bv.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),qA=1,Hv=2,ph=class extends WA.AbstractParserWithWordBoundaryChecking{innerPattern(){return $A}innerExtract(t,e){let n=t.createParsingComponents();n.imply("day",1);let i=e[qA],s=Gv.MONTH_DICTIONARY[i.toLowerCase()];if(n.assign("month",s),e[Hv]){let a=Bv.parseYear(e[Hv]);n.assign("year",a)}else{let a=UA.findYearClosestToRef(t.refDate,1,s);n.imply("year",a)}return n}};mh.default=ph});var zv=x(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var YA=ne(),HA=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),GA=1,BA=2,hh=class extends YA.AbstractParserWithWordBoundaryChecking{innerPattern(){return HA}innerExtract(t,e){let n=parseInt(e[BA]),i=parseInt(e[GA]);return t.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};gh.default=hh});var Kv=x(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});var VA=Ts(),yh=class extends VA.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,e){return e[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(t,e)}};bh.default=yh});var Zv=x(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});var Xv=kr(),zA=Ke(),KA=ne(),QA=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${zA.matchAnyPattern(Xv.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),XA=1,ZA=2,Qv=3,JA=4,Th=class extends KA.AbstractParserWithWordBoundaryChecking{innerPattern(){return QA}innerExtract(t,e){let n=e[Qv]?parseInt(e[Qv]):Xv.MONTH_DICTIONARY[e[ZA].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(e[XA]);return{day:parseInt(e[JA]),month:n,year:i}}};_h.default=Th});var Jv=x(bl=>{"use strict";var eP=bl&&bl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bl,"__esModule",{value:!0});var tP=ne(),pc=ht(),vh=$r(),rP=eP(Ue()),nP=1,iP=2,wh=class extends tP.AbstractParserWithWordBoundaryChecking{innerPattern(t){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(t,e){let n=e[nP].toLowerCase(),i=e[iP].toLowerCase(),s=t.createParsingComponents(),a=rP.default(t.refDate);switch(n){case"gisteren":vh.assignSimilarDate(s,a.add(-1,"day"));break;case"van":vh.assignSimilarDate(s,a);break;case"morgen":vh.assignTheNextDay(s,a);break}switch(i){case"ochtend":s.imply("meridiem",pc.Meridiem.AM),s.imply("hour",6);break;case"middag":s.imply("meridiem",pc.Meridiem.AM),s.imply("hour",12);break;case"namiddag":s.imply("meridiem",pc.Meridiem.PM),s.imply("hour",15);break;case"avond":s.imply("meridiem",pc.Meridiem.PM),s.imply("hour",20);break}return s}};bl.default=wh});var tw=x(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});var ew=kr(),sP=rt(),aP=ne(),oP=qr(),lP=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${ew.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),kh=class extends aP.AbstractParserWithWordBoundaryChecking{innerPattern(){return lP}innerExtract(t,e){let n=e[1].toLowerCase(),i=ew.parseTimeUnits(e[2]);switch(n){case"vorige":case"afgelopen":case"-":i=oP.reverseTimeUnits(i);break}return sP.ParsingComponents.createRelativeFromReference(t.reference,i)}};Sh.default=kh});var iw=x(Tl=>{"use strict";var uP=Tl&&Tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tl,"__esModule",{value:!0});var nw=kr(),rw=rt(),cP=uP(Ue()),dP=ne(),fP=Ke(),pP=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${fP.matchAnyPattern(nw.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),mP=1,hP=2,Eh=class extends dP.AbstractParserWithWordBoundaryChecking{innerPattern(){return pP}innerExtract(t,e){let n=e[mP].toLowerCase(),i=e[hP].toLowerCase(),s=nw.TIME_UNIT_DICTIONARY[i];if(n=="volgend"||n=="volgende"||n=="komende"){let l={};return l[s]=1,rw.ParsingComponents.createRelativeFromReference(t.reference,l)}if(n=="afgelopen"||n=="vorige"){let l={};return l[s]=-1,rw.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=cP.default(t.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/maand/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/jaar/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};Tl.default=Eh});var sw=x(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});var xh=kr(),gP=rt(),yP=ne(),bP=qr(),TP=new RegExp("("+xh.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),_P=new RegExp("("+xh.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Dh=class extends yP.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?_P:TP}innerExtract(t,e){let n=xh.parseTimeUnits(e[1]),i=bP.reverseTimeUnits(n);return gP.ParsingComponents.createRelativeFromReference(t.reference,i)}};Oh.default=Dh});var aw=x(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});var Mh=kr(),vP=rt(),wP=ne(),kP=new RegExp("("+Mh.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),SP=new RegExp("("+Mh.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),EP=1,Ch=class extends wP.AbstractParserWithWordBoundaryChecking{constructor(t){super(),this.strictMode=t}innerPattern(){return this.strictMode?SP:kP}innerExtract(t,e){let n=Mh.parseTimeUnits(e[EP]);return vP.ParsingComponents.createRelativeFromReference(t.reference,n)}};Rh.default=Ch});var cw=x(kt=>{"use strict";var Rt=kt&&kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kt,"__esModule",{value:!0});kt.createConfiguration=kt.createCasualConfiguration=kt.parseDate=kt.parse=kt.strict=kt.casual=void 0;var DP=ai(),ow=yn(),xP=Rt(xv()),OP=Rt(Ov()),CP=Rt(Cv()),MP=Rt(Mv()),RP=Rt(ws()),AP=Rt(Iv()),PP=Rt(Lv()),NP=Rt(Yv()),lw=Rt(Vv()),IP=Rt(zv()),FP=Rt(Kv()),LP=Rt(Zv()),UP=Rt(Jv()),jP=Rt(tw()),WP=Rt(iw()),$P=Rt(sw()),qP=Rt(aw());kt.casual=new ow.Chrono(uw());kt.strict=new ow.Chrono(Ah(!0));function YP(r,t,e){return kt.casual.parse(r,t,e)}kt.parse=YP;function HP(r,t,e){return kt.casual.parseDate(r,t,e)}kt.parseDate=HP;function uw(r=!0){let t=Ah(!1,r);return t.parsers.unshift(new CP.default),t.parsers.unshift(new MP.default),t.parsers.unshift(new UP.default),t.parsers.unshift(new lw.default),t.parsers.unshift(new WP.default),t.parsers.unshift(new jP.default),t}kt.createCasualConfiguration=uw;function Ah(r=!0,t=!0){return DP.includeCommonConfiguration({parsers:[new RP.default(t),new AP.default,new NP.default,new lw.default,new PP.default,new LP.default,new IP.default,new FP.default(r),new $P.default(r),new qP.default(r)],refiners:[new OP.default,new xP.default]},r)}kt.createConfiguration=Ah});var mw=x(_l=>{"use strict";var GP=_l&&_l.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_l,"__esModule",{value:!0});var BP=GP(Ue()),VP=ne(),zP=1,dw=2,KP=3,fw=4,pw=5,QP=6,Ph=class extends VP.AbstractParserWithWordBoundaryChecking{innerPattern(t){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(t,e){let n=e.index,i=t.createParsingResult(n,e[0]),s=BP.default(t.refDate),a=s;if(e[zP])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(e[dw]){let o=e[dw],l=e[KP];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day")),l=="\u65E9"||l=="\u671D"?i.start.imply("hour",6):l=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(e[fw]){let l=e[fw][0];l=="\u65E9"||l=="\u671D"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"||l=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}else if(e[pw]){let o=e[pw];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day"));let l=e[QP];if(l){let u=l[0];u=="\u65E9"||u=="\u671D"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"||u=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};_l.default=Ph});var Ra=x(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.zhStringToYear=lr.zhStringToNumber=lr.WEEKDAY_OFFSET=lr.NUMBER=void 0;lr.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};lr.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function XP(r){let t=0;for(let e=0;e<r.length;e++){let n=r[e];n==="\u5341"?t=t===0?lr.NUMBER[n]:t*lr.NUMBER[n]:t+=lr.NUMBER[n]}return t}lr.zhStringToNumber=XP;function ZP(r){let t="";for(let e=0;e<r.length;e++){let n=r[e];t=t+lr.NUMBER[n]}return parseInt(t)}lr.zhStringToYear=ZP});var gw=x(vl=>{"use strict";var JP=vl&&vl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vl,"__esModule",{value:!0});var eN=JP(Ue()),tN=ne(),Es=Ra(),Nh=1,hw=2,Ih=3,Fh=class extends tN.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Es.NUMBER).join("")+"]{4}|["+Object.keys(Es.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Es.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Es.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(t,e){let n=eN.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=parseInt(e[hw]);if(isNaN(s)&&(s=Es.zhStringToNumber(e[hw])),i.start.assign("month",s),e[Ih]){let a=parseInt(e[Ih]);isNaN(a)&&(a=Es.zhStringToNumber(e[Ih])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(e[Nh]){let a=parseInt(e[Nh]);isNaN(a)&&(a=Es.zhStringToYear(e[Nh])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};vl.default=Fh});var bw=x(wl=>{"use strict";var rN=wl&&wl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wl,"__esModule",{value:!0});var nN=rN(Ue()),iN=ne(),yw=Ra(),sN=new RegExp("(\\d+|["+Object.keys(yw.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),Lh=1,aN=2,Uh=class extends iN.AbstractParserWithWordBoundaryChecking{innerPattern(){return sN}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=parseInt(e[Lh]);if(isNaN(i)&&(i=yw.zhStringToNumber(e[Lh])),isNaN(i)){let l=e[Lh];if(l==="\u5E7E")i=3;else if(l==="\u534A")i=.5;else return null}let s=nN.default(t.refDate),o=e[aN][0];return o.match(/[日天星禮月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u79AE"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u9418")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};wl.default=Uh});var _w=x(kl=>{"use strict";var oN=kl&&kl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kl,"__esModule",{value:!0});var lN=oN(Ue()),uN=ne(),Tw=Ra(),cN=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Tw.WEEKDAY_OFFSET).join("|")+")"),jh=class extends uN.AbstractParserWithWordBoundaryChecking{innerPattern(){return cN}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Tw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=e.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":(o=="\u4ECA"||o=="\u9019"||o=="\u5462")&&(a="this");let l=lN.default(t.refDate),u=!1,c=l.day();return a=="last"||a=="past"?(l=l.day(s-7),u=!0):a=="next"?(l=l.day(s+7),u=!0):a=="this"?l=l.day(s):Math.abs(s-7-c)<Math.abs(s-c)?l=l.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?l=l.day(s+7):l=l.day(s),n.start.assign("weekday",s),u?(n.start.assign("day",l.date()),n.start.assign("month",l.month()+1),n.start.assign("year",l.year())):(n.start.imply("day",l.date()),n.start.imply("month",l.month()+1),n.start.imply("year",l.year())),n}};kl.default=jh});var vw=x(Sl=>{"use strict";var dN=Sl&&Sl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sl,"__esModule",{value:!0});var fN=dN(Ue()),pN=ne(),Gr=Ra(),mN=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Gr.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Gr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Gr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),hN=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Gr.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Gr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Gr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),mc=1,hc=2,gc=3,yc=4,bc=5,Tc=6,Hr=7,Aa=8,_c=9,Wh=class extends pN.AbstractParserWithWordBoundaryChecking{innerPattern(){return mN}innerExtract(t,e){if(e.index>0&&t.text[e.index-1].match(/\w/))return null;let n=fN.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=n.clone();if(e[mc]){var a=e[mc];a=="\u660E"||a=="\u807D"?n.hour()>1&&s.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?s.add(-1,"day"):a=="\u524D"?s.add(-2,"day"):a=="\u5927\u524D"?s.add(-3,"day"):a=="\u5F8C"?s.add(2,"day"):a=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(e[yc]){var o=e[yc];o=="\u660E"||o=="\u807D"?s.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?s.add(-1,"day"):o=="\u524D"?s.add(-2,"day"):o=="\u5927\u524D"?s.add(-3,"day"):o=="\u5F8C"?s.add(2,"day"):o=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let l=0,u=0,c=-1;if(e[Aa]){var d=parseInt(e[Aa]);if(isNaN(d)&&(d=Gr.zhStringToNumber(e[Aa])),d>=60)return null;i.start.assign("second",d)}if(l=parseInt(e[Tc]),isNaN(l)&&(l=Gr.zhStringToNumber(e[Tc])),e[Hr]?e[Hr]=="\u534A"?u=30:e[Hr]=="\u6B63"||e[Hr]=="\u6574"?u=0:(u=parseInt(e[Hr]),isNaN(u)&&(u=Gr.zhStringToNumber(e[Hr]))):l>100&&(u=l%100,l=Math.floor(l/100)),u>=60||l>24)return null;if(l>=12&&(c=1),e[_c]){if(l>12)return null;var f=e[_c][0].toLowerCase();f=="a"&&(c=0,l==12&&(l=0)),f=="p"&&(c=1,l!=12&&(l+=12))}else if(e[hc]){var p=e[hc],b=p[0];b=="\u671D"||b=="\u65E9"?(c=0,l==12&&(l=0)):b=="\u665A"&&(c=1,l!=12&&(l+=12))}else if(e[gc]){var T=e[gc],_=T[0];_=="\u4E0A"||_=="\u671D"||_=="\u65E9"||_=="\u51CC"?(c=0,l==12&&(l=0)):(_=="\u4E0B"||_=="\u664F"||_=="\u665A")&&(c=1,l!=12&&(l+=12))}else if(e[bc]){var O=e[bc],D=O[0];D=="\u4E0A"||D=="\u671D"||D=="\u65E9"||D=="\u51CC"?(c=0,l==12&&(l=0)):(D=="\u4E0B"||D=="\u664F"||D=="\u665A")&&(c=1,l!=12&&(l+=12))}if(i.start.assign("hour",l),i.start.assign("minute",u),c>=0?i.start.assign("meridiem",c):l<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),e=hN.exec(t.text.substring(i.index+i.text.length)),!e)return i.text.match(/^\d+$/)?null:i;let A=s.clone();if(i.end=t.createParsingComponents(),e[mc]){var a=e[mc];a=="\u660E"||a=="\u807D"?n.hour()>1&&A.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?A.add(-1,"day"):a=="\u524D"?A.add(-2,"day"):a=="\u5927\u524D"?A.add(-3,"day"):a=="\u5F8C"?A.add(2,"day"):a=="\u5927\u5F8C"&&A.add(3,"day"),i.end.assign("day",A.date()),i.end.assign("month",A.month()+1),i.end.assign("year",A.year())}else if(e[yc]){var o=e[yc];o=="\u660E"||o=="\u807D"?A.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?A.add(-1,"day"):o=="\u524D"?A.add(-2,"day"):o=="\u5927\u524D"?A.add(-3,"day"):o=="\u5F8C"?A.add(2,"day"):o=="\u5927\u5F8C"&&A.add(3,"day"),i.end.assign("day",A.date()),i.end.assign("month",A.month()+1),i.end.assign("year",A.year())}else i.end.imply("day",A.date()),i.end.imply("month",A.month()+1),i.end.imply("year",A.year());if(l=0,u=0,c=-1,e[Aa]){var d=parseInt(e[Aa]);if(isNaN(d)&&(d=Gr.zhStringToNumber(e[Aa])),d>=60)return null;i.end.assign("second",d)}if(l=parseInt(e[Tc]),isNaN(l)&&(l=Gr.zhStringToNumber(e[Tc])),e[Hr]?e[Hr]=="\u534A"?u=30:e[Hr]=="\u6B63"||e[Hr]=="\u6574"?u=0:(u=parseInt(e[Hr]),isNaN(u)&&(u=Gr.zhStringToNumber(e[Hr]))):l>100&&(u=l%100,l=Math.floor(l/100)),u>=60||l>24)return null;if(l>=12&&(c=1),e[_c]){if(l>12)return null;var f=e[_c][0].toLowerCase();f=="a"&&(c=0,l==12&&(l=0)),f=="p"&&(c=1,l!=12&&(l+=12)),i.start.isCertain("meridiem")||(c==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(e[hc]){var p=e[hc],b=p[0];b=="\u671D"||b=="\u65E9"?(c=0,l==12&&(l=0)):b=="\u665A"&&(c=1,l!=12&&(l+=12))}else if(e[gc]){var T=e[gc],_=T[0];_=="\u4E0A"||_=="\u671D"||_=="\u65E9"||_=="\u51CC"?(c=0,l==12&&(l=0)):(_=="\u4E0B"||_=="\u664F"||_=="\u665A")&&(c=1,l!=12&&(l+=12))}else if(e[bc]){var O=e[bc],D=O[0];D=="\u4E0A"||D=="\u671D"||D=="\u65E9"||D=="\u51CC"?(c=0,l==12&&(l=0)):(D=="\u4E0B"||D=="\u664F"||D=="\u665A")&&(c=1,l!=12&&(l+=12))}return i.text=i.text+e[0],i.end.assign("hour",l),i.end.assign("minute",u),c>=0?i.end.assign("meridiem",c):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>l?i.end.imply("meridiem",0):l>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};Sl.default=Wh});var kw=x(El=>{"use strict";var gN=El&&El.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(El,"__esModule",{value:!0});var yN=gN(Ue()),bN=ne(),ww=Ra(),TN=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(ww.WEEKDAY_OFFSET).join("|")+")"),$h=class extends bN.AbstractParserWithWordBoundaryChecking{innerPattern(){return TN}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=ww.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=yN.default(t.refDate),o=!1,l=a.day();return Math.abs(s-7-l)<Math.abs(s-l)?a=a.day(s-7):Math.abs(s+7-l)<Math.abs(s-l)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};El.default=$h});var Sw=x(Dl=>{"use strict";var _N=Dl&&Dl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dl,"__esModule",{value:!0});var vN=_N($n()),qh=class extends vN.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Dl.default=qh});var Ew=x(xl=>{"use strict";var wN=xl&&xl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xl,"__esModule",{value:!0});var kN=wN(si()),Yh=class extends kN.default{patternBetween(){return/^\s*$/i}};xl.default=Yh});var Dw=x(ut=>{"use strict";var di=ut&&ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ut,"__esModule",{value:!0});ut.createConfiguration=ut.createCasualConfiguration=ut.parseDate=ut.parse=ut.strict=ut.casual=ut.hant=void 0;var Hh=yn(),SN=di(Qu()),EN=ai(),DN=di(mw()),xN=di(gw()),ON=di(bw()),CN=di(_w()),MN=di(vw()),RN=di(kw()),AN=di(Sw()),PN=di(Ew());ut.hant=new Hh.Chrono(Gh());ut.casual=new Hh.Chrono(Gh());ut.strict=new Hh.Chrono(Bh());function NN(r,t,e){return ut.casual.parse(r,t,e)}ut.parse=NN;function IN(r,t,e){return ut.casual.parseDate(r,t,e)}ut.parseDate=IN;function Gh(){let r=Bh();return r.parsers.unshift(new DN.default),r}ut.createCasualConfiguration=Gh;function Bh(){let r=EN.includeCommonConfiguration({parsers:[new xN.default,new CN.default,new RN.default,new MN.default,new ON.default],refiners:[new AN.default,new PN.default]});return r.refiners=r.refiners.filter(t=>!(t instanceof SN.default)),r}ut.createConfiguration=Bh});var Mw=x(Ol=>{"use strict";var FN=Ol&&Ol.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ol,"__esModule",{value:!0});var LN=FN(Ue()),UN=ne(),jN=1,xw=2,WN=3,Ow=4,Cw=5,$N=6,Vh=class extends UN.AbstractParserWithWordBoundaryChecking{innerPattern(t){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(t,e){let n=e.index,i=t.createParsingResult(n,e[0]),s=LN.default(t.refDate),a=s;if(e[jN])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(e[xw]){let o=e[xw],l=e[WN];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day")),l=="\u65E9"?i.start.imply("hour",6):l=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(e[Ow]){let l=e[Ow][0];l=="\u65E9"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}else if(e[Cw]){let o=e[Cw];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day"));let l=e[$N];if(l){let u=l[0];u=="\u65E9"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};Ol.default=Vh});var Pa=x(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.zhStringToYear=ur.zhStringToNumber=ur.WEEKDAY_OFFSET=ur.NUMBER=void 0;ur.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};ur.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function qN(r){let t=0;for(let e=0;e<r.length;e++){let n=r[e];n==="\u5341"?t=t===0?ur.NUMBER[n]:t*ur.NUMBER[n]:t+=ur.NUMBER[n]}return t}ur.zhStringToNumber=qN;function YN(r){let t="";for(let e=0;e<r.length;e++){let n=r[e];t=t+ur.NUMBER[n]}return parseInt(t)}ur.zhStringToYear=YN});var Aw=x(Cl=>{"use strict";var HN=Cl&&Cl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cl,"__esModule",{value:!0});var GN=HN(Ue()),BN=ne(),Ds=Pa(),zh=1,Rw=2,Kh=3,Qh=class extends BN.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Ds.NUMBER).join("")+"]{4}|["+Object.keys(Ds.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Ds.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Ds.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(t,e){let n=GN.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=parseInt(e[Rw]);if(isNaN(s)&&(s=Ds.zhStringToNumber(e[Rw])),i.start.assign("month",s),e[Kh]){let a=parseInt(e[Kh]);isNaN(a)&&(a=Ds.zhStringToNumber(e[Kh])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(e[zh]){let a=parseInt(e[zh]);isNaN(a)&&(a=Ds.zhStringToYear(e[zh])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};Cl.default=Qh});var Nw=x(Ml=>{"use strict";var VN=Ml&&Ml.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ml,"__esModule",{value:!0});var zN=VN(Ue()),KN=ne(),Pw=Pa(),QN=new RegExp("(\\d+|["+Object.keys(Pw.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),Xh=1,XN=2,Zh=class extends KN.AbstractParserWithWordBoundaryChecking{innerPattern(){return QN}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=parseInt(e[Xh]);if(isNaN(i)&&(i=Pw.zhStringToNumber(e[Xh])),isNaN(i)){let l=e[Xh];if(l==="\u51E0")i=3;else if(l==="\u534A")i=.5;else return null}let s=zN.default(t.refDate),o=e[XN][0];return o.match(/[日天星礼月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u793C"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u949F")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};Ml.default=Zh});var Fw=x(Rl=>{"use strict";var ZN=Rl&&Rl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rl,"__esModule",{value:!0});var JN=ZN(Ue()),eI=ne(),Iw=Pa(),tI=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(Iw.WEEKDAY_OFFSET).join("|")+")"),Jh=class extends eI.AbstractParserWithWordBoundaryChecking{innerPattern(){return tI}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Iw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=e.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":o=="\u8FD9"&&(a="this");let l=JN.default(t.refDate),u=!1,c=l.day();return a=="last"||a=="past"?(l=l.day(s-7),u=!0):a=="next"?(l=l.day(s+7),u=!0):a=="this"?l=l.day(s):Math.abs(s-7-c)<Math.abs(s-c)?l=l.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?l=l.day(s+7):l=l.day(s),n.start.assign("weekday",s),u?(n.start.assign("day",l.date()),n.start.assign("month",l.month()+1),n.start.assign("year",l.year())):(n.start.imply("day",l.date()),n.start.imply("month",l.month()+1),n.start.imply("year",l.year())),n}};Rl.default=Jh});var Lw=x(Al=>{"use strict";var rI=Al&&Al.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Al,"__esModule",{value:!0});var nI=rI(Ue()),iI=ne(),Vr=Pa(),sI=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Vr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Vr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Vr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),aI=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(Vr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(Vr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(Vr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),vc=1,wc=2,kc=3,Sc=4,Ec=5,Dc=6,Br=7,Na=8,xc=9,eg=class extends iI.AbstractParserWithWordBoundaryChecking{innerPattern(){return sI}innerExtract(t,e){if(e.index>0&&t.text[e.index-1].match(/\w/))return null;let n=nI.default(t.refDate),i=t.createParsingResult(e.index,e[0]),s=n.clone();if(e[vc]){let c=e[vc];c=="\u660E"?n.hour()>1&&s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(e[Sc]){let c=e[Sc];c=="\u660E"?s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let a=0,o=0,l=-1;if(e[Na]){let c=parseInt(e[Na]);if(isNaN(c)&&(c=Vr.zhStringToNumber(e[Na])),c>=60)return null;i.start.assign("second",c)}if(a=parseInt(e[Dc]),isNaN(a)&&(a=Vr.zhStringToNumber(e[Dc])),e[Br]?e[Br]=="\u534A"?o=30:e[Br]=="\u6B63"||e[Br]=="\u6574"?o=0:(o=parseInt(e[Br]),isNaN(o)&&(o=Vr.zhStringToNumber(e[Br]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=1),e[xc]){if(a>12)return null;let c=e[xc][0].toLowerCase();c=="a"&&(l=0,a==12&&(a=0)),c=="p"&&(l=1,a!=12&&(a+=12))}else if(e[wc]){let d=e[wc][0];d=="\u65E9"?(l=0,a==12&&(a=0)):d=="\u665A"&&(l=1,a!=12&&(a+=12))}else if(e[kc]){let d=e[kc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}else if(e[Ec]){let d=e[Ec][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}if(i.start.assign("hour",a),i.start.assign("minute",o),l>=0?i.start.assign("meridiem",l):a<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),e=aI.exec(t.text.substring(i.index+i.text.length)),!e)return i.text.match(/^\d+$/)?null:i;let u=s.clone();if(i.end=t.createParsingComponents(),e[vc]){let c=e[vc];c=="\u660E"?n.hour()>1&&u.add(1,"day"):c=="\u6628"?u.add(-1,"day"):c=="\u524D"?u.add(-2,"day"):c=="\u5927\u524D"?u.add(-3,"day"):c=="\u540E"?u.add(2,"day"):c=="\u5927\u540E"&&u.add(3,"day"),i.end.assign("day",u.date()),i.end.assign("month",u.month()+1),i.end.assign("year",u.year())}else if(e[Sc]){let c=e[Sc];c=="\u660E"?u.add(1,"day"):c=="\u6628"?u.add(-1,"day"):c=="\u524D"?u.add(-2,"day"):c=="\u5927\u524D"?u.add(-3,"day"):c=="\u540E"?u.add(2,"day"):c=="\u5927\u540E"&&u.add(3,"day"),i.end.assign("day",u.date()),i.end.assign("month",u.month()+1),i.end.assign("year",u.year())}else i.end.imply("day",u.date()),i.end.imply("month",u.month()+1),i.end.imply("year",u.year());if(a=0,o=0,l=-1,e[Na]){let c=parseInt(e[Na]);if(isNaN(c)&&(c=Vr.zhStringToNumber(e[Na])),c>=60)return null;i.end.assign("second",c)}if(a=parseInt(e[Dc]),isNaN(a)&&(a=Vr.zhStringToNumber(e[Dc])),e[Br]?e[Br]=="\u534A"?o=30:e[Br]=="\u6B63"||e[Br]=="\u6574"?o=0:(o=parseInt(e[Br]),isNaN(o)&&(o=Vr.zhStringToNumber(e[Br]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=1),e[xc]){if(a>12)return null;let c=e[xc][0].toLowerCase();c=="a"&&(l=0,a==12&&(a=0)),c=="p"&&(l=1,a!=12&&(a+=12)),i.start.isCertain("meridiem")||(l==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(e[wc]){let d=e[wc][0];d=="\u65E9"?(l=0,a==12&&(a=0)):d=="\u665A"&&(l=1,a!=12&&(a+=12))}else if(e[kc]){let d=e[kc][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}else if(e[Ec]){let d=e[Ec][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(l=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(l=1,a!=12&&(a+=12))}return i.text=i.text+e[0],i.end.assign("hour",a),i.end.assign("minute",o),l>=0?i.end.assign("meridiem",l):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>a?i.end.imply("meridiem",0):a>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};Al.default=eg});var jw=x(Pl=>{"use strict";var oI=Pl&&Pl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pl,"__esModule",{value:!0});var lI=oI(Ue()),uI=ne(),Uw=Pa(),cI=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(Uw.WEEKDAY_OFFSET).join("|")+")"),tg=class extends uI.AbstractParserWithWordBoundaryChecking{innerPattern(){return cI}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=e.groups.weekday,s=Uw.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=lI.default(t.refDate),o=!1,l=a.day();return Math.abs(s-7-l)<Math.abs(s-l)?a=a.day(s-7):Math.abs(s+7-l)<Math.abs(s-l)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};Pl.default=tg});var Ww=x(Nl=>{"use strict";var dI=Nl&&Nl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nl,"__esModule",{value:!0});var fI=dI($n()),rg=class extends fI.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Nl.default=rg});var $w=x(Il=>{"use strict";var pI=Il&&Il.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Il,"__esModule",{value:!0});var mI=pI(si()),ng=class extends mI.default{patternBetween(){return/^\s*$/i}};Il.default=ng});var qw=x(ct=>{"use strict";var fi=ct&&ct.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ct,"__esModule",{value:!0});ct.createConfiguration=ct.createCasualConfiguration=ct.parseDate=ct.parse=ct.strict=ct.casual=ct.hans=void 0;var ig=yn(),hI=fi(Qu()),gI=ai(),yI=fi(Mw()),bI=fi(Aw()),TI=fi(Nw()),_I=fi(Fw()),vI=fi(Lw()),wI=fi(jw()),kI=fi(Ww()),SI=fi($w());ct.hans=new ig.Chrono(sg());ct.casual=new ig.Chrono(sg());ct.strict=new ig.Chrono(ag());function EI(r,t,e){return ct.casual.parse(r,t,e)}ct.parse=EI;function DI(r,t,e){return ct.casual.parseDate(r,t,e)}ct.parseDate=DI;function sg(){let r=ag();return r.parsers.unshift(new yI.default),r}ct.createCasualConfiguration=sg;function ag(){let r=gI.includeCommonConfiguration({parsers:[new bI.default,new _I.default,new wI.default,new vI.default,new TI.default],refiners:[new kI.default,new SI.default]});return r.refiners=r.refiners.filter(t=>!(t instanceof hI.default)),r}ct.createConfiguration=ag});var Hw=x(Sr=>{"use strict";var Yw=Sr&&Sr.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),xI=Sr&&Sr.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),OI=Sr&&Sr.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Yw(t,r,e)},CI=Sr&&Sr.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Yw(t,r,e);return xI(t,r),t};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.hans=void 0;OI(Dw(),Sr);Sr.hans=CI(qw())});var cr=x(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.parseTimeUnits=Se.TIME_UNITS_PATTERN=Se.parseYear=Se.YEAR_PATTERN=Se.parseOrdinalNumberPattern=Se.ORDINAL_NUMBER_PATTERN=Se.parseNumberPattern=Se.NUMBER_PATTERN=Se.TIME_UNIT_DICTIONARY=Se.ORDINAL_WORD_DICTIONARY=Se.INTEGER_WORD_DICTIONARY=Se.MONTH_DICTIONARY=Se.FULL_MONTH_NAME_DICTIONARY=Se.WEEKDAY_DICTIONARY=Se.REGEX_PARTS=void 0;var Oc=Ke(),MI=Ct();Se.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};Se.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};Se.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};Se.MONTH_DICTIONARY=Object.assign(Object.assign({},Se.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});Se.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};Se.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};Se.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};Se.NUMBER_PATTERN=`(?:${Oc.matchAnyPattern(Se.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function Bw(r){let t=r.toLowerCase();return Se.INTEGER_WORD_DICTIONARY[t]!==void 0?Se.INTEGER_WORD_DICTIONARY[t]:t.match(/несколько/)?3:t.match(/пол/)?.5:t.match(/пар/)?2:t===""?1:parseFloat(t)}Se.parseNumberPattern=Bw;Se.ORDINAL_NUMBER_PATTERN=`(?:${Oc.matchAnyPattern(Se.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function RI(r){let t=r.toLowerCase();return Se.ORDINAL_WORD_DICTIONARY[t]!==void 0?Se.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))}Se.parseOrdinalNumberPattern=RI;var og="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";Se.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${og}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${og}|[5-9][0-9]${og})`;function AI(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let t=parseInt(r);return MI.findMostLikelyADYear(t)}Se.parseYear=AI;var Vw=`(${Se.NUMBER_PATTERN})\\s{0,3}(${Oc.matchAnyPattern(Se.TIME_UNIT_DICTIONARY)})`,Gw=new RegExp(Vw,"i");Se.TIME_UNITS_PATTERN=Oc.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",Vw);function PI(r){let t={},e=r,n=Gw.exec(e);for(;n;)NI(t,n),e=e.substring(n[0].length).trim(),n=Gw.exec(e);return t}Se.parseTimeUnits=PI;function NI(r,t){let e=Bw(t[1]),n=Se.TIME_UNIT_DICTIONARY[t[2].toLowerCase()];r[n]=e}});var Kw=x(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});var Fl=cr(),II=rt(),FI=ne(),zw=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Fl.TIME_UNITS_PATTERN})${Fl.REGEX_PARTS.rightBoundary}`,LI=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${zw}`,Fl.REGEX_PARTS.flags),UI=new RegExp(zw,"i"),lg=class extends FI.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Fl.REGEX_PARTS.leftBoundary}innerPattern(t){return t.option.forwardDate?UI:LI}innerExtract(t,e){let n=Fl.parseTimeUnits(e[1]);return II.ParsingComponents.createRelativeFromReference(t.reference,n)}};ug.default=lg});var ek=x(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});var jI=Ct(),Ll=cr(),Jw=cr(),Cc=cr(),WI=Ke(),$I=ne(),qI=new RegExp(`(?:\u0441)?\\s*(${Cc.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${Cc.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${WI.matchAnyPattern(Ll.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${Jw.YEAR_PATTERN}(?![^\\s]\\d)))?${Ll.REGEX_PARTS.rightBoundary}`,Ll.REGEX_PARTS.flags),Qw=1,Xw=2,YI=3,Zw=4,cg=class extends $I.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ll.REGEX_PARTS.leftBoundary}innerPattern(){return qI}innerExtract(t,e){let n=t.createParsingResult(e.index,e[0]),i=Ll.MONTH_DICTIONARY[e[YI].toLowerCase()],s=Cc.parseOrdinalNumberPattern(e[Qw]);if(s>31)return e.index=e.index+e[Qw].length,null;if(n.start.assign("month",i),n.start.assign("day",s),e[Zw]){let a=Jw.parseYear(e[Zw]);n.start.assign("year",a)}else{let a=jI.findYearClosestToRef(t.refDate,s,i);n.start.imply("year",a)}if(e[Xw]){let a=Cc.parseOrdinalNumberPattern(e[Xw]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};dg.default=cg});var nk=x(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});var Ul=cr(),HI=Ct(),GI=Ke(),rk=cr(),BI=ne(),VI=new RegExp(`((?:\u0432)\\s*)?(${GI.matchAnyPattern(Ul.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${rk.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Ul.REGEX_PARTS.flags),zI=2,tk=3,fg=class extends BI.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ul.REGEX_PARTS.leftBoundary}innerPattern(){return VI}innerExtract(t,e){let n=e[zI].toLowerCase();if(e[0].length<=3&&!Ul.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=t.createParsingResult(e.index,e.index+e[0].length);i.start.imply("day",1);let s=Ul.MONTH_DICTIONARY[n];if(i.start.assign("month",s),e[tk]){let a=rk.parseYear(e[tk]);i.start.assign("year",a)}else{let a=HI.findYearClosestToRef(t.refDate,1,s);i.start.imply("year",a)}return i}};pg.default=fg});var sk=x(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});var Mc=ht(),KI=Ts(),ik=cr(),mg=class extends KI.AbstractTimeExpressionParser{constructor(t){super(t)}patternFlags(){return ik.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${ik.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(t,e){let n=super.extractPrimaryTimeComponents(t,e);if(n){if(e[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Mc.Meridiem.PM)):i<6&&n.assign("meridiem",Mc.Meridiem.AM)}if(e[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",Mc.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}e[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",Mc.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};hg.default=mg});var ak=x(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});var Rc=cr(),QI=rt(),XI=ne(),ZI=qr(),JI=new RegExp(`(${Rc.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,Rc.REGEX_PARTS.flags),gg=class extends XI.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Rc.REGEX_PARTS.leftBoundary}innerPattern(){return JI}innerExtract(t,e){let n=Rc.parseTimeUnits(e[1]),i=ZI.reverseTimeUnits(n);return QI.ParsingComponents.createRelativeFromReference(t.reference,i)}};yg.default=gg});var ok=x(jl=>{"use strict";var eF=jl&&jl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jl,"__esModule",{value:!0});var tF=eF($n()),bg=class extends tF.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};jl.default=bg});var lk=x(Wl=>{"use strict";var rF=Wl&&Wl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wl,"__esModule",{value:!0});var nF=rF(si()),Tg=class extends nF.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Wl.default=Tg});var uk=x(pi=>{"use strict";var iF=pi&&pi.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),sF=pi&&pi.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),aF=pi&&pi.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&iF(t,r,e);return sF(t,r),t};Object.defineProperty(pi,"__esModule",{value:!0});var oF=ne(),$l=aF(li()),_g=cr(),lF=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${_g.REGEX_PARTS.rightBoundary}`,_g.REGEX_PARTS.flags),vg=class extends oF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return _g.REGEX_PARTS.leftBoundary}innerPattern(t){return lF}innerExtract(t,e){let n=e[1].toLowerCase(),i=t.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return $l.today(t.reference);case"\u0432\u0447\u0435\u0440\u0430":return $l.yesterday(t.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return $l.tomorrow(t.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return $l.theDayAfter(t.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return $l.theDayBefore(t.reference,2)}return i}};pi.default=vg});var ck=x(wn=>{"use strict";var uF=wn&&wn.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),cF=wn&&wn.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),dF=wn&&wn.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&uF(t,r,e);return cF(t,r),t},fF=wn&&wn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wn,"__esModule",{value:!0});var pF=ne(),xs=dF(li()),mF=$r(),hF=fF(Ue()),wg=cr(),gF=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${wg.REGEX_PARTS.rightBoundary}`,wg.REGEX_PARTS.flags),kg=class extends pF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return wg.REGEX_PARTS.leftBoundary}innerPattern(){return gF}innerExtract(t,e){let n=hF.default(t.refDate),i=e[0].toLowerCase(),s=t.createParsingComponents();if(i==="\u0441\u0435\u0439\u0447\u0430\u0441")return xs.now(t.reference);if(i==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||i==="\u0432\u0435\u0447\u0435\u0440\u0430")return xs.evening(t.reference);if(i.endsWith("\u0443\u0442\u0440\u043E\u043C")||i.endsWith("\u0443\u0442\u0440\u0430"))return xs.morning(t.reference);if(i.match(/в\s*полдень/))return xs.noon(t.reference);if(i.match(/прошлой\s*ночью/))return xs.lastNight(t.reference);if(i.match(/прошлым\s*вечером/))return xs.yesterdayEvening(t.reference);if(i.match(/следующей\s*ночью/)){let a=n.hour()<22?1:2;n=n.add(a,"day"),mF.assignSimilarDate(s,n),s.imply("hour",0)}return i.match(/в\s*полночь/)||i.endsWith("\u043D\u043E\u0447\u044C\u044E")?xs.midnight(t.reference):s}};wn.default=kg});var dk=x(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});var ql=cr(),yF=Ke(),bF=ne(),TF=vs(),_F=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${yF.matchAnyPattern(ql.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${ql.REGEX_PARTS.rightBoundary}`,ql.REGEX_PARTS.flags),vF=1,wF=2,kF=3,Sg=class extends bF.AbstractParserWithWordBoundaryChecking{innerPattern(){return _F}patternLeftBoundary(){return ql.REGEX_PARTS.leftBoundary}innerExtract(t,e){let n=e[wF].toLowerCase(),i=ql.WEEKDAY_DICTIONARY[n],s=e[vF],a=e[kF],o=s||a;o=o||"",o=o.toLowerCase();let l=null;o=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||o=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||o=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?l="last":o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?l="next":(o=="\u044D\u0442\u043E\u0442"||o=="\u044D\u0442\u0443"||o=="\u044D\u0442\u043E\u0439")&&(l="this");let u=TF.toDayJSWeekday(t.refDate,i,l);return t.createParsingComponents().assign("weekday",i).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};Eg.default=Sg});var pk=x(Hl=>{"use strict";var SF=Hl&&Hl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hl,"__esModule",{value:!0});var Yl=cr(),fk=rt(),EF=SF(Ue()),DF=ne(),xF=Ke(),OF=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${xF.matchAnyPattern(Yl.TIME_UNIT_DICTIONARY)})(?=\\s*)${Yl.REGEX_PARTS.rightBoundary}`,Yl.REGEX_PARTS.flags),CF=1,MF=2,Dg=class extends DF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Yl.REGEX_PARTS.leftBoundary}innerPattern(){return OF}innerExtract(t,e){let n=e[CF].toLowerCase(),i=e[MF].toLowerCase(),s=Yl.TIME_UNIT_DICTIONARY[i];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let l={};return l[s]=1,fk.ParsingComponents.createRelativeFromReference(t.reference,l)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let l={};return l[s]=-1,fk.ParsingComponents.createRelativeFromReference(t.reference,l)}let a=t.createParsingComponents(),o=EF.default(t.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};Hl.default=Dg});var mk=x(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var Gl=cr(),RF=rt(),AF=ne(),PF=qr(),NF=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${Gl.TIME_UNITS_PATTERN})${Gl.REGEX_PARTS.rightBoundary}`,Gl.REGEX_PARTS.flags),xg=class extends AF.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Gl.REGEX_PARTS.leftBoundary}innerPattern(){return NF}innerExtract(t,e){let n=e[1].toLowerCase(),i=Gl.parseTimeUnits(e[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":i=PF.reverseTimeUnits(i);break}return RF.ParsingComponents.createRelativeFromReference(t.reference,i)}};Og.default=xg});var yk=x(St=>{"use strict";var Er=St&&St.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(St,"__esModule",{value:!0});St.createConfiguration=St.createCasualConfiguration=St.parseDate=St.parse=St.strict=St.casual=void 0;var IF=Er(Kw()),FF=Er(ek()),LF=Er(nk()),UF=Er(sk()),jF=Er(ak()),WF=Er(ok()),$F=Er(lk()),qF=ai(),YF=Er(uk()),HF=Er(ck()),GF=Er(dk()),BF=Er(pk()),hk=yn(),VF=Er(ws()),zF=Er(mk());St.casual=new hk.Chrono(gk());St.strict=new hk.Chrono(Cg(!0));function KF(r,t,e){return St.casual.parse(r,t,e)}St.parse=KF;function QF(r,t,e){return St.casual.parseDate(r,t,e)}St.parseDate=QF;function gk(){let r=Cg(!1);return r.parsers.unshift(new YF.default),r.parsers.unshift(new HF.default),r.parsers.unshift(new LF.default),r.parsers.unshift(new BF.default),r.parsers.unshift(new zF.default),r}St.createCasualConfiguration=gk;function Cg(r=!0){return qF.includeCommonConfiguration({parsers:[new VF.default(!0),new IF.default,new FF.default,new GF.default,new UF.default(r),new jF.default],refiners:[new $F.default,new WF.default]},r)}St.createConfiguration=Cg});var ht=x(Re=>{"use strict";var XF=Re&&Re.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),ZF=Re&&Re.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Wi=Re&&Re.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&XF(t,r,e);return ZF(t,r),t};Object.defineProperty(Re,"__esModule",{value:!0});Re.parseDate=Re.parse=Re.casual=Re.strict=Re.ru=Re.zh=Re.nl=Re.pt=Re.ja=Re.fr=Re.de=Re.Meridiem=Re.Chrono=Re.en=void 0;var Mg=Wi(Vp());Re.en=Mg;var JF=yn();Object.defineProperty(Re,"Chrono",{enumerable:!0,get:function(){return JF.Chrono}});var eL;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(eL=Re.Meridiem||(Re.Meridiem={}));var tL=Wi(D_());Re.de=tL;var rL=Wi(tv());Re.fr=rL;var nL=Wi(cv());Re.ja=nL;var iL=Wi(Dv());Re.pt=iL;var sL=Wi(cw());Re.nl=sL;var aL=Wi(Hw());Re.zh=aL;var oL=Wi(yk());Re.ru=oL;Re.strict=Mg.strict;Re.casual=Mg.casual;function lL(r,t,e){return Re.casual.parse(r,t,e)}Re.parse=lL;function uL(r,t,e){return Re.casual.parseDate(r,t,e)}Re.parseDate=uL});var Jt,Rg=re(()=>{"use strict";Jt=class{constructor(t,e){this.start=t,this.end=e,e.isBefore(t)&&(this.start=e,this.end=t),this.start=this.start.startOf("day"),this.end=this.end.startOf("day")}static buildRelative(t){let e=t==="week"?"isoWeek":t;return new Jt(window.moment().startOf(e).startOf("day"),window.moment().endOf(e).startOf("day"))}static buildInvalid(){return new Jt(window.moment.invalid(),window.moment.invalid())}isValid(){return this.start.isValid()&&this.end.isValid()}moveToPrevious(t){let e=window.moment.duration(1,t);this.start.subtract(e),this.end.subtract(e),(t==="month"||t==="quarter")&&(this.end=this.end.endOf(t).startOf("day"))}moveToNext(t){let e=window.moment.duration(1,t);this.start.add(e),this.end.add(e),(t==="month"||t==="quarter")&&(this.end=this.end.endOf(t).startOf("day"))}}});var Ac,Dr,Ag=re(()=>{"use strict";Ac=Yo(ht());Rg();Dr=class{static parseDate(t,e=!1){return window.moment(Ac.parseDate(t,void 0,{forwardDate:e})).startOf("day")}static parseDateRange(t,e=!1){let n=[Dr.parseRelativeDateRange,Dr.parseNumberedDateRange,Dr.parseAbsoluteDateRange];for(let i of n){let s=i(t,e);if(s.isValid())return s}return Jt.buildInvalid()}static parseAbsoluteDateRange(t,e){let n=Ac.parse(t,void 0,{forwardDate:e});if(n.length===0)return Jt.buildInvalid();let i=n[0].start,s=n[1]&&n[1].start?n[1].start:i,a=window.moment(i.date()),o=window.moment(s.date());return new Jt(a,o)}static parseRelativeDateRange(t,e){let n=/(last|this|next) (week|month|quarter|year)/,i=t.match(n);if(i&&i.length===3){let s=i[1],a=i[2],o=Jt.buildRelative(a);switch(s){case"last":o.moveToPrevious(a);break;case"next":o.moveToNext(a);break}return o}return Jt.buildInvalid()}static parseNumberedDateRange(t,e){let n=[[/^\s*[0-9]{4}\s*$/,"YYYY","year"],[/^\s*[0-9]{4}-Q[1-4]\s*$/,"YYYY-Q","quarter"],[/^\s*[0-9]{4}-[0-9]{2}\s*$/,"YYYY-MM","month"],[/^\s*[0-9]{4}-W[0-9]{2}\s*$/,"YYYY-WW","isoWeek"]];for(let[i,s,a]of n){let o=t.match(i);if(o){let l=o[0].trim();return new Jt(window.moment(l,s).startOf(a),window.moment(l,s).endOf(a))}}return Jt.buildInvalid()}}});function Pc(r){for(let[t,e]of Object.entries(cL))r=r.replace(RegExp(`\\b${t}\\s`,"i"),e);return r}var cL,Pg=re(()=>{"use strict";cL={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"}});function zr(r,t){return r!==null&&t===null?-1:r===null&&t!==null?1:r!==null&&t!==null?r.isValid()&&!t.isValid()?1:!r.isValid()&&t.isValid()?-1:r.isAfter(t)?1:r.isBefore(t)?-1:0:0}function dL(r,t,e=void 0){if(!t)return`<i>no ${r} date</i>`;let n=Ng.parseDate(t,e,{forwardDate:e!=null});return n!==null?window.moment(n).format("YYYY-MM-DD"):`<i>invalid ${r} date</i>`}function bk(r,t,e){return dL(r,t,e?new Date:void 0)}function Os(r,t){let e=null,n=Ng.parseDate(r,new Date,{forwardDate:t});return n!==null&&(e=window.moment(n)),e}var Ng,Cs=re(()=>{"use strict";Ng=Yo(ht())});var Kr,Nc=re(()=>{"use strict";Cs();Kr=class{constructor({startDate:t=null,scheduledDate:e=null,dueDate:n=null}){this.startDate=t!=null?t:null,this.scheduledDate=e!=null?e:null,this.dueDate=n!=null?n:null,this.referenceDate=this.getReferenceDate()}getReferenceDate(){return this.dueDate?window.moment(this.dueDate):this.scheduledDate?window.moment(this.scheduledDate):this.startDate?window.moment(this.startDate):null}isIdenticalTo(t){return!(zr(this.startDate,t.startDate)!==0||zr(this.scheduledDate,t.scheduledDate)!==0||zr(this.dueDate,t.dueDate)!==0)}next(t){return this.referenceDate===null?new Kr({startDate:null,scheduledDate:null,dueDate:null}):new Kr({startDate:this.nextOccurrenceDate(this.startDate,t),scheduledDate:this.nextOccurrenceDate(this.scheduledDate,t),dueDate:this.nextOccurrenceDate(this.dueDate,t)})}nextOccurrenceDate(t,e){if(t===null)return null;let n=window.moment.duration(t.diff(this.referenceDate)),i=window.moment(e);return i.add(Math.round(n.asDays()),"days"),i}}});var Ic,dt,Ms=re(()=>{Ic=["MO","TU","WE","TH","FR","SA","SU"],dt=function(){function r(t,e){if(e===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=e}return r.fromStr=function(t){return new r(Ic.indexOf(t))},r.prototype.nth=function(t){return this.n===t?this:new r(this.weekday,t)},r.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},r.prototype.toString=function(){var t=Ic[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}()});function Rs(r,t,e){e===void 0&&(e=" ");var n=String(r);return t=t>>0,n.length>t?String(n):(t=t-n.length,t>e.length&&(e+=Ne(e,t/e.length)),e.slice(0,t)+String(n))}var Je,xr,Ig,At,Qr,Ne,Tk,_k,$t,Fc,Or,st,Ie,er=re(()=>{Ms();Je=function(r){return r!=null},xr=function(r){return typeof r=="number"},Ig=function(r){return typeof r=="string"&&Ic.includes(r)},At=Array.isArray,Qr=function(r,t){t===void 0&&(t=r),arguments.length===1&&(t=r,r=0);for(var e=[],n=r;n<t;n++)e.push(n);return e},Ne=function(r,t){var e=0,n=[];if(At(r))for(;e<t;e++)n[e]=[].concat(r);else for(;e<t;e++)n[e]=r;return n},Tk=function(r){return At(r)?r:[r]};_k=function(r,t,e){var n=r.split(t);return e?n.slice(0,e).concat([n.slice(e).join(t)]):n},$t=function(r,t){var e=r%t;return e*t<0?e+t:e},Fc=function(r,t){return{div:Math.floor(r/t),mod:$t(r,t)}},Or=function(r){return!Je(r)||r.length===0},st=function(r){return!Or(r)},Ie=function(r,t){return st(r)&&r.indexOf(t)!==-1}});var Hn,fL,kk,Lc,Sk,pL,Ia,Fg,As,vk,mL,Bl,Uc,hL,mi,Lg,jc,Wc,Ug,hi,Fa,Vl,wk,Ek,qt=re(()=>{er();Hn=function(r,t,e,n,i,s){return n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=0),new Date(Date.UTC(r,t-1,e,n,i,s))},fL=[31,28,31,30,31,30,31,31,30,31,30,31],kk=1e3*60*60*24,Lc=9999,Sk=Hn(1970,1,1),pL=[6,0,1,2,3,4,5],Ia=function(r){return r%4===0&&r%100!==0||r%400===0},Fg=function(r){return r instanceof Date},As=function(r){return Fg(r)&&!isNaN(r.getTime())},vk=function(r){return r.getTimezoneOffset()*60*1e3},mL=function(r,t){var e=r.getTime()-vk(r),n=t.getTime()-vk(t),i=e-n;return Math.round(i/kk)},Bl=function(r){return mL(r,Sk)},Uc=function(r){return new Date(Sk.getTime()+r*kk)},hL=function(r){var t=r.getUTCMonth();return t===1&&Ia(r.getUTCFullYear())?29:fL[t]},mi=function(r){return pL[r.getUTCDay()]},Lg=function(r,t){var e=Hn(r,t+1,1);return[mi(e),hL(e)]},jc=function(r,t){return t=t||r,new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},Wc=function(r){var t=new Date(r.getTime());return t},Ug=function(r){for(var t=[],e=0;e<r.length;e++)t.push(Wc(r[e]));return t},hi=function(r){r.sort(function(t,e){return t.getTime()-e.getTime()})},Fa=function(r,t){t===void 0&&(t=!0);var e=new Date(r);return[Rs(e.getUTCFullYear().toString(),4,"0"),Rs(e.getUTCMonth()+1,2,"0"),Rs(e.getUTCDate(),2,"0"),"T",Rs(e.getUTCHours(),2,"0"),Rs(e.getUTCMinutes(),2,"0"),Rs(e.getUTCSeconds(),2,"0"),t?"Z":""].join("")},Vl=function(r){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,e=t.exec(r);if(!e)throw new Error("Invalid UNTIL value: ".concat(r));return new Date(Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[5],10)||0,parseInt(e[6],10)||0,parseInt(e[7],10)||0))},wk=function(r,t){var e=r.toLocaleString("sv-SE",{timeZone:t});return e.replace(" ","T")+"Z"},Ek=function(r,t){var e=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(wk(r,e)),i=new Date(wk(r,t!=null?t:"UTC")),s=i.getTime()-n.getTime();return new Date(r.getTime()-s)}});var gL,gi,$c=re(()=>{gL=function(){function r(t,e){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=e,t==="between"?(this.maxDate=e.inc?e.before:new Date(e.before.getTime()-1),this.minDate=e.inc?e.after:new Date(e.after.getTime()+1)):t==="before"?this.maxDate=e.inc?e.dt:new Date(e.dt.getTime()-1):t==="after"&&(this.minDate=e.inc?e.dt:new Date(e.dt.getTime()+1))}return r.prototype.accept=function(t){++this.total;var e=this.minDate&&t<this.minDate,n=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(e)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return e?!0:(this.add(t),!1);return this.add(t)},r.prototype.add=function(t){return this._result.push(t),!0},r.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),gi=gL});function La(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jg(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Q(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}var jg,Pt,yi=re(()=>{jg=function(r,t){return jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},jg(r,t)};Pt=function(){return Pt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Pt.apply(this,arguments)}});var yL,Wg,Dk=re(()=>{yi();$c();yL=function(r){La(t,r);function t(e,n,i){var s=r.call(this,e,n)||this;return s.iterator=i,s}return t.prototype.add=function(e){return this.iterator(e,this._result.length)?(this._result.push(e),!0):!1},t}(gi),Wg=yL});var bL,Ps,qc=re(()=>{bL={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Ps=bL});var xk,TL,_L,vL,Gn,Ok=re(()=>{qc();Xr();er();xk=function(r,t){return r.indexOf(t)!==-1},TL=function(r){return r.toString()},_L=function(r,t,e){return"".concat(t," ").concat(e,", ").concat(r)},vL=function(){function r(t,e,n,i){if(e===void 0&&(e=TL),n===void 0&&(n=Ps),i===void 0&&(i=_L),this.text=[],this.language=n||Ps,this.gettext=e,this.dateFormatter=i,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);s.sort(function(c,d){return c-d}),a.sort(function(c,d){return d-c}),this.bymonthday=s.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(Je(this.origOptions.byweekday)){var o=At(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],l=String(o);this.byweekday={allWeeks:o.filter(function(c){return!c.n}),someWeeks:o.filter(function(c){return Boolean(c.n)}),isWeekdays:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")===-1&&l.indexOf("SU")===-1,isEveryDay:l.indexOf("MO")!==-1&&l.indexOf("TU")!==-1&&l.indexOf("WE")!==-1&&l.indexOf("TH")!==-1&&l.indexOf("FR")!==-1&&l.indexOf("SA")!==-1&&l.indexOf("SU")!==-1};var u=function(c,d){return c.weekday-d.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(t){var e=!0;if(!(t.options.freq in r.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var n in t.origOptions){if(xk(["dtstart","wkst","freq"],n))return!0;if(!xk(r.IMPLEMENTED[t.options.freq],n))return!1}return e},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[ae.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var e=this.options.until;this.add(this.dateFormatter(e.getUTCFullYear(),this.language.monthNames[e.getUTCMonth()],e.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},r.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},r.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},r.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},r.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},r.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(t){t=parseInt(t.toString(),10);var e,n=this.gettext;if(t===-1)return n("last");var i=Math.abs(t);switch(i){case 1:case 21:case 31:e=i+n("st");break;case 2:case 22:e=i+n("nd");break;case 3:case 23:e=i+n("rd");break;default:e=i+n("th")}return t<0?e+" "+n("last"):e},r.prototype.monthtext=function(t){return this.language.monthNames[t-1]},r.prototype.weekdaytext=function(t){var e=xr(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[e]},r.prototype.plural=function(t){return t%100!==1},r.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},r.prototype.list=function(t,e,n,i){var s=this;i===void 0&&(i=","),At(t)||(t=[t]);var a=function(l,u,c){for(var d="",f=0;f<l.length;f++)f!==0&&(f===l.length-1?d+=" "+c+" ":d+=u+" "),d+=l[f];return d};e=e||function(l){return l.toString()};var o=function(l){return e&&e.call(s,l)};return n?a(t.map(o),i,n):t.map(o).join(i+" ")},r}(),Gn=vL});function zl(r,t){t===void 0&&(t=Ps);var e={},n=new wL(t.tokens);if(!n.start(r))return null;return i(),e;function i(){n.expect("every");var f=n.acceptNumber();if(f&&(e.interval=parseInt(f[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":e.freq=ae.DAILY,n.nextSymbol()&&(a(),d());break;case"weekday(s)":e.freq=ae.WEEKLY,e.byweekday=[ae.MO,ae.TU,ae.WE,ae.TH,ae.FR],n.nextSymbol(),d();break;case"week(s)":e.freq=ae.WEEKLY,n.nextSymbol()&&(s(),d());break;case"hour(s)":e.freq=ae.HOURLY,n.nextSymbol()&&(s(),d());break;case"minute(s)":e.freq=ae.MINUTELY,n.nextSymbol()&&(s(),d());break;case"month(s)":e.freq=ae.MONTHLY,n.nextSymbol()&&(s(),d());break;case"year(s)":e.freq=ae.YEARLY,n.nextSymbol()&&(s(),d());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":e.freq=ae.WEEKLY;var p=n.symbol.substr(0,2).toUpperCase();if(e.byweekday=[ae[p]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var b=l();if(!b)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");e.byweekday.push(ae[b]),n.nextSymbol()}c(),d();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(e.freq=ae.YEARLY,e.bymonth=[o()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var T=o();if(!T)throw new Error("Unexpected symbol "+n.symbol+", expected month");e.bymonth.push(T),n.nextSymbol()}s(),d();break;default:throw new Error("Unknown symbol")}}function s(){var f=n.accept("on"),p=n.accept("the");if(!!(f||p))do{var b=u(),T=l(),_=o();if(b)T?(n.nextSymbol(),e.byweekday||(e.byweekday=[]),e.byweekday.push(ae[T].nth(b))):(e.bymonthday||(e.bymonthday=[]),e.bymonthday.push(b),n.accept("day(s)"));else if(T)n.nextSymbol(),e.byweekday||(e.byweekday=[]),e.byweekday.push(ae[T]);else if(n.symbol==="weekday(s)")n.nextSymbol(),e.byweekday||(e.byweekday=[ae.MO,ae.TU,ae.WE,ae.TH,ae.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var O=n.acceptNumber();if(!O)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(e.byweekno=[parseInt(O[0],10)];n.accept("comma");){if(O=n.acceptNumber(),!O)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");e.byweekno.push(parseInt(O[0],10))}}else if(_)n.nextSymbol(),e.bymonth||(e.bymonth=[]),e.bymonth.push(_);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function a(){var f=n.accept("at");if(!!f)do{var p=n.acceptNumber();if(!p)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(e.byhour=[parseInt(p[0],10)];n.accept("comma");){if(p=n.acceptNumber(),!p)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");e.byhour.push(parseInt(p[0],10))}}while(n.accept("comma")||n.accept("at"))}function o(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function l(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var f=parseInt(n.value[1],10);if(f<-366||f>366)throw new Error("Nth out of range: "+f);return n.nextSymbol(),n.accept("last")?-f:f;default:return!1}}function c(){n.accept("on"),n.accept("the");var f=u();if(!!f)for(e.bymonthday=[f],n.nextSymbol();n.accept("comma");){if(f=u(),!f)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");e.bymonthday.push(f),n.nextSymbol()}}function d(){if(n.symbol==="until"){var f=Date.parse(n.text);if(!f)throw new Error("Cannot parse until date:"+n.text);e.until=new Date(f)}else n.accept("for")&&(e.count=parseInt(n.value[0],10),n.expect("number"))}}var wL,Ck=re(()=>{qc();Xr();wL=function(){function r(t){this.done=!0,this.rules=t}return r.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var t,e;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;t=null;for(var i in this.rules){n=this.rules[i];var s=n.exec(this.text);s&&(t===null||s[0].length>t[0].length)&&(t=s,e=i)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(e==="SKIP");return this.symbol=e,this.value=t,!0},r.prototype.accept=function(t){if(this.symbol===t){if(this.value){var e=this.value;return this.nextSymbol(),e}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},r}()});function Kl(r){return r<Ae.HOURLY}var Ae,bi=re(()=>{(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(Ae||(Ae={}))});var Mk,Ua,Rk,Ak,Pk=re(()=>{Ok();Ck();Xr();bi();qc();Mk=function(r,t){return t===void 0&&(t=Ps),new ae(zl(r,t)||void 0)},Ua=["count","until","interval","byweekday","bymonthday","bymonth"];Gn.IMPLEMENTED=[];Gn.IMPLEMENTED[Ae.HOURLY]=Ua;Gn.IMPLEMENTED[Ae.MINUTELY]=Ua;Gn.IMPLEMENTED[Ae.DAILY]=["byhour"].concat(Ua);Gn.IMPLEMENTED[Ae.WEEKLY]=Ua;Gn.IMPLEMENTED[Ae.MONTHLY]=Ua;Gn.IMPLEMENTED[Ae.YEARLY]=["byweekno","byyearday"].concat(Ua);Rk=function(r,t,e,n){return new Gn(r,t,e,n).toString()},Ak=Gn.isFullyConvertible});var ja,Nk,Yc=re(()=>{yi();bi();er();qt();ja=function(){function r(t,e,n,i){this.hour=t,this.minute=e,this.second=n,this.millisecond=i||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}(),Nk=function(r){La(t,r);function t(e,n,i,s,a,o,l){var u=r.call(this,s,a,o,l)||this;return u.year=e,u.month=n,u.day=i,u}return t.fromDate=function(e){return new this(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.valueOf()%1e3)},t.prototype.getWeekday=function(){return mi(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(e){this.year+=e},t.prototype.addMonths=function(e){if(this.month+=e,this.month>12){var n=Math.floor(this.month/12),i=$t(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(e,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+e*7:this.day+=-(this.getWeekday()-n)+e*7,this.fixDay()},t.prototype.addDaily=function(e){this.day+=e,this.fixDay()},t.prototype.addHours=function(e,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/e)*e);;){this.hour+=e;var s=Fc(this.hour,24),a=s.div,o=s.mod;if(a&&(this.hour=o,this.addDaily(a)),Or(i)||Ie(i,this.hour))break}},t.prototype.addMinutes=function(e,n,i,s){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/e)*e);;){this.minute+=e;var a=Fc(this.minute,60),o=a.div,l=a.mod;if(o&&(this.minute=l,this.addHours(o,!1,i)),(Or(i)||Ie(i,this.hour))&&(Or(s)||Ie(s,this.minute)))break}},t.prototype.addSeconds=function(e,n,i,s,a){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/e)*e);;){this.second+=e;var o=Fc(this.second,60),l=o.div,u=o.mod;if(l&&(this.second=u,this.addMinutes(l,!1,i,s)),(Or(i)||Ie(i,this.hour))&&(Or(s)||Ie(s,this.minute))&&(Or(a)||Ie(a,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var e=Lg(this.year,this.month-1)[1];if(!(this.day<=e))for(;this.day>e;){if(this.day-=e,++this.month,this.month===13&&(this.month=1,++this.year,this.year>Lc))return;e=Lg(this.year,this.month-1)[1]}}},t.prototype.add=function(e,n){var i=e.freq,s=e.interval,a=e.wkst,o=e.byhour,l=e.byminute,u=e.bysecond;switch(i){case Ae.YEARLY:return this.addYears(s);case Ae.MONTHLY:return this.addMonths(s);case Ae.WEEKLY:return this.addWeekly(s,a);case Ae.DAILY:return this.addDaily(s);case Ae.HOURLY:return this.addHours(s,n,o);case Ae.MINUTELY:return this.addMinutes(s,n,o,l);case Ae.SECONDLY:return this.addSeconds(s,n,o,l,u)}},t}(ja)});function $g(r){for(var t=[],e=Object.keys(r),n=0,i=e;n<i.length;n++){var s=i[n];Ie(Lk,s)||t.push(s),Fg(r[s])&&!As(r[s])&&t.push(s)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return Pt({},r)}function Ik(r){var t=Pt(Pt({},Ql),$g(r));if(Je(t.byeaster)&&(t.freq=ae.YEARLY),!(Je(t.freq)&&ae.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: ".concat(t.freq," ").concat(r.freq));if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),Je(t.wkst)?xr(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=ae.MO.weekday,Je(t.bysetpos)){xr(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var e=0;e<t.bysetpos.length;e++){var n=t.bysetpos[e];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(t.byweekno)||st(t.byweekno)||st(t.byyearday)||Boolean(t.bymonthday)||st(t.bymonthday)||Je(t.byweekday)||Je(t.byeaster)))switch(t.freq){case ae.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case ae.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case ae.WEEKLY:t.byweekday=[mi(t.dtstart)];break}if(Je(t.bymonth)&&!At(t.bymonth)&&(t.bymonth=[t.bymonth]),Je(t.byyearday)&&!At(t.byyearday)&&xr(t.byyearday)&&(t.byyearday=[t.byyearday]),!Je(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(At(t.bymonthday)){for(var i=[],s=[],e=0;e<t.bymonthday.length;e++){var n=t.bymonthday[e];n>0?i.push(n):n<0&&s.push(n)}t.bymonthday=i,t.bynmonthday=s}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(Je(t.byweekno)&&!At(t.byweekno)&&(t.byweekno=[t.byweekno]),!Je(t.byweekday))t.bynweekday=null;else if(xr(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(Ig(t.byweekday))t.byweekday=[dt.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof dt)!t.byweekday.n||t.freq>ae.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var a=[],o=[],e=0;e<t.byweekday.length;e++){var l=t.byweekday[e];if(xr(l)){a.push(l);continue}else if(Ig(l)){a.push(dt.fromStr(l).weekday);continue}!l.n||t.freq>ae.MONTHLY?a.push(l.weekday):o.push([l.weekday,l.n])}t.byweekday=st(a)?a:null,t.bynweekday=st(o)?o:null}return Je(t.byhour)?xr(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<ae.HOURLY?[t.dtstart.getUTCHours()]:null,Je(t.byminute)?xr(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<ae.MINUTELY?[t.dtstart.getUTCMinutes()]:null,Je(t.bysecond)?xr(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<ae.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Fk(r){var t=r.dtstart.getTime()%1e3;if(!Kl(r.freq))return[];var e=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(i){r.bysecond.forEach(function(s){e.push(new ja(n,i,s,t))})})}),e}var qg=re(()=>{yi();bi();er();Xr();qt();Ms();Yc()});function Zl(r){var t=r.split(`
`).map(kL).filter(function(e){return e!==null});return Pt(Pt({},t[0]),t[1])}function Xl(r){var t={},e=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!e)return t;var n=e[1],i=e[2];return n&&(t.tzid=n),t.dtstart=Vl(i),t}function kL(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var t=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!t)return Uk(r);var e=t[1];switch(e.toUpperCase()){case"RRULE":case"EXRULE":return Uk(r);case"DTSTART":return Xl(r);default:throw new Error("Unsupported RFC prop ".concat(e," in ").concat(r))}}function Uk(r){var t=r.replace(/^RRULE:/i,""),e=Xl(t),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var s=i.split("="),a=s[0],o=s[1];switch(a.toUpperCase()){case"FREQ":e.freq=Ae[o.toUpperCase()];break;case"WKST":e.wkst=Zr[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var l=SL(o),u=a.toLowerCase();e[u]=l;break;case"BYWEEKDAY":case"BYDAY":e.byweekday=EL(o);break;case"DTSTART":case"TZID":var c=Xl(r);e.tzid=c.tzid,e.dtstart=c.dtstart;break;case"UNTIL":e.until=Vl(o);break;case"BYEASTER":e.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+a+"'")}}),e}function SL(r){if(r.indexOf(",")!==-1){var t=r.split(",");return t.map(jk)}return jk(r)}function jk(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function EL(r){var t=r.split(",");return t.map(function(e){if(e.length===2)return Zr[e];var n=e.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(e));var i=Number(n[1]),s=n[2],a=Zr[s].weekday;return new dt(a,i)})}var Yg=re(()=>{yi();bi();Ms();qt();Xr()});var Ns,Hc=re(()=>{qt();Ns=function(){function r(t,e){if(isNaN(t.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=t,this.tzid=e}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var t=Fa(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(t):";TZID=".concat(this.tzid,":").concat(t)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){return this.isUTC?this.date:Ek(this.date,this.tzid)},r}()});function Jl(r){for(var t=[],e="",n=Object.keys(r),i=Object.keys(Ql),s=0;s<n.length;s++)if(n[s]!=="tzid"&&!!Ie(i,n[s])){var a=n[s].toUpperCase(),o=r[n[s]],l="";if(!(!Je(o)||At(o)&&!o.length)){switch(a){case"FREQ":l=ae.FREQUENCIES[r.freq];break;case"WKST":xr(o)?l=new dt(o).toString():l=o.toString();break;case"BYWEEKDAY":a="BYDAY",l=Tk(o).map(function(p){return p instanceof dt?p:At(p)?new dt(p[0],p[1]):new dt(p)}).toString();break;case"DTSTART":e=DL(o,r.tzid);break;case"UNTIL":l=Fa(o,!r.tzid);break;default:if(At(o)){for(var u=[],c=0;c<o.length;c++)u[c]=String(o[c]);l=u.toString()}else l=String(o)}l&&t.push([a,l])}}var d=t.map(function(p){var b=p[0],T=p[1];return"".concat(b,"=").concat(T.toString())}).join(";"),f="";return d!==""&&(f="RRULE:".concat(d)),[e,f].filter(function(p){return!!p}).join(`
`)}function DL(r,t){return r?"DTSTART"+new Ns(new Date(r),t).toString():""}var Hg=re(()=>{Xr();er();Ms();qt();Hc()});function xL(r,t){return Array.isArray(r)?!Array.isArray(t)||r.length!==t.length?!1:r.every(function(e,n){return e.getTime()===t[n].getTime()}):r instanceof Date?t instanceof Date&&r.getTime()===t.getTime():r===t}var Wk,$k=re(()=>{$c();qt();er();Wk=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(t,e,n){e&&(e=e instanceof Date?Wc(e):Ug(e)),t==="all"?this.all=e:(n._value=e,this[t].push(n))},r.prototype._cacheGet=function(t,e){var n=!1,i=e?Object.keys(e):[],s=function(c){for(var d=0;d<i.length;d++){var f=i[d];if(!xL(e[f],c[f]))return!0}return!1},a=this[t];if(t==="all")n=this.all;else if(At(a))for(var o=0;o<a.length;o++){var l=a[o];if(!(i.length&&s(l))){n=l._value;break}}if(!n&&this.all){for(var u=new gi(t,e),o=0;o<this.all.length&&u.accept(this.all[o]);o++);n=u.getValue(),this._cacheAdd(t,n,e)}return At(n)?Ug(n):n instanceof Date?Wc(n):n},r}()});var qk,Yk,OL,CL,$i,Yt,Hk,Gk,ML,RL,qi,Ht,Bk,Vk,zk,Kk,Gg,Qk=re(()=>{yi();er();qk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ne(1,31),!0),Ne(2,28),!0),Ne(3,31),!0),Ne(4,30),!0),Ne(5,31),!0),Ne(6,30),!0),Ne(7,31),!0),Ne(8,31),!0),Ne(9,30),!0),Ne(10,31),!0),Ne(11,30),!0),Ne(12,31),!0),Ne(1,7),!0),Yk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ne(1,31),!0),Ne(2,29),!0),Ne(3,31),!0),Ne(4,30),!0),Ne(5,31),!0),Ne(6,30),!0),Ne(7,31),!0),Ne(8,31),!0),Ne(9,30),!0),Ne(10,31),!0),Ne(11,30),!0),Ne(12,31),!0),Ne(1,7),!0),OL=Qr(1,29),CL=Qr(1,30),$i=Qr(1,31),Yt=Qr(1,32),Hk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Yt,!0),CL,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt.slice(0,7),!0),Gk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Yt,!0),OL,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt,!0),$i,!0),Yt,!0),$i,!0),Yt,!0),Yt.slice(0,7),!0),ML=Qr(-28,0),RL=Qr(-29,0),qi=Qr(-30,0),Ht=Qr(-31,0),Bk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ht,!0),RL,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht.slice(0,7),!0),Vk=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q([],Ht,!0),ML,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht,!0),qi,!0),Ht,!0),qi,!0),Ht,!0),Ht.slice(0,7),!0),zk=[0,31,60,91,121,152,182,213,244,274,305,335,366],Kk=[0,31,59,90,120,151,181,212,243,273,304,334,365],Gg=function(){for(var r=[],t=0;t<55;t++)r=r.concat(Qr(7));return r}()});function Xk(r,t){var e=Hn(r,1,1),n=Ia(r)?366:365,i=Ia(r+1)?366:365,s=Bl(e),a=mi(e),o=Pt(Pt({yearlen:n,nextyearlen:i,yearordinal:s,yearweekday:a},AL(r)),{wnomask:null});if(Or(t.byweekno))return o;o.wnomask=Ne(0,n+7);var l,u,c=l=$t(7-a+t.wkst,7);c>=4?(c=0,u=o.yearlen+$t(a-t.wkst,7)):u=n-c;for(var d=Math.floor(u/7),f=$t(u,7),p=Math.floor(d+f/4),b=0;b<t.byweekno.length;b++){var T=t.byweekno[b];if(T<0&&(T+=p+1),T>0&&T<=p){var _=void 0;T>1?(_=c+(T-1)*7,c!==l&&(_-=7-l)):_=c;for(var O=0;O<7&&(o.wnomask[_]=1,_++,o.wdaymask[_]!==t.wkst);O++);}}if(Ie(t.byweekno,1)){var _=c+p*7;if(c!==l&&(_-=7-l),_<n)for(var b=0;b<7&&(o.wnomask[_]=1,_+=1,o.wdaymask[_]!==t.wkst);b++);}if(c){var D=void 0;if(Ie(t.byweekno,-1))D=-1;else{var A=mi(Hn(r-1,1,1)),j=$t(7-A.valueOf()+t.wkst,7),Y=Ia(r-1)?366:365,se=void 0;j>=4?(j=0,se=Y+$t(A-t.wkst,7)):se=n-c,D=Math.floor(52+$t(se,7)/4)}if(Ie(t.byweekno,D))for(var _=0;_<c;_++)o.wnomask[_]=1}return o}function AL(r){var t=Ia(r)?366:365,e=Hn(r,1,1),n=mi(e);return t===365?{mmask:qk,mdaymask:Gk,nmdaymask:Vk,wdaymask:Gg.slice(n),mrange:Kk}:{mmask:Yk,mdaymask:Hk,nmdaymask:Bk,wdaymask:Gg.slice(n),mrange:zk}}var Zk=re(()=>{yi();qt();er();Qk()});function Jk(r,t,e,n,i,s){var a={lastyear:r,lastmonth:t,nwdaymask:[]},o=[];if(s.freq===ae.YEARLY)if(Or(s.bymonth))o=[[0,e]];else for(var l=0;l<s.bymonth.length;l++)t=s.bymonth[l],o.push(n.slice(t-1,t+1));else s.freq===ae.MONTHLY&&(o=[n.slice(t-1,t+1)]);if(Or(o))return a;a.nwdaymask=Ne(0,e);for(var l=0;l<o.length;l++)for(var u=o[l],c=u[0],d=u[1]-1,f=0;f<s.bynweekday.length;f++){var p=void 0,b=s.bynweekday[f],T=b[0],_=b[1];_<0?(p=d+(_+1)*7,p-=$t(i[p]-T,7)):(p=c+(_-1)*7,p+=$t(7-i[p]+T,7)),c<=p&&p<=d&&(a.nwdaymask[p]=1)}return a}var eS=re(()=>{Xr();er()});function tS(r,t){t===void 0&&(t=0);var e=r%19,n=Math.floor(r/100),i=r%100,s=Math.floor(n/4),a=n%4,o=Math.floor((n+8)/25),l=Math.floor((n-o+1)/3),u=Math.floor(19*e+n-s-l+15)%30,c=Math.floor(i/4),d=i%4,f=Math.floor(32+2*a+2*c-u-d)%7,p=Math.floor((e+11*u+22*f)/451),b=Math.floor((u+f-7*p+114)/31),T=(u+f-7*p+114)%31+1,_=Date.UTC(r,b-1,T+t),O=Date.UTC(r,0,1);return[Math.ceil((_-O)/(1e3*60*60*24))]}var rS=re(()=>{});var PL,nS,iS=re(()=>{er();bi();Zk();eS();rS();Yc();qt();PL=function(){function r(t){this.options=t}return r.prototype.rebuild=function(t,e){var n=this.options;if(t!==this.lastyear&&(this.yearinfo=Xk(t,n)),st(n.bynweekday)&&(e!==this.lastmonth||t!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,a=i.mrange,o=i.wdaymask;this.monthinfo=Jk(t,e,s,a,o,n)}Je(n.byeaster)&&(this.eastermask=tS(t,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[Qr(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(t,e){for(var n=this.mrange[e-1],i=this.mrange[e],s=Ne(null,this.yearlen),a=n;a<i;a++)s[a]=a;return[s,n,i]},r.prototype.wdayset=function(t,e,n){for(var i=Ne(null,this.yearlen+7),s=Bl(Hn(t,e,n))-this.yearordinal,a=s,o=0;o<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);o++);return[i,a,s]},r.prototype.ddayset=function(t,e,n){var i=Ne(null,this.yearlen),s=Bl(Hn(t,e,n))-this.yearordinal;return i[s]=s,[i,s,s+1]},r.prototype.htimeset=function(t,e,n,i){var s=this,a=[];return this.options.byminute.forEach(function(o){a=a.concat(s.mtimeset(t,o,n,i))}),hi(a),a},r.prototype.mtimeset=function(t,e,n,i){var s=this.options.bysecond.map(function(a){return new ja(t,e,a,i)});return hi(s),s},r.prototype.stimeset=function(t,e,n,i){return[new ja(t,e,n,i)]},r.prototype.getdayset=function(t){switch(t){case Ae.YEARLY:return this.ydayset.bind(this);case Ae.MONTHLY:return this.mdayset.bind(this);case Ae.WEEKLY:return this.wdayset.bind(this);case Ae.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(t){switch(t){case Ae.HOURLY:return this.htimeset.bind(this);case Ae.MINUTELY:return this.mtimeset.bind(this);case Ae.SECONDLY:return this.stimeset.bind(this)}},r}(),nS=PL});function sS(r,t,e,n,i,s){for(var a=[],o=0;o<r.length;o++){var l=void 0,u=void 0,c=r[o];c<0?(l=Math.floor(c/t.length),u=$t(c,t.length)):(l=Math.floor((c-1)/t.length),u=$t(c-1,t.length));for(var d=[],f=e;f<n;f++){var p=s[f];!Je(p)||d.push(p)}var b=void 0;l<0?b=d.slice(l)[0]:b=d[l];var T=t[u],_=Uc(i.yearordinal+b),O=jc(_,T);Ie(a,O)||a.push(O)}return hi(a),a}var aS=re(()=>{qt();er()});function Gc(r,t){var e=t.dtstart,n=t.freq,i=t.interval,s=t.until,a=t.bysetpos,o=t.count;if(o===0||i===0)return Ti(r);var l=Nk.fromDate(e),u=new nS(t);u.rebuild(l.year,l.month);for(var c=FL(u,l,t);;){var d=u.getdayset(n)(l.year,l.month,l.day),f=d[0],p=d[1],b=d[2],T=IL(f,p,b,u,t);if(st(a))for(var _=sS(a,c,p,b,u,f),O=0;O<_.length;O++){var D=_[O];if(s&&D>s)return Ti(r);if(D>=e){var A=oS(D,t);if(!r.accept(A)||o&&(--o,!o))return Ti(r)}}else for(var O=p;O<b;O++){var j=f[O];if(!!Je(j))for(var Y=Uc(u.yearordinal+j),se=0;se<c.length;se++){var H=c[se],D=jc(Y,H);if(s&&D>s)return Ti(r);if(D>=e){var A=oS(D,t);if(!r.accept(A)||o&&(--o,!o))return Ti(r)}}}if(t.interval===0||(l.add(t,T),l.year>Lc))return Ti(r);Kl(n)||(c=u.gettimeset(n)(l.hour,l.minute,l.second,0)),u.rebuild(l.year,l.month)}}function NL(r,t,e){var n=e.bymonth,i=e.byweekno,s=e.byweekday,a=e.byeaster,o=e.bymonthday,l=e.bynmonthday,u=e.byyearday;return st(n)&&!Ie(n,r.mmask[t])||st(i)&&!r.wnomask[t]||st(s)&&!Ie(s,r.wdaymask[t])||st(r.nwdaymask)&&!r.nwdaymask[t]||a!==null&&!Ie(r.eastermask,t)||(st(o)||st(l))&&!Ie(o,r.mdaymask[t])&&!Ie(l,r.nmdaymask[t])||st(u)&&(t<r.yearlen&&!Ie(u,t+1)&&!Ie(u,-r.yearlen+t)||t>=r.yearlen&&!Ie(u,t+1-r.yearlen)&&!Ie(u,-r.nextyearlen+t-r.yearlen))}function oS(r,t){return new Ns(r,t.tzid).rezonedDate()}function Ti(r){return r.getValue()}function IL(r,t,e,n,i){for(var s=!1,a=t;a<e;a++){var o=r[a];s=NL(n,o,i),s&&(r[o]=null)}return s}function FL(r,t,e){var n=e.freq,i=e.byhour,s=e.byminute,a=e.bysecond;return Kl(n)?Fk(e):n>=ae.HOURLY&&st(i)&&!Ie(i,t.hour)||n>=ae.MINUTELY&&st(s)&&!Ie(s,t.minute)||n>=ae.SECONDLY&&st(a)&&!Ie(a,t.second)?[]:r.gettimeset(n)(t.hour,t.minute,t.second,t.millisecond)}var Bg=re(()=>{bi();qt();iS();Xr();qg();er();Hc();aS();Yc()});var Zr,Ql,Lk,ae,Xr=re(()=>{qt();$c();Dk();Pk();bi();qg();Yg();Hg();$k();Ms();Bg();Zr={MO:new dt(0),TU:new dt(1),WE:new dt(2),TH:new dt(3),FR:new dt(4),SA:new dt(5),SU:new dt(6)},Ql={freq:Ae.YEARLY,dtstart:null,interval:1,wkst:Zr.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Lk=Object.keys(Ql),ae=function(){function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1),this._cache=e?null:new Wk,this.origOptions=$g(t);var n=Ik(t).parsedOptions;this.options=n}return r.parseText=function(t,e){return zl(t,e)},r.fromText=function(t,e){return Mk(t,e)},r.fromString=function(t){return new r(r.parseString(t)||void 0)},r.prototype._iter=function(t){return Gc(t,this.options)},r.prototype._cacheGet=function(t,e){return this._cache?this._cache._cacheGet(t,e):!1},r.prototype._cacheAdd=function(t,e,n){if(!!this._cache)return this._cache._cacheAdd(t,e,n)},r.prototype.all=function(t){if(t)return this._iter(new Wg("all",{},t));var e=this._cacheGet("all");return e===!1&&(e=this._iter(new gi("all",{})),this._cacheAdd("all",e)),e},r.prototype.between=function(t,e,n,i){if(n===void 0&&(n=!1),!As(t)||!As(e))throw new Error("Invalid date passed in to RRule.between");var s={before:e,after:t,inc:n};if(i)return this._iter(new Wg("between",s,i));var a=this._cacheGet("between",s);return a===!1&&(a=this._iter(new gi("between",s)),this._cacheAdd("between",a,s)),a},r.prototype.before=function(t,e){if(e===void 0&&(e=!1),!As(t))throw new Error("Invalid date passed in to RRule.before");var n={dt:t,inc:e},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new gi("before",n)),this._cacheAdd("before",i,n)),i},r.prototype.after=function(t,e){if(e===void 0&&(e=!1),!As(t))throw new Error("Invalid date passed in to RRule.after");var n={dt:t,inc:e},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new gi("after",n)),this._cacheAdd("after",i,n)),i},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return Jl(this.origOptions)},r.prototype.toText=function(t,e,n){return Rk(this,t,e,n)},r.prototype.isFullyConvertibleToText=function(){return Ak(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=Ae.YEARLY,r.MONTHLY=Ae.MONTHLY,r.WEEKLY=Ae.WEEKLY,r.DAILY=Ae.DAILY,r.HOURLY=Ae.HOURLY,r.MINUTELY=Ae.MINUTELY,r.SECONDLY=Ae.SECONDLY,r.MO=Zr.MO,r.TU=Zr.TU,r.WE=Zr.WE,r.TH=Zr.TH,r.FR=Zr.FR,r.SA=Zr.SA,r.SU=Zr.SU,r.parseString=Zl,r.optionsToString=Jl,r}()});function lS(r,t,e,n,i,s){var a={},o=r.accept;function l(f,p){e.forEach(function(b){b.between(f,p,!0).forEach(function(T){a[Number(T)]=!0})})}i.forEach(function(f){var p=new Ns(f,s).rezonedDate();a[Number(p)]=!0}),r.accept=function(f){var p=Number(f);return isNaN(p)?o.call(this,f):!a[p]&&(l(new Date(p-1),new Date(p+1)),!a[p])?(a[p]=!0,o.call(this,f)):!0},r.method==="between"&&(l(r.args.after,r.args.before),r.accept=function(f){var p=Number(f);return a[p]?!0:(a[p]=!0,o.call(this,f))});for(var u=0;u<n.length;u++){var c=new Ns(n[u],s).rezonedDate();if(!r.accept(new Date(c.getTime())))break}t.forEach(function(f){Gc(r,f.options)});var d=r._result;switch(hi(d),r.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;case"after":default:return d.length&&d[0]||null}}var uS=re(()=>{Hc();Bg();qt()});function LL(r,t){var e=[],n=[],i=[],s=[],a=Xl(r),o=a.dtstart,l=a.tzid,u=qL(r,t.unfold);return u.forEach(function(c){var d;if(!!c){var f=$L(c),p=f.name,b=f.parms,T=f.value;switch(p.toUpperCase()){case"RRULE":if(b.length)throw new Error("unsupported RRULE parm: ".concat(b.join(",")));e.push(Zl(c));break;case"RDATE":var _=(d=/RDATE(?:;TZID=([^:=]+))?/i.exec(c))!==null&&d!==void 0?d:[],O=_[1];O&&!l&&(l=O),n=n.concat(dS(T,b));break;case"EXRULE":if(b.length)throw new Error("unsupported EXRULE parm: ".concat(b.join(",")));i.push(Zl(T));break;case"EXDATE":s=s.concat(dS(T,b));break;case"DTSTART":break;default:throw new Error("unsupported property: "+p)}}}),{dtstart:o,tzid:l,rrulevals:e,rdatevals:n,exrulevals:i,exdatevals:s}}function UL(r,t){var e=LL(r,t),n=e.rrulevals,i=e.rdatevals,s=e.exrulevals,a=e.exdatevals,o=e.dtstart,l=e.tzid,u=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||n.length>1||i.length||s.length||a.length){var c=new Kg(u);return c.dtstart(o),c.tzid(l||void 0),n.forEach(function(f){c.rrule(new ae(Vg(f,o,l),u))}),i.forEach(function(f){c.rdate(f)}),s.forEach(function(f){c.exrule(new ae(Vg(f,o,l),u))}),a.forEach(function(f){c.exdate(f)}),t.compatible&&t.dtstart&&c.rdate(o),c}var d=n[0]||{};return new ae(Vg(d,d.dtstart||t.dtstart||o,d.tzid||t.tzid||l),u)}function Bc(r,t){return t===void 0&&(t={}),UL(r,jL(t))}function Vg(r,t,e){return Pt(Pt({},r),{dtstart:t,tzid:e})}function jL(r){var t=[],e=Object.keys(r),n=Object.keys(cS);if(e.forEach(function(i){Ie(n,i)||t.push(i)}),t.length)throw new Error("Invalid options: "+t.join(", "));return Pt(Pt({},cS),r)}function WL(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var t=_k(r,":",1),e=t[0],n=t[1];return{name:e,value:n}}function $L(r){var t=WL(r),e=t.name,n=t.value,i=e.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function qL(r,t){if(t===void 0&&(t=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!t)return r.split(/\s/);for(var e=r.split(`
`),n=0;n<e.length;){var i=e[n]=e[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(e[n-1]+=i.slice(1),e.splice(n,1)):n+=1:e.splice(n,1)}return e}function YL(r){r.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function dS(r,t){return YL(t),r.split(",").map(function(e){return Vl(e)})}var cS,zg=re(()=>{yi();Xr();Qg();qt();er();Yg();cS={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null}});function fS(r){var t=this;return function(e){if(e!==void 0&&(t["_".concat(r)]=e),t["_".concat(r)]!==void 0)return t["_".concat(r)];for(var n=0;n<t._rrule.length;n++){var i=t._rrule[n].origOptions[r];if(i)return i}}}function pS(r,t){if(!(r instanceof ae))throw new TypeError(String(r)+" is not RRule instance");Ie(t.map(String),String(r))||t.push(r)}function mS(r,t){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");Ie(t.map(Number),Number(r))||(t.push(r),hi(t))}function hS(r,t,e){var n=!e||e.toUpperCase()==="UTC",i=n?"".concat(r,":"):"".concat(r,";TZID=").concat(e,":"),s=t.map(function(a){return Fa(a.valueOf(),n)}).join(",");return"".concat(i).concat(s)}var Kg,Qg=re(()=>{yi();Xr();qt();er();uS();zg();Hg();Kg=function(r){La(t,r);function t(e){e===void 0&&(e=!1);var n=r.call(this,{},e)||this;return n.dtstart=fS.apply(n,["dtstart"]),n.tzid=fS.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return t.prototype._iter=function(e){return lS(e,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(e){pS(e,this._rrule)},t.prototype.exrule=function(e){pS(e,this._exrule)},t.prototype.rdate=function(e){mS(e,this._rdate)},t.prototype.exdate=function(e){mS(e,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(e){return Bc(e.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(e){return Bc(e.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(e){return new Date(e.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(e){return new Date(e.getTime())})},t.prototype.valueOf=function(){var e=[];return!this._rrule.length&&this._dtstart&&(e=e.concat(Jl({dtstart:this._dtstart}))),this._rrule.forEach(function(n){e=e.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){e=e.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&e.push(hS("RDATE",this._rdate,this.tzid())),this._exdate.length&&e.push(hS("EXDATE",this._exdate,this.tzid())),e},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var e=new t(!!this._cache);return this._rrule.forEach(function(n){return e.rrule(n.clone())}),this._exrule.forEach(function(n){return e.exrule(n.clone())}),this._rdate.forEach(function(n){return e.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return e.exdate(new Date(n.getTime()))}),e},t}(ae)});var gS=re(()=>{Xr();Qg();zg();bi();Ms();qt()});var Et,Vc=re(()=>{"use strict";gS();Et=class{constructor({rrule:t,baseOnToday:e,occurrence:n}){this.rrule=t,this.baseOnToday=e,this.occurrence=n}static fromText({recurrenceRuleText:t,occurrence:e}){try{let n=t.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(n==null)return null;let i=n[1].trim(),s=n[2]!==void 0,a=ae.parseText(i);if(a!==null){let o=e.referenceDate;!s&&o!==null?a.dtstart=window.moment(o).startOf("day").utc(!0).toDate():a.dtstart=window.moment().startOf("day").utc(!0).toDate();let l=new ae(a);return new Et({rrule:l,baseOnToday:s,occurrence:e})}}catch(n){n instanceof Error&&console.log(n.message)}return null}toText(){let t=this.rrule.toText();return this.baseOnToday&&(t+=" when done"),t}next(t=window.moment()){let e=this.nextReferenceDate(t);return e===null?null:this.occurrence.next(e)}identicalTo(t){return this.baseOnToday!==t.baseOnToday||!this.occurrence.isIdenticalTo(t.occurrence)?!1:this.toText()===t.toText()}nextReferenceDate(t){return this.baseOnToday?this.nextReferenceDateFromToday(t.clone()).toDate():this.nextReferenceDateFromOriginalReferenceDate().toDate()}nextReferenceDateFromToday(t){let e=new ae(me(U({},this.rrule.origOptions),{dtstart:t.startOf("day").utc(!0).toDate()}));return this.nextAfter(t.endOf("day"),e)}nextReferenceDateFromOriginalReferenceDate(){var e;let t=window.moment((e=this.occurrence.referenceDate)!=null?e:void 0).endOf("day");return this.nextAfter(t,this.rrule)}nextAfter(t,e){t.utc(!0);let n=window.moment.utc(e.after(t.toDate())),i=this.toText(),s=i.match(/every( \d+)? month(s)?(.*)?/);s!==null&&(i.includes(" on ")||(n=Et.nextAfterMonths(t,n,e,s[1])));let a=i.match(/every( \d+)? year(s)?(.*)?/);return a!==null&&(n=Et.nextAfterYears(t,n,e,a[1])),Et.addTimezone(n)}static nextAfterMonths(t,e,n,i){let s=1;for(i!==void 0&&(s=Number.parseInt(i.trim(),10));Et.isSkippingTooManyMonths(t,e,s);)e=Et.fromOneDayEarlier(t,n);return e}static isSkippingTooManyMonths(t,e,n){let i=e.month()-t.month();return i+=(e.year()-t.year())*12,i>n}static nextAfterYears(t,e,n,i){let s=1;for(i!==void 0&&(s=Number.parseInt(i.trim(),10));Et.isSkippingTooManyYears(t,e,s);)e=Et.fromOneDayEarlier(t,n);return e}static isSkippingTooManyYears(t,e,n){return e.year()-t.year()>n}static fromOneDayEarlier(t,e){t.subtract(1,"days").endOf("day");let n=e.origOptions;return n.dtstart=t.startOf("day").toDate(),e=new ae(n),window.moment.utc(e.after(t.toDate()))}static addTimezone(t){return window.moment.utc(t).set({hour:12,minute:0,second:0,millisecond:0}).local(!0).startOf("day")}}});function yS(r,t,e){let n=new Map([["cancelled date","cancelledDate"],["created date","createdDate"],["depends on","dependsOn"],["done date","doneDate"],["due date","dueDate"],["id","id"],["on completion","onCompletion"],["priority","priority"],["recurrence rule","recurrenceRule"],["scheduled date","scheduledDate"],["start date","startDate"]]);for(let[i,s]of n.entries())if(t.startsWith(i))return r.setVisibility(s,e),!0;return t.startsWith("tags")?(r.setTagsVisibility(e),!0):!1}var eu,zc,Bn,Is=re(()=>{"use strict";eu=(p=>(p.Description="description",p.Id="id",p.DependsOn="dependsOn",p.Priority="priority",p.RecurrenceRule="recurrenceRule",p.OnCompletion="onCompletion",p.CreatedDate="createdDate",p.StartDate="startDate",p.ScheduledDate="scheduledDate",p.DueDate="dueDate",p.CancelledDate="cancelledDate",p.DoneDate="doneDate",p.BlockLink="blockLink",p))(eu||{}),zc=Object.values(eu),Bn=class{constructor(){this.visible={};this.tagsVisible=!0;zc.forEach(t=>{this.visible[t]=!0})}isShown(t){return this.visible[t]}areTagsShown(){return this.tagsVisible}hide(t){this.visible[t]=!1}setVisibility(t,e){this.visible[t]=e}setTagsVisibility(t){this.tagsVisible=t}get shownComponents(){return zc.filter(t=>this.visible[t])}get hiddenComponents(){return zc.filter(t=>!this.visible[t])}get toggleableComponents(){return zc.filter(t=>t!=="description"&&t!=="blockLink")}toggleVisibilityExceptDescriptionAndBlockLink(){this.toggleableComponents.forEach(t=>{this.visible[t]=!this.visible[t]}),this.setTagsVisibility(!this.areTagsShown())}}});var tr,gt,Jr=re(()=>{"use strict";tr=(a=>(a.TODO="TODO",a.DONE="DONE",a.IN_PROGRESS="IN_PROGRESS",a.CANCELLED="CANCELLED",a.NON_TASK="NON_TASK",a.EMPTY="EMPTY",a))(tr||{}),gt=class{constructor(t,e,n,i,s="TODO"){this.symbol=t,this.name=e,this.nextStatusSymbol=n,this.availableAsCommand=i,this.type=s}}});function bS(r){let t=r.trim().toLowerCase();return t==="delete"?"delete":t==="keep"?"keep":""}function HL(r,t){return r.filter(e=>e!==t)}function GL(r,t){let e=r.status,n=t.status,i=n.type===e.type;return n.type!=="DONE"||i}function TS(r,t){let e=t.length;if(r.onCompletion===""||r.onCompletion==="keep"||e===0)return t;let n=t[e-1];if(GL(r,n))return t;let s=r.onCompletion;return s==="delete"?HL(t,n):(console.log(`OnCompletion action ${s} not yet implemented.`),t)}var Kc=re(()=>{"use strict";Jr()});var Wa=re(()=>{"use strict"});function $a(r){return Ya(r,"(\\d{4}-\\d{2}-\\d{2})")}function Ya(r,t){let e=r+"\uFE0F?";return t!==""&&(e+=" *"+t),e+="$",new RegExp(e,"u")}function Qc(r,t,e){return e?r?" "+t:` ${t} ${e}`:""}function qa(r,t,e){return e?r?" "+t:` ${t} ${e.format(ce.dateFormat)}`:""}function _S(){let r=[];return Object.values(tu.prioritySymbols).forEach(t=>{t.length>0&&r.push(t)}),Object.values(tu).forEach(t=>{typeof t=="string"&&r.push(t)}),r}var Fs,Xg,tu,Ls,ru=re(()=>{"use strict";Is();Kc();Nc();Vc();Nt();Wa();ii();Fs=/[a-zA-Z0-9-_]+/,Xg=new RegExp(Fs.source+"( *, *"+Fs.source+" *)*");tu={prioritySymbols:{Highest:"\u{1F53A}",High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",Lowest:"\u23EC",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",cancelledDateSymbol:"\u274C",recurrenceSymbol:"\u{1F501}",onCompletionSymbol:"\u{1F3C1}",dependsOnSymbol:"\u26D4",idSymbol:"\u{1F194}",TaskFormatRegularExpressions:{priorityRegex:Ya("([\u{1F53A}\u23EB\u{1F53C}\u{1F53D}\u23EC])",""),startDateRegex:$a("\u{1F6EB}"),createdDateRegex:$a("\u2795"),scheduledDateRegex:$a("[\u23F3\u231B]"),dueDateRegex:$a("[\u{1F4C5}\u{1F4C6}\u{1F5D3}]"),doneDateRegex:$a("\u2705"),cancelledDateRegex:$a("\u274C"),recurrenceRegex:Ya("\u{1F501}","([a-zA-Z0-9, !]+)"),onCompletionRegex:Ya("\u{1F3C1}","([a-zA-Z]+)"),dependsOnRegex:Ya("\u26D4","("+Xg.source+")"),idRegex:Ya("\u{1F194}","("+Fs.source+")")}};Ls=class{constructor(t){this.symbols=t}serialize(t){let e=new Bn,n="",i=!1;for(let s of e.shownComponents)n+=this.componentToString(t,i,s);return n}componentToString(t,e,n){var T;let{prioritySymbols:i,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,doneDateSymbol:l,cancelledDateSymbol:u,recurrenceSymbol:c,onCompletionSymbol:d,dueDateSymbol:f,dependsOnSymbol:p,idSymbol:b}=this.symbols;switch(n){case"description":return t.description;case"priority":{let _="";return t.priority==="0"?_=" "+i.Highest:t.priority==="1"?_=" "+i.High:t.priority==="2"?_=" "+i.Medium:t.priority==="4"?_=" "+i.Low:t.priority==="5"&&(_=" "+i.Lowest),_}case"startDate":return qa(e,s,t.startDate);case"createdDate":return qa(e,a,t.createdDate);case"scheduledDate":return t.scheduledDateIsInferred?"":qa(e,o,t.scheduledDate);case"doneDate":return qa(e,l,t.doneDate);case"cancelledDate":return qa(e,u,t.cancelledDate);case"dueDate":return qa(e,f,t.dueDate);case"recurrenceRule":return t.recurrence?Qc(e,c,t.recurrence.toText()):"";case"onCompletion":return t.onCompletion===""?"":Qc(e,d,t.onCompletion);case"dependsOn":return t.dependsOn.length===0?"":Qc(e,p,t.dependsOn.join(","));case"id":return Qc(e,b,t.id);case"blockLink":return(T=t.blockLink)!=null?T:"";default:throw new Error(`Don't know how to render task component of type '${n}'`)}}parsePriority(t){let{prioritySymbols:e}=this.symbols;switch(t){case e.Lowest:return"5";case e.Low:return"4";case e.Medium:return"2";case e.High:return"1";case e.Highest:return"0";default:return"3"}}deserialize(t){let{TaskFormatRegularExpressions:e}=this.symbols,n,i="3",s=null,a=null,o=null,l=null,u=null,c=null,d="",f=null,p="",b="",T=[],_="",O=20,D=0;do{n=!1;let A=t.match(e.priorityRegex);A!==null&&(i=this.parsePriority(A[1]),t=t.replace(e.priorityRegex,"").trim(),n=!0);let j=t.match(e.doneDateRegex);j!==null&&(l=window.moment(j[1],ce.dateFormat),t=t.replace(e.doneDateRegex,"").trim(),n=!0);let Y=t.match(e.cancelledDateRegex);Y!==null&&(u=window.moment(Y[1],ce.dateFormat),t=t.replace(e.cancelledDateRegex,"").trim(),n=!0);let se=t.match(e.dueDateRegex);se!==null&&(o=window.moment(se[1],ce.dateFormat),t=t.replace(e.dueDateRegex,"").trim(),n=!0);let H=t.match(e.scheduledDateRegex);H!==null&&(a=window.moment(H[1],ce.dateFormat),t=t.replace(e.scheduledDateRegex,"").trim(),n=!0);let Z=t.match(e.startDateRegex);Z!==null&&(s=window.moment(Z[1],ce.dateFormat),t=t.replace(e.startDateRegex,"").trim(),n=!0);let ye=t.match(e.createdDateRegex);ye!==null&&(c=window.moment(ye[1],ce.dateFormat),t=t.replace(e.createdDateRegex,"").trim(),n=!0);let we=t.match(e.recurrenceRegex);we!==null&&(d=we[1].trim(),t=t.replace(e.recurrenceRegex,"").trim(),n=!0);let V=t.match(e.onCompletionRegex);if(V!=null){t=t.replace(e.onCompletionRegex,"").trim();let q=V[1];p=bS(q),n=!0}let K=t.match(ce.hashTagsFromEnd);if(K!=null){t=t.replace(ce.hashTagsFromEnd,"").trim(),n=!0;let q=K[0].trim();_=_.length>0?[q,_].join(" "):q}let C=t.match(e.idRegex);C!=null&&(t=t.replace(e.idRegex,"").trim(),b=C[1].trim(),n=!0);let J=t.match(e.dependsOnRegex);J!=null&&(t=t.replace(e.dependsOnRegex,"").trim(),T=J[1].replace(/ /g,"").split(",").filter(q=>q!==""),n=!0),D++}while(n&&D<=O);return d.length>0&&(f=Et.fromText({recurrenceRuleText:d,occurrence:new Kr({startDate:s,scheduledDate:a,dueDate:o})})),_.length>0&&(t+=" "+_),{description:t,priority:i,startDate:s,createdDate:c,scheduledDate:a,dueDate:o,doneDate:l,cancelledDate:u,recurrence:f,onCompletion:p,id:b,dependsOn:T,tags:fe.extractHashtags(t)}}}});function nu(r){let t="",e=!0;for(;e;)t=Math.random().toString(36).substring(2,6+2),r.includes(t)||(e=!1);return t}function Zc(r,t){return r.id!==""?r:new fe(me(U({},r),{id:nu(t)}))}function vS(r,t){let e=r;if(!r.dependsOn.includes(t.id)){let n=[...r.dependsOn,t.id];e=new fe(me(U({},r),{dependsOn:n}))}return e}function wS(r,t){let e=r;if(r.dependsOn.includes(t.id)){let n=r.dependsOn.filter(i=>i!==t.id);e=new fe(me(U({},r),{dependsOn:n}))}return e}var Jc=re(()=>{"use strict";Nt()});function Yi(r){return r.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}var iu=re(()=>{"use strict"});var Hi,Fe,Cr=re(()=>{"use strict";iu();Hi=class{constructor(){this._globalFilter="";this._removeGlobalFilter=!1}static getInstance(){return Hi.instance||(Hi.instance=new Hi),Hi.instance}get(){return this._globalFilter}set(t){this._globalFilter=t}reset(){this.set(Hi.empty)}isEmpty(){return this.get()===Hi.empty}equals(t){return this.get()===t}includedIn(t){let e=this.get();return t.includes(e)}prependTo(t){return this.get()+" "+t}removeAsWordFromDependingOnSettings(t){return this.getRemoveGlobalFilter()?this.removeAsWordFrom(t):t}getRemoveGlobalFilter(){return this._removeGlobalFilter}setRemoveGlobalFilter(t){this._removeGlobalFilter=t}removeAsWordFrom(t){if(this.isEmpty())return t;let e=RegExp("(^|\\s)"+Yi(this.get())+"($|\\s)","ug");return t.search(e)>-1&&(t=t.replace(e,"$1$2").replace("  "," ").trim()),t}removeAsSubstringFrom(t){let e=this.get();return t.replace(e,"").trim()}},Fe=Hi;Fe.empty=""});function Us(r){return Fe.getInstance().removeAsWordFrom(r.description)}function zL(r,t){if(r==="")return t;let e=(0,SS.prepareSimpleSearch)(r),n=-4;return t.map(a=>{let o=e(Us(a));return o&&o.score>n?{item:a,match:o}:null}).filter(Boolean).sort((a,o)=>o.match.score-a.match.score).map(a=>a.item)}function ed(r,t,e,n,i){let s=zL(r,t);return s=s.filter(a=>!(a.isDone||a.description.includes("<%")&&a.description.includes("%>")||a.description===(e==null?void 0:e.description)&&a.taskLocation.path===(e==null?void 0:e.taskLocation.path)&&a.originalMarkdown===(e==null?void 0:e.originalMarkdown)||(n==null?void 0:n.includes(a))||(i==null?void 0:i.includes(a)))),e&&s.sort((a,o)=>{let l=a.taskLocation.path===e.taskLocation.path,u=o.taskLocation.path===e.taskLocation.path;return l&&u?Math.abs(a.taskLocation.lineNumber-e.taskLocation.lineNumber)-Math.abs(o.taskLocation.lineNumber-e.taskLocation.lineNumber):l?-1:u?1:0}),s.slice(0,VL)}var SS,VL,Zg=re(()=>{"use strict";SS=require("obsidian");Cr();VL=20});function ES(r){return globalThis.SHOW_DEPENDENCY_SUGGESTIONS&&r}function ey(r,t,e){let n=[r.startDateSymbol,r.scheduledDateSymbol,r.dueDateSymbol].join("|");return(i,s,a,o,l,u)=>{let c=[],{postfix:d,insertSkip:f}=QL(e,i,s),p={line:i,cursorPos:s,settings:a,dataviewMode:e,postfix:d,insertSkip:f};return c=c.concat(r2(n,t,p)),c=c.concat(n2(r.recurrenceSymbol,p)),ES(l)&&(c=c.concat(s2(r.idSymbol,o,p)),c=c.concat(a2(r.dependsOnSymbol,o,p,u))),c=c.concat(i2(r.onCompletionSymbol,t,p)),c=c.concat(XL(r,l,p)),c.length>0&&!c.some(b=>b.suggestionType==="match")&&(e||c.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`})),c=c.slice(0,a.autoSuggestMaxItems),c}}function QL(r,t,e){let n=l2(t.substring(0,e),[["(",")"],["[","]"]])=="("?")":"]",i=r?n+" ":" ",s=r&&t.length>e&&t.charAt(e)===n?1:0;return{postfix:i,insertSkip:s}}function XL(r,t,e){let n=[],i=e.line;js(n,i,r.dueDateSymbol,"due date"),js(n,i,r.startDateSymbol,"start date"),js(n,i,r.scheduledDateSymbol,"scheduled date"),ZL(n,r,e),js(n,i,r.recurrenceSymbol,"recurring (repeat)"),JL(n,r,e),ES(t)&&(js(n,i,r.idSymbol,"id"),js(n,i,r.dependsOnSymbol,"depends on id")),js(n,i,r.onCompletionSymbol,"on completion");let s=e2(n,e);return s.length===0&&e.settings.autoSuggestMinMatch===0?n:s}function js(r,t,e,n){t.includes(e)||r.push({displayText:`${e} ${n}`,appendText:`${e} `})}function ZL(r,t,e){if(!(i=>Object.values(t.prioritySymbols).some(s=>s.length>0&&i.includes(s)))(e.line)){let i=t.prioritySymbols,s=["High","Medium","Low","Highest","Lowest"];for(let a of s){let o=i[a];r.push({displayText:e.dataviewMode?`${o} priority`:`${o} ${a.toLowerCase()} priority`,appendText:`${o}${e.postfix}`,insertSkip:e.dataviewMode?e.insertSkip:void 0})}}}function JL(r,t,e){if(!e.line.includes(t.createdDateSymbol)){let i=Dr.parseDate("today",!0).format(ce.dateFormat);r.push({textToMatch:`${t.createdDateSymbol} created`,displayText:`${t.createdDateSymbol} created today (${i})`,appendText:`${t.createdDateSymbol} ${i}`+e.postfix,insertSkip:e.dataviewMode?e.insertSkip:void 0})}}function e2(r,t){let e=Ha(/([a-zA-Z'_-]*)/g,t),n=[];if(e&&e.length>0){let i=e[0];if(i.length>=Math.max(1,t.settings.autoSuggestMinMatch)){let s=r.filter(a=>{var l;return((l=a.textToMatch)!=null?l:a.displayText).toLowerCase().includes(i.toLowerCase())});for(let a of s){let o=t.dataviewMode&&(a.displayText.includes("priority")||a.displayText.includes("created"))?i.length+t.insertSkip:i.length;n.push({suggestionType:"match",displayText:a.displayText,appendText:a.appendText,insertAt:e.index,insertSkip:o})}}}return n}function DS(r,t){let e=`${t}`,n=`${r} ${t}`;return{displayText:e,appendText:n}}function t2(r,t){let n=`${Dr.parseDate(t,!0).format(ce.dateFormat)}`,i=`${t} (${n})`,s=`${r} ${n}`;return{displayText:i,appendText:s}}function r2(r,t,e){let n=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],i=[],s=new RegExp(`(${r})\\s*([0-9a-zA-Z ]*)`,"ug"),a=Ha(s,e);if(a&&a.length>=2){let o=a[2];if(o.length<e.settings.autoSuggestMinMatch)return[];let l=o&&o.length>1?Dr.parseDate(Pc(o),!0):null;if(l!=null&&l.isValid()){let c=l.format(ce.dateFormat);td(e,a,[c],DS,i)}let u=ty(n,o,t,!0);td(e,a,u,t2,i)}return i}function n2(r,t){var a;let e=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],n=[],i=new RegExp(`(${r})\\s*([0-9a-zA-Z ]*)`,"ug"),s=Ha(i,t);if(s&&s.length>=2){let o=s[1],l=s[2];if(l.length<t.settings.autoSuggestMinMatch)return[];if(l.length>0){let f=(a=Et.fromText({recurrenceRuleText:l,occurrence:new Kr({startDate:null,scheduledDate:null,dueDate:null})}))==null?void 0:a.toText();if(f){let p=`${o} ${f}`+t.postfix;if(n.push({suggestionType:"match",displayText:`\u2705 ${f}`,appendText:p,insertAt:s.index,insertSkip:ry(s[0],t)}),s[0]==p)return[]}}let u=t.settings.autoSuggestMaxItems/2,c=ty(e,l,u,!1);c.length===0&&l.trim().length===0&&(c=e.slice(0,u)),td(t,s,c,(f,p)=>{let b=`${p}`,T=`${f} ${p}`;return{displayText:b,appendText:T}},n)}return n}function i2(r,t,e){let n=["delete","keep"],i=[],s=new RegExp(`(${r})\\s*([0-9a-zA-Z ]*)`,"ug"),a=Ha(s,e);if(a&&a.length>=2){let o=a[2];if(o.length<e.settings.autoSuggestMinMatch)return[];let l=ty(n,o,t,!0);td(e,a,l,DS,i)}return i}function s2(r,t,e){let n=[],i=new RegExp(`(${r})\\s*(${Fs.source})?`,"ug"),s=Ha(i,e);if(s&&s[0].trim().length<=r.length){let a=nu(t.map(o=>o.id));n.push({suggestionType:"match",displayText:"generate unique id",appendText:`${r} ${a}`+e.postfix,insertAt:s.index,insertSkip:ry(s[0],e)})}return n}function a2(r,t,e,n){let i=[],s=e.dataviewMode?Yi("()[]"):_S(),a=new RegExp(`(${r})([0-9a-zA-Z-_ ^,]*,)*([^,${s}]*)`,"ug"),o=Ha(a,e);if(o&&o.length>=1){let l=o[2]||"",u=o[3],c=[];if(l){let d=l.split(",").map(f=>f.trim());c=t.filter(f=>f.id&&d.includes(f.id))}if(u.length>=e.settings.autoSuggestMinMatch){let d=ed(u.trim(),t,n,[],c);for(let f of d)i.push({suggestionType:"match",displayText:`${f.descriptionWithoutTags} - From: ${f.filename}.md`,appendText:`${r}${l}`,insertAt:o.index,insertSkip:r.length+l.length+u.length,taskItDependsOn:f})}}return i}function ty(r,t,e,n){let s=r.filter(a=>t&&t.length>=1&&a.toLowerCase().includes(t.toLowerCase())).slice(0,e);return n&&s.length===0&&(s=r.slice(0,e)),s}function td(r,t,e,n,i){let s=t[1];for(let a of e){let{displayText:o,appendText:l}=n(s,a);i.push({suggestionType:"match",displayText:o,appendText:l+r.postfix,insertAt:t.index,insertSkip:ry(t[0],r)})}}function Ha(r,t){let e=t.line.matchAll(r),n=t.cursorPos;for(let i of e)if((i==null?void 0:i.index)&&i.index<n&&n<=i.index+i[0].length)return i}function o2(r,t){if(t.length===0)return!1;let e=Object.fromEntries(t.map(([i,s])=>[i,0])),n=Object.fromEntries(t.map(([i,s])=>[s,i]));for(let i of r)i in e?e[i]++:i in n&&(e[n[i]]=Math.max(0,e[n[i]]-1));return Object.values(e).some(i=>i>0)}function l2(r,t){if(t.length===0)return null;let e=Object.fromEntries(t.map(([s,a])=>[s,0])),n=Object.fromEntries(t.map(([s,a])=>[a,s])),i=[];for(let s=0;s<r.length;s++){let a=r[s];if(a in e)e[a]++,i.push({bracket:a,idx:s});else if(a in n){if(e[n[a]]>=1){for(let o=i.length-1;o>=0;o--)if(i[o].bracket==n[a]){i.splice(o,1);break}}e[n[a]]=Math.max(0,e[n[a]]-1)}}return i.length>0?i[i.length-1].bracket:null}function xS(r,t){return(e,n,i,s,a)=>o2(e.slice(0,n),t)?r(e,n,i,s,a):[]}function OS(r,t,e){let n=Fe.getInstance().includedIn(r),i=u2(e,t,n);return typeof i=="boolean"?i:n&&c2(r,t.ch)}function u2(r,t,e){var n,i;return(i=(n=r==null?void 0:r.editorComponent)==null?void 0:n.showTasksPluginAutoSuggest)==null?void 0:i.call(n,t,r,e)}function c2(r,t){if(r.length===0)return!1;let e=fe.extractTaskComponents(r);if(!e)return!1;let n=e.indentation+e.listMarker+" ["+e.status.symbol+"] ";return t>=n.length}function ry(r,t){return t.dataviewMode?r.length+t.insertSkip:r.length}var Jg,KL,ny=re(()=>{"use strict";Ag();Pg();Nc();Vc();ru();Nt();Jc();Cr();ii();Zg();iu();Jg=5,KL=!0;globalThis.SHOW_DEPENDENCY_SUGGESTIONS=KL});var Mr,su=re(()=>{"use strict";Wa();Mr=class{static priorityNameUsingNone(t){let e="ERROR";switch(t){case"1":e="High";break;case"0":e="Highest";break;case"2":e="Medium";break;case"3":e="None";break;case"4":e="Low";break;case"5":e="Lowest";break}return e}static priorityNameUsingNormal(t){return Mr.priorityNameUsingNone(t).replace("None","Normal")}static priorityValue(t){switch(t.toLowerCase()){case"lowest":return"5";case"low":return"4";case"medium":return"2";case"high":return"1";case"highest":return"0";default:return"3"}}}});function kn(r){let t=["(?:",/(?=[^\]]+\])\[/,"|",/(?=[^)]+\))\(/,")",/ */,r,/ */,/[)\]]/,/(?: *,)?/,/$/].map(e=>e instanceof RegExp?e.source:e).join("");return new RegExp(t,r.flags)}var iy,rd,sy=re(()=>{"use strict";Is();su();ru();iy={prioritySymbols:{Highest:"priority:: highest",High:"priority:: high",Medium:"priority:: medium",Low:"priority:: low",Lowest:"priority:: lowest",None:""},startDateSymbol:"start::",createdDateSymbol:"created::",scheduledDateSymbol:"scheduled::",dueDateSymbol:"due::",doneDateSymbol:"completion::",cancelledDateSymbol:"cancelled::",recurrenceSymbol:"repeat::",onCompletionSymbol:"onCompletion::",idSymbol:"id::",dependsOnSymbol:"dependsOn::",TaskFormatRegularExpressions:{priorityRegex:kn(/priority:: *(highest|high|medium|low|lowest)/),startDateRegex:kn(/start:: *(\d{4}-\d{2}-\d{2})/),createdDateRegex:kn(/created:: *(\d{4}-\d{2}-\d{2})/),scheduledDateRegex:kn(/scheduled:: *(\d{4}-\d{2}-\d{2})/),dueDateRegex:kn(/due:: *(\d{4}-\d{2}-\d{2})/),doneDateRegex:kn(/completion:: *(\d{4}-\d{2}-\d{2})/),cancelledDateRegex:kn(/cancelled:: *(\d{4}-\d{2}-\d{2})/),recurrenceRegex:kn(/repeat:: *([a-zA-Z0-9, !]+)/),onCompletionRegex:kn(/onCompletion:: *([a-zA-Z]+)/),dependsOnRegex:kn(new RegExp("dependsOn:: *("+Xg.source+")")),idRegex:kn(new RegExp("id:: *("+Fs.source+")"))}},rd=class extends Ls{constructor(){super(iy)}parsePriority(t){return Mr.priorityValue(t)}componentToString(t,e,n){let i=super.componentToString(t,e,n),s=["blockLink","description"];return i!==""&&!s.includes(n)?`  [${i.trim()}]`:i}}});var en,ge,Sn=re(()=>{"use strict";Jr();en=class{get symbol(){return this.configuration.symbol}get name(){return this.configuration.name}get nextStatusSymbol(){return this.configuration.nextStatusSymbol}get nextSymbol(){return this.configuration.nextStatusSymbol}get availableAsCommand(){return this.configuration.availableAsCommand}get type(){return this.configuration.type}get typeGroupText(){let t=this.type,e;switch(t){case"IN_PROGRESS":e="1";break;case"TODO":e="2";break;case"DONE":e="3";break;case"CANCELLED":e="4";break;case"NON_TASK":e="5";break;case"EMPTY":e="6";break}return`%%${e}%%${t}`}constructor(t){this.configuration=t}static getTypeForUnknownSymbol(t){switch(t){case"x":case"X":return"DONE";case"/":return"IN_PROGRESS";case"-":return"CANCELLED";case"":return"EMPTY";case" ":default:return"TODO"}}static getTypeFromStatusTypeString(t){return tr[t]||"TODO"}static createUnknownStatus(t){return new en(new gt(t,"Unknown","x",!1,"TODO"))}static createFromImportedValue(t){let e=t[0],n=en.getTypeFromStatusTypeString(t[3]);return new en(new gt(e,t[1],t[2],!1,n))}isCompleted(){return this.type==="DONE"}isCancelled(){return this.type==="CANCELLED"}identicalTo(t){let e=["symbol","name","nextStatusSymbol","availableAsCommand","type"];for(let n of e)if(this[n]!==t[n])return!1;return!0}previewText(){let t="";return en.tasksPluginCanCreateCommandsForStatuses()&&this.availableAsCommand&&(t=" Available as a command."),`- [${this.symbol}] => [${this.nextStatusSymbol}], name: '${this.name}', type: '${this.configuration.type}'.${t}`}static tasksPluginCanCreateCommandsForStatuses(){return!1}},ge=en;ge.DONE=new en(new gt("x","Done"," ",!0,"DONE")),ge.EMPTY=new en(new gt("","EMPTY","",!0,"EMPTY")),ge.TODO=new en(new gt(" ","Todo","x",!0,"TODO")),ge.CANCELLED=new en(new gt("-","Cancelled"," ",!0,"CANCELLED")),ge.IN_PROGRESS=new en(new gt("/","In Progress","x",!0,"IN_PROGRESS")),ge.NON_TASK=new en(new gt("Q","Non-Task","A",!0,"NON_TASK"))});var CS=re(()=>{"use strict";ru()});var nd,MS=re(()=>{"use strict";nd=class{constructor(t=!1,e=!1,n=!1){this.ignoreSortInstructions=t,this.showTaskHiddenData=e,this.recordTimings=n}}});var et,Ga=re(()=>{"use strict";Sn();et=class{constructor(){this.coreStatuses=[ge.TODO.configuration,ge.DONE.configuration],this.customStatuses=[ge.IN_PROGRESS.configuration,ge.CANCELLED.configuration]}static addStatus(t,e){t.push(e)}static replaceStatus(t,e,n){let i=this.findStatusIndex(e,t);return i<=-1?!1:(t.splice(i,1,n),!0)}static findStatusIndex(t,e){let n=new ge(t);return e.findIndex(i=>new ge(i).previewText()==n.previewText())}static deleteStatus(t,e){let n=this.findStatusIndex(e,t);return n<=-1?!1:(t.splice(n,1),!0)}static deleteAllCustomStatuses(t){t.customStatuses.splice(0)}static resetAllCustomStatuses(t){et.deleteAllCustomStatuses(t),new et().customStatuses.forEach(n=>{et.addStatus(t.customStatuses,n)})}static bulkAddStatusCollection(t,e){let n=[];return e.forEach(i=>{t.customStatuses.find(a=>a.symbol==i[0]&&a.name==i[1]&&a.nextStatusSymbol==i[2])?n.push(`The status ${i[1]} (${i[0]}) is already added.`):et.addStatus(t.customStatuses,ge.createFromImportedValue(i))}),n}static allStatuses(t){return t.coreStatuses.concat(t.customStatuses)}static applyToStatusRegistry(t,e){e.clearStatuses(),et.allStatuses(t).forEach(n=>{e.add(n)})}}});var AS,RS=re(()=>{AS=[{index:9999,internalName:"INTERNAL_TESTING_ENABLED_BY_DEFAULT",displayName:"Test Item. Used to validate the Feature Framework.",description:"Description",enabledByDefault:!0,stable:!1}]});var _i,PS=re(()=>{"use strict";RS();_i=class{constructor(t,e,n,i,s,a){this.internalName=t;this.index=e;this.description=n;this.displayName=i;this.enabledByDefault=s;this.stable=a}static get values(){let t=[];return AS.forEach(e=>{t=[...t,new _i(e.internalName,e.index,e.description,e.displayName,e.enabledByDefault,e.stable)]}),t}static get settingsFlags(){let t={};return _i.values.forEach(e=>{t[e.internalName]=e.enabledByDefault}),t}static fromString(t){for(let e of _i.values)if(t===e.internalName)return e;throw new RangeError(`Illegal argument passed to fromString(): ${t} does not correspond to any available Feature ${this.prototype.constructor.name}`)}}});function ay(r,t){for(let e in r)t[e]===void 0&&(t[e]=r[e])}function au(){return En[le().taskFormat]}var En,oy,vi,le,ft,Ws,NS,rr=re(()=>{"use strict";ny();ru();sy();Jr();Sn();CS();sy();gs();MS();Ga();PS();En={tasksPluginEmoji:{getDisplayName:()=>N.t("settings.format.displayName.tasksEmojiFormat"),taskSerializer:new Ls(tu),buildSuggestions:ey(tu,Jg,!1)},dataview:{getDisplayName:()=>N.t("settings.format.displayName.dataview"),taskSerializer:new rd,buildSuggestions:xS(ey(iy,Jg,!0),[["(",")"],["[","]"]])}},oy={globalQuery:"",globalFilter:"",removeGlobalFilter:!1,taskFormat:"tasksPluginEmoji",setCreatedDate:!1,setDoneDate:!0,setCancelledDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:20,provideAccessKeys:!0,useFilenameAsScheduledDate:!1,filenameAsScheduledDateFormat:"",filenameAsDateFolders:[],recurrenceOnNextLine:!1,statusSettings:new et,features:_i.settingsFlags,generalSettings:{},headingOpened:{},debugSettings:new nd,loggingOptions:{minLevels:{"":"info",tasks:"info","tasks.Cache":"info","tasks.Events":"info","tasks.File":"info","tasks.Query":"info","tasks.Task":"info"}}},vi=U({},oy);le=()=>(ay(_i.settingsFlags,vi.features),ay(oy.loggingOptions.minLevels,vi.loggingOptions.minLevels),ay(oy.debugSettings,vi.debugSettings),vi.statusSettings.customStatuses.forEach((r,t,e)=>{var i,s;let n=ge.getTypeFromStatusTypeString(r.type);e[t]=new gt((i=r.symbol)!=null?i:" ",r.name,(s=r.nextStatusSymbol)!=null?s:"x",r.availableAsCommand,n)}),U({},vi)),ft=r=>(vi=U(U({},vi),r),le()),Ws=(r,t)=>(vi.generalSettings[r]=t,le()),NS=r=>{var t;return(t=vi.features[r])!=null?t:!1}});function id(r){let e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[r];return e!==void 0?e:r}function IS(r){let t=[...r],e="";return t.forEach(n=>{e+=id(n)}),e}var FS=re(()=>{"use strict"});var Be,wi=re(()=>{"use strict";FS();Sn();Jr();Be=class{constructor(){this._registeredStatuses=[];this.addDefaultStatusTypes()}set(t){this.clearStatuses(),t.forEach(e=>{this.add(e)})}get registeredStatuses(){return this._registeredStatuses.filter(({symbol:t})=>t!==ge.EMPTY.symbol)}static getInstance(){return Be.instance||(Be.instance=new Be),Be.instance}add(t){this.hasSymbol(t.symbol)||(t instanceof ge?this._registeredStatuses.push(t):this._registeredStatuses.push(new ge(t)))}bySymbol(t){return this.hasSymbol(t)?this.getSymbol(t):ge.EMPTY}bySymbolOrCreate(t){return this.hasSymbol(t)?this.getSymbol(t):ge.createUnknownStatus(t)}byName(t){return this._registeredStatuses.filter(({name:e})=>e===t).length>0?this._registeredStatuses.filter(({name:e})=>e===t)[0]:ge.EMPTY}resetToDefaultStatuses(){this.clearStatuses(),this.addDefaultStatusTypes()}clearStatuses(){this._registeredStatuses=[]}getNextStatus(t){if(t.nextStatusSymbol!==""){let e=this.bySymbol(t.nextStatusSymbol);if(e!==null)return e}return ge.EMPTY}getNextStatusOrCreate(t){let e=this.getNextStatus(t);return e.type!=="EMPTY"?e:ge.createUnknownStatus(t.nextStatusSymbol)}getNextRecurrenceStatusOrCreate(t){let e=this.getNextStatusOrCreate(t),n=this.getNextRecurrenceStatusOfType(e,"TODO");if(n)return n;let i=this.getNextRecurrenceStatusOfType(e,"IN_PROGRESS");return i||this.bySymbolOrCreate(" ")}getNextRecurrenceStatusOfType(t,e){if(t.type===e)return t;let n=t;for(let i=0;i<this.registeredStatuses.length-1;i++)if(n=this.getNextStatusOrCreate(n),n.type===e)return n}findUnknownStatuses(t){let e=t.filter(s=>!this.hasSymbol(s.symbol)),n=new Be,i=[];return e.forEach(s=>{if(n.hasSymbol(s.symbol))return;let a=Be.copyStatusWithNewName(s,`Unknown (${s.symbol})`);i.push(a),n.add(a)}),i.sort((s,a)=>s.symbol.localeCompare(a.symbol,void 0,{numeric:!0}))}static copyStatusWithNewName(t,e){let n=new gt(t.symbol,e,t.nextStatusSymbol,t.availableAsCommand,t.type);return new ge(n)}getSymbol(t){return this._registeredStatuses.filter(({symbol:e})=>e===t)[0]}hasSymbol(t){return this._registeredStatuses.find(e=>e.symbol===t)!==void 0}addDefaultStatusTypes(){[ge.TODO,ge.IN_PROGRESS,ge.DONE,ge.CANCELLED].forEach(e=>{this.add(e)})}mermaidDiagram(t=!1){let e=this.registeredStatuses,n="mermaid",i=[],s=[];return e.forEach((a,o)=>{let l=this.getMermaidNodeLabel(a,t);i.push(`${o+1}${l}`);let u=this.getNextStatus(a);if(this.addEdgeIfNotToInternal(e,u,s,o,!1),a.type==="DONE"){let c=this.getNextRecurrenceStatusOrCreate(a);c.symbol!==u.symbol&&this.addEdgeIfNotToInternal(e,c,s,o,!0)}}),`
\`\`\`${n}
flowchart LR

classDef TODO        stroke:#f33,stroke-width:3px;
classDef DONE        stroke:#0c0,stroke-width:3px;
classDef IN_PROGRESS stroke:#fa0,stroke-width:3px;
classDef CANCELLED   stroke:#ddd,stroke-width:3px;
classDef NON_TASK    stroke:#99e,stroke-width:3px;

${i.join(`
`)}
${s.join(`
`)}

linkStyle default stroke:gray
\`\`\`
`}addEdgeIfNotToInternal(t,e,n,i,s){let a=t.findIndex(u=>u.symbol===e.symbol),o=a!==-1,l=e.type!=="EMPTY";if(o&&l){let u;s?u='-. "\u{1F501}" .-> ':u=" --> ";let c=`${i+1}${u}${a+1}`;n.push(c)}}getMermaidNodeLabel(t,e){let n=IS(t.name),i=t.type;if(e){let s=id(t.symbol),a=id(t.nextStatusSymbol),o=`[${s}] -> [${a}]`,l=`'${n}'`,u=`(${i})`;return`["${l}<br>${o}<br>${u}"]:::${i}`}else return`["${n}"]:::${i}`}}});var Vn,LS=re(()=>{"use strict";Vn=class{constructor(t,e){this.name=t,this.sortOrder=e}get groupText(){return this.name!==""?`%%${this.sortOrder}%% ${this.name}`:""}}});var US,It,sd=re(()=>{"use strict";US=require("obsidian");LS();ii();It=class{constructor(t){this._date=null;this._date=t}get moment(){return this._date}formatAsDate(t=""){return this.format(ce.dateFormat,t)}formatAsDateAndTime(t=""){return this.format(ce.dateTimeFormat,t)}format(t,e=""){return this._date?this._date.format(t):e}toISOString(t){return this._date?this._date.toISOString(t):""}get category(){let t=window.moment(),e=this.moment;return e?e.isBefore(t,"day")?new Vn("Overdue",1):e.isSame(t,"day")?new Vn("Today",2):e.isValid()?new Vn("Future",3):new Vn("Invalid date",0):new Vn("Undated",4)}get fromNow(){let t=this.moment;if(!t)return new Vn("",0);let e=this.fromNowOrder(t);return new Vn(t.fromNow(),e)}fromNowOrder(t){if(!t.isValid())return 0;let e=window.moment(),n=t.isSameOrBefore(e,"day"),i=this.fromNowStartDateOfGroup(t,n,e);return Number((n?1:3)+i.format("YYYYMMDD"))}fromNowStartDateOfGroup(t,e,n){let i=t.fromNow(!0).split(" "),s,a=Number(i[0]);isNaN(a)?s=1:s=a;let o=i[1];return e?n.subtract(s,o):n.add(s,o)}postpone(t="days",e=1){if(!this._date)throw new US.Notice("Cannot postpone a null date");let n=window.moment().startOf("day");return this._date.isSameOrAfter(n,"day")?this._date.clone().add(e,t):n.add(e,t)}}});var $S=x((jS,WS)=>{(function(r){var t=Object.hasOwnProperty,e=Array.isArray?Array.isArray:function(y){return Object.prototype.toString.call(y)==="[object Array]"},n=10,i=typeof process=="object"&&typeof process.nextTick=="function",s=typeof Symbol=="function",a=typeof Reflect=="object",o=typeof setImmediate=="function",l=o?setImmediate:setTimeout,u=s?a&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(m){var y=Object.getOwnPropertyNames(m);return y.push.apply(y,Object.getOwnPropertySymbols(m)),y}:Object.keys;function c(){this._events={},this._conf&&d.call(this,this._conf)}function d(m){m&&(this._conf=m,m.delimiter&&(this.delimiter=m.delimiter),m.maxListeners!==r&&(this._maxListeners=m.maxListeners),m.wildcard&&(this.wildcard=m.wildcard),m.newListener&&(this._newListener=m.newListener),m.removeListener&&(this._removeListener=m.removeListener),m.verboseMemoryLeak&&(this.verboseMemoryLeak=m.verboseMemoryLeak),m.ignoreErrors&&(this.ignoreErrors=m.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(m,y){var v="(node) warning: possible EventEmitter memory leak detected. "+m+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(v+=" Event name: "+y+"."),typeof process!="undefined"&&process.emitWarning){var w=new Error(v);w.name="MaxListenersExceededWarning",w.emitter=this,w.count=m,process.emitWarning(w)}else console.error(v),console.trace&&console.trace()}var p=function(m,y,v){var w=arguments.length;switch(w){case 0:return[];case 1:return[m];case 2:return[m,y];case 3:return[m,y,v];default:for(var S=new Array(w);w--;)S[w]=arguments[w];return S}};function b(m,y){for(var v={},w,S=m.length,M=y?y.length:0,I=0;I<S;I++)w=m[I],v[w]=I<M?y[I]:r;return v}function T(m,y,v){this._emitter=m,this._target=y,this._listeners={},this._listenersCount=0;var w,S;if((v.on||v.off)&&(w=v.on,S=v.off),y.addEventListener?(w=y.addEventListener,S=y.removeEventListener):y.addListener?(w=y.addListener,S=y.removeListener):y.on&&(w=y.on,S=y.off),!w&&!S)throw Error("target does not implement any known event API");if(typeof w!="function")throw TypeError("on method must be a function");if(typeof S!="function")throw TypeError("off method must be a function");this._on=w,this._off=S;var M=m._observers;M?M.push(this):m._observers=[this]}Object.assign(T.prototype,{subscribe:function(m,y,v){var w=this,S=this._target,M=this._emitter,I=this._listeners,W=function(){var E=p.apply(null,arguments),P={data:E,name:y,original:m};if(v){var $=v.call(S,P);$!==!1&&M.emit.apply(M,[P.name].concat(E));return}M.emit.apply(M,[y].concat(E))};if(I[m])throw Error("Event '"+m+"' is already listening");this._listenersCount++,M._newListener&&M._removeListener&&!w._onNewListener?(this._onNewListener=function(E){E===y&&I[m]===null&&(I[m]=W,w._on.call(S,m,W))},M.on("newListener",this._onNewListener),this._onRemoveListener=function(E){E===y&&!M.hasListeners(E)&&I[m]&&(I[m]=null,w._off.call(S,m,W))},I[m]=null,M.on("removeListener",this._onRemoveListener)):(I[m]=W,w._on.call(S,m,W))},unsubscribe:function(m){var y=this,v=this._listeners,w=this._emitter,S,M,I=this._off,W=this._target,E;if(m&&typeof m!="string")throw TypeError("event must be a string");function P(){y._onNewListener&&(w.off("newListener",y._onNewListener),w.off("removeListener",y._onRemoveListener),y._onNewListener=null,y._onRemoveListener=null);var $=se.call(w,y);w._observers.splice($,1)}if(m){if(S=v[m],!S)return;I.call(W,m,S),delete v[m],--this._listenersCount||P()}else{for(M=u(v),E=M.length;E-- >0;)m=M[E],I.call(W,m,v[m]);this._listeners={},this._listenersCount=0,P()}}});function _(m,y,v,w){var S=Object.assign({},y);if(!m)return S;if(typeof m!="object")throw TypeError("options must be an object");var M=Object.keys(m),I=M.length,W,E,P;function $(be){throw Error('Invalid "'+W+'" option value'+(be?". Reason: "+be:""))}for(var de=0;de<I;de++){if(W=M[de],!w&&!t.call(y,W))throw Error('Unknown "'+W+'" option');E=m[W],E!==r&&(P=v[W],S[W]=P?P(E,$):E)}return S}function O(m,y){return(typeof m!="function"||!m.hasOwnProperty("prototype"))&&y("value must be a constructor"),m}function D(m){var y="value must be type of "+m.join("|"),v=m.length,w=m[0],S=m[1];return v===1?function(M,I){if(typeof M===w)return M;I(y)}:v===2?function(M,I){var W=typeof M;if(W===w||W===S)return M;I(y)}:function(M,I){for(var W=typeof M,E=v;E-- >0;)if(W===m[E])return M;I(y)}}var A=D(["function"]),j=D(["object","function"]);function Y(m,y,v){var w,S,M=0,I,W=new m(function(E,P,$){v=_(v,{timeout:0,overload:!1},{timeout:function(He,Le){return He*=1,(typeof He!="number"||He<0||!Number.isFinite(He))&&Le("timeout must be a positive number"),He}}),w=!v.overload&&typeof m.prototype.cancel=="function"&&typeof $=="function";function de(){S&&(S=null),M&&(clearTimeout(M),M=0)}var be=function(He){de(),E(He)},xe=function(He){de(),P(He)};w?y(be,xe,$):(S=[function(He){xe(He||Error("canceled"))}],y(be,xe,function(He){if(I)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof He!="function")throw TypeError("onCancel callback must be a function");S.push(He)}),I=!0),v.timeout>0&&(M=setTimeout(function(){var He=Error("timeout");He.code="ETIMEDOUT",M=0,W.cancel(He),P(He)},v.timeout))});return w||(W.cancel=function(E){if(!!S){for(var P=S.length,$=1;$<P;$++)S[$](E);S[0](E),S=null}}),W}function se(m){var y=this._observers;if(!y)return-1;for(var v=y.length,w=0;w<v;w++)if(y[w]._target===m)return w;return-1}function H(m,y,v,w,S){if(!v)return null;if(w===0){var M=typeof y;if(M==="string"){var I,W,E=0,P=0,$=this.delimiter,de=$.length;if((W=y.indexOf($))!==-1){I=new Array(5);do I[E++]=y.slice(P,W),P=W+de;while((W=y.indexOf($,P))!==-1);I[E++]=y.slice(P),y=I,S=E}else y=[y],S=1}else M==="object"?S=y.length:(y=[y],S=1)}var be=null,xe,He,Le,jt,fn,vr=y[w],ee=y[w+1],Wt,it;if(w===S)v._listeners&&(typeof v._listeners=="function"?(m&&m.push(v._listeners),be=[v]):(m&&m.push.apply(m,v._listeners),be=[v]));else if(vr==="*"){for(Wt=u(v),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(it=H(m,y,v[xe],w+1,S),it&&(be?be.push.apply(be,it):be=it));return be}else if(vr==="**"){for(fn=w+1===S||w+2===S&&ee==="*",fn&&v._listeners&&(be=H(m,y,v,S,S)),Wt=u(v),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(xe==="*"||xe==="**"?(v[xe]._listeners&&!fn&&(it=H(m,y,v[xe],S,S),it&&(be?be.push.apply(be,it):be=it)),it=H(m,y,v[xe],w,S)):xe===ee?it=H(m,y,v[xe],w+2,S):it=H(m,y,v[xe],w,S),it&&(be?be.push.apply(be,it):be=it));return be}else v[vr]&&(be=H(m,y,v[vr],w+1,S));if(He=v["*"],He&&H(m,y,He,w+1,S),Le=v["**"],Le)if(w<S)for(Le._listeners&&H(m,y,Le,S,S),Wt=u(Le),W=Wt.length;W-- >0;)xe=Wt[W],xe!=="_listeners"&&(xe===ee?H(m,y,Le[xe],w+2,S):xe===vr?H(m,y,Le[xe],w+1,S):(jt={},jt[xe]=Le[xe],H(m,y,{"**":jt},w+1,S)));else Le._listeners?H(m,y,Le,S,S):Le["*"]&&Le["*"]._listeners&&H(m,y,Le["*"],S,S);return be}function Z(m,y,v){var w=0,S=0,M,I=this.delimiter,W=I.length,E;if(typeof m=="string")if((M=m.indexOf(I))!==-1){E=new Array(5);do E[w++]=m.slice(S,M),S=M+W;while((M=m.indexOf(I,S))!==-1);E[w++]=m.slice(S)}else E=[m],w=1;else E=m,w=m.length;if(w>1){for(M=0;M+1<w;M++)if(E[M]==="**"&&E[M+1]==="**")return}var P=this.listenerTree,$;for(M=0;M<w;M++)if($=E[M],P=P[$]||(P[$]={}),M===w-1)return P._listeners?(typeof P._listeners=="function"&&(P._listeners=[P._listeners]),v?P._listeners.unshift(y):P._listeners.push(y),!P._listeners.warned&&this._maxListeners>0&&P._listeners.length>this._maxListeners&&(P._listeners.warned=!0,f.call(this,P._listeners.length,$))):P._listeners=y,!0;return!0}function ye(m,y,v,w){for(var S=u(m),M=S.length,I,W,E,P=m._listeners,$;M-- >0;)W=S[M],I=m[W],W==="_listeners"?E=v:E=v?v.concat(W):[W],$=w||typeof W=="symbol",P&&y.push($?E:E.join(this.delimiter)),typeof I=="object"&&ye.call(this,I,y,E,$);return y}function we(m){for(var y=u(m),v=y.length,w,S,M;v-- >0;)S=y[v],w=m[S],w&&(M=!0,S!=="_listeners"&&!we(w)&&delete m[S]);return M}function V(m,y,v){this.emitter=m,this.event=y,this.listener=v}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function K(m,y,v){if(v===!0)S=!0;else if(v===!1)w=!0;else{if(!v||typeof v!="object")throw TypeError("options should be an object or true");var w=v.async,S=v.promisify,M=v.nextTick,I=v.objectify}if(w||M||S){var W=y,E=y._origin||y;if(M&&!i)throw Error("process.nextTick is not supported");S===r&&(S=y.constructor.name==="AsyncFunction"),y=function(){var P=arguments,$=this,de=this.event;return S?M?Promise.resolve():new Promise(function(be){l(be)}).then(function(){return $.event=de,W.apply($,P)}):(M?process.nextTick:l)(function(){$.event=de,W.apply($,P)})},y._async=!0,y._origin=E}return[y,I?new V(this,m,y):this]}function C(m){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,m)}C.EventEmitter2=C,C.prototype.listenTo=function(m,y,v){if(typeof m!="object")throw TypeError("target musts be an object");var w=this;v=_(v,{on:r,off:r,reducers:r},{on:A,off:A,reducers:j});function S(M){if(typeof M!="object")throw TypeError("events must be an object");var I=v.reducers,W=se.call(w,m),E;W===-1?E=new T(w,m,v):E=w._observers[W];for(var P=u(M),$=P.length,de,be=typeof I=="function",xe=0;xe<$;xe++)de=P[xe],E.subscribe(de,M[de]||de,be?I:I&&I[de])}return e(y)?S(b(y)):S(typeof y=="string"?b(y.split(/\s+/)):y),this},C.prototype.stopListeningTo=function(m,y){var v=this._observers;if(!v)return!1;var w=v.length,S,M=!1;if(m&&typeof m!="object")throw TypeError("target should be an object");for(;w-- >0;)S=v[w],(!m||S._target===m)&&(S.unsubscribe(y),M=!0);return M},C.prototype.delimiter=".",C.prototype.setMaxListeners=function(m){m!==r&&(this._maxListeners=m,this._conf||(this._conf={}),this._conf.maxListeners=m)},C.prototype.getMaxListeners=function(){return this._maxListeners},C.prototype.event="",C.prototype.once=function(m,y,v){return this._once(m,y,!1,v)},C.prototype.prependOnceListener=function(m,y,v){return this._once(m,y,!0,v)},C.prototype._once=function(m,y,v,w){return this._many(m,1,y,v,w)},C.prototype.many=function(m,y,v,w){return this._many(m,y,v,!1,w)},C.prototype.prependMany=function(m,y,v,w){return this._many(m,y,v,!0,w)},C.prototype._many=function(m,y,v,w,S){var M=this;if(typeof v!="function")throw new Error("many only accepts instances of Function");function I(){return--y===0&&M.off(m,I),v.apply(this,arguments)}return I._origin=v,this._on(m,I,w,S)},C.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var m=arguments[0],y,v=this.wildcard,w,S,M,I,W;if(m==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(v&&(y=m,m!=="newListener"&&m!=="removeListener"&&typeof m=="object")){if(S=m.length,s){for(M=0;M<S;M++)if(typeof m[M]=="symbol"){W=!0;break}}W||(m=m.join(this.delimiter))}var E=arguments.length,P;if(this._all&&this._all.length)for(P=this._all.slice(),M=0,S=P.length;M<S;M++)switch(this.event=m,E){case 1:P[M].call(this,m);break;case 2:P[M].call(this,m,arguments[1]);break;case 3:P[M].call(this,m,arguments[1],arguments[2]);break;default:P[M].apply(this,arguments)}if(v)P=[],H.call(this,P,y,this.listenerTree,0,S);else if(P=this._events[m],typeof P=="function"){switch(this.event=m,E){case 1:P.call(this);break;case 2:P.call(this,arguments[1]);break;case 3:P.call(this,arguments[1],arguments[2]);break;default:for(w=new Array(E-1),I=1;I<E;I++)w[I-1]=arguments[I];P.apply(this,w)}return!0}else P&&(P=P.slice());if(P&&P.length){if(E>3)for(w=new Array(E-1),I=1;I<E;I++)w[I-1]=arguments[I];for(M=0,S=P.length;M<S;M++)switch(this.event=m,E){case 1:P[M].call(this);break;case 2:P[M].call(this,arguments[1]);break;case 3:P[M].call(this,arguments[1],arguments[2]);break;default:P[M].apply(this,w)}return!0}else if(!this.ignoreErrors&&!this._all&&m==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},C.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||c.call(this);var m=arguments[0],y=this.wildcard,v,w,S,M,I,W;if(m==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(y&&(v=m,m!=="newListener"&&m!=="removeListener"&&typeof m=="object")){if(M=m.length,s){for(I=0;I<M;I++)if(typeof m[I]=="symbol"){w=!0;break}}w||(m=m.join(this.delimiter))}var E=[],P=arguments.length,$;if(this._all)for(I=0,M=this._all.length;I<M;I++)switch(this.event=m,P){case 1:E.push(this._all[I].call(this,m));break;case 2:E.push(this._all[I].call(this,m,arguments[1]));break;case 3:E.push(this._all[I].call(this,m,arguments[1],arguments[2]));break;default:E.push(this._all[I].apply(this,arguments))}if(y?($=[],H.call(this,$,v,this.listenerTree,0)):$=this._events[m],typeof $=="function")switch(this.event=m,P){case 1:E.push($.call(this));break;case 2:E.push($.call(this,arguments[1]));break;case 3:E.push($.call(this,arguments[1],arguments[2]));break;default:for(S=new Array(P-1),W=1;W<P;W++)S[W-1]=arguments[W];E.push($.apply(this,S))}else if($&&$.length){if($=$.slice(),P>3)for(S=new Array(P-1),W=1;W<P;W++)S[W-1]=arguments[W];for(I=0,M=$.length;I<M;I++)switch(this.event=m,P){case 1:E.push($[I].call(this));break;case 2:E.push($[I].call(this,arguments[1]));break;case 3:E.push($[I].call(this,arguments[1],arguments[2]));break;default:E.push($[I].apply(this,S))}}else if(!this.ignoreErrors&&!this._all&&m==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(E)},C.prototype.on=function(m,y,v){return this._on(m,y,!1,v)},C.prototype.prependListener=function(m,y,v){return this._on(m,y,!0,v)},C.prototype.onAny=function(m){return this._onAny(m,!1)},C.prototype.prependAny=function(m){return this._onAny(m,!0)},C.prototype.addListener=C.prototype.on,C.prototype._onAny=function(m,y){if(typeof m!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),y?this._all.unshift(m):this._all.push(m),this},C.prototype._on=function(m,y,v,w){if(typeof m=="function")return this._onAny(m,y),this;if(typeof y!="function")throw new Error("on only accepts instances of Function");this._events||c.call(this);var S=this,M;return w!==r&&(M=K.call(this,m,y,w),y=M[0],S=M[1]),this._newListener&&this.emit("newListener",m,y),this.wildcard?(Z.call(this,m,y,v),S):(this._events[m]?(typeof this._events[m]=="function"&&(this._events[m]=[this._events[m]]),v?this._events[m].unshift(y):this._events[m].push(y),!this._events[m].warned&&this._maxListeners>0&&this._events[m].length>this._maxListeners&&(this._events[m].warned=!0,f.call(this,this._events[m].length,m))):this._events[m]=y,S)},C.prototype.off=function(m,y){if(typeof y!="function")throw new Error("removeListener only takes instances of Function");var v,w=[];if(this.wildcard){var S=typeof m=="string"?m.split(this.delimiter):m.slice();if(w=H.call(this,null,S,this.listenerTree,0),!w)return this}else{if(!this._events[m])return this;v=this._events[m],w.push({_listeners:v})}for(var M=0;M<w.length;M++){var I=w[M];if(v=I._listeners,e(v)){for(var W=-1,E=0,P=v.length;E<P;E++)if(v[E]===y||v[E].listener&&v[E].listener===y||v[E]._origin&&v[E]._origin===y){W=E;break}if(W<0)continue;return this.wildcard?I._listeners.splice(W,1):this._events[m].splice(W,1),v.length===0&&(this.wildcard?delete I._listeners:delete this._events[m]),this._removeListener&&this.emit("removeListener",m,y),this}else(v===y||v.listener&&v.listener===y||v._origin&&v._origin===y)&&(this.wildcard?delete I._listeners:delete this._events[m],this._removeListener&&this.emit("removeListener",m,y))}return this.listenerTree&&we(this.listenerTree),this},C.prototype.offAny=function(m){var y=0,v=0,w;if(m&&this._all&&this._all.length>0){for(w=this._all,y=0,v=w.length;y<v;y++)if(m===w[y])return w.splice(y,1),this._removeListener&&this.emit("removeListenerAny",m),this}else{if(w=this._all,this._removeListener)for(y=0,v=w.length;y<v;y++)this.emit("removeListenerAny",w[y]);this._all=[]}return this},C.prototype.removeListener=C.prototype.off,C.prototype.removeAllListeners=function(m){if(m===r)return!this._events||c.call(this),this;if(this.wildcard){var y=H.call(this,null,m,this.listenerTree,0),v,w;if(!y)return this;for(w=0;w<y.length;w++)v=y[w],v._listeners=null;this.listenerTree&&we(this.listenerTree)}else this._events&&(this._events[m]=null);return this},C.prototype.listeners=function(m){var y=this._events,v,w,S,M,I;if(m===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!y)return[];for(v=u(y),M=v.length,S=[];M-- >0;)w=y[v[M]],typeof w=="function"?S.push(w):S.push.apply(S,w);return S}else{if(this.wildcard){if(I=this.listenerTree,!I)return[];var W=[],E=typeof m=="string"?m.split(this.delimiter):m.slice();return H.call(this,W,E,I,0),W}return y?(w=y[m],w?typeof w=="function"?[w]:w:[]):[]}},C.prototype.eventNames=function(m){var y=this._events;return this.wildcard?ye.call(this,this.listenerTree,[],null,m):y?u(y):[]},C.prototype.listenerCount=function(m){return this.listeners(m).length},C.prototype.hasListeners=function(m){if(this.wildcard){var y=[],v=typeof m=="string"?m.split(this.delimiter):m.slice();return H.call(this,y,v,this.listenerTree,0),y.length>0}var w=this._events,S=this._all;return!!(S&&S.length||w&&(m===r?u(w).length:w[m]))},C.prototype.listenersAny=function(){return this._all?this._all:[]},C.prototype.waitFor=function(m,y){var v=this,w=typeof y;return w==="number"?y={timeout:y}:w==="function"&&(y={filter:y}),y=_(y,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:A,Promise:O}),Y(y.Promise,function(S,M,I){function W(){var E=y.filter;if(!(E&&!E.apply(v,arguments)))if(v.off(m,W),y.handleError){var P=arguments[0];P?M(P):S(p.apply(null,arguments).slice(1))}else S(p.apply(null,arguments))}I(function(){v.off(m,W)}),v._on(m,W,!1)},{timeout:y.timeout,overload:y.overload})};function J(m,y,v){v=_(v,{Promise,timeout:0,overload:!1},{Promise:O});var w=v.Promise;return Y(w,function(S,M,I){var W;if(typeof m.addEventListener=="function"){W=function(){S(p.apply(null,arguments))},I(function(){m.removeEventListener(y,W)}),m.addEventListener(y,W,{once:!0});return}var E=function(){P&&m.removeListener("error",P),S(p.apply(null,arguments))},P;y!=="error"&&(P=function($){m.removeListener(y,E),M($)},m.once("error",P)),I(function(){P&&m.removeListener("error",P),m.removeListener(y,E)}),m.once(y,E)},{timeout:v.timeout,overload:v.overload})}var q=C.prototype;if(Object.defineProperties(C,{defaultMaxListeners:{get:function(){return q._maxListeners},set:function(m){if(typeof m!="number"||m<0||Number.isNaN(m))throw TypeError("n must be a non-negative number");q._maxListeners=m},enumerable:!0},once:{value:J,writable:!0,configurable:!0}}),Object.defineProperties(q,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return C});else if(typeof jS=="object")WS.exports=C;else{var oe=new Function("","return this")();oe.EventEmitter2=C}})()});function cy(r,t){let e=nr.getLogger("tasks");switch(r){case"trace":e.trace(t);break;case"debug":e.debug(t);break;case"info":e.info(t);break;case"warn":e.warn(t);break;case"error":e.error(t);break;default:break}}var f2,qS,ly,nr,uy,$s=re(()=>{"use strict";f2=require("obsidian"),qS=Yo($S()),ly=class extends qS.EventEmitter2{constructor(){super(...arguments);this.options={minLevels:{"":"info",tasks:"info"}};this.consoleLoggerRegistered=!1;this.arrAvg=e=>e.reduce((n,i)=>n+i,0)/e.length}configure(e){return this.options=Object.assign({},this.options,e),this}getLogger(e){let n="none",i="";for(let s in this.options.minLevels)e.startsWith(s)&&s.length>=i.length&&(n=this.options.minLevels[s],i=s);return new uy(this,e,n)}onLogEntry(e){return this.on("log",e),this}registerConsoleLogger(){return this.consoleLoggerRegistered?this:(this.onLogEntry(e=>{let n=`[${window.moment().format("YYYY-MM-DD-HH:mm:ss.SSS")}][${e.level}][${e.module}]`;switch(e.traceId&&(n+=`[${e.traceId}]`),n+=` ${e.message}`,e.objects===void 0&&(e.objects=""),e.level){case"trace":console.trace(n,e.objects);break;case"debug":console.debug(n,e.objects);break;case"info":console.info(n,e.objects);break;case"warn":console.warn(n,e.objects);break;case"error":console.error(n,e.objects);break;default:console.log(`{${e.level}} ${n}`,e.objects)}}),this.consoleLoggerRegistered=!0,this)}},nr=new ly,uy=class{constructor(t,e,n){this.levels={trace:1,debug:2,info:3,warn:4,error:5};this.logManager=t,this.module=e,this.minLevel=this.levelToInt(n)}levelToInt(t){return t.toLowerCase()in this.levels?this.levels[t.toLowerCase()]:99}log(t,e,n){if(this.levelToInt(t)<this.minLevel)return;let s={level:t,module:this.module,message:e,objects:n,traceId:void 0};this.logManager.emit("log",s)}trace(t,e){this.log("trace",t,e)}debug(t,e){this.log("debug",t,e)}info(t,e){this.log("info",t,e)}warn(t,e){this.log("warn",t,e)}error(t,e){this.log("error",t,e)}logWithId(t,e,n,i){if(this.levelToInt(t)<this.minLevel)return;let a={level:t,module:this.module,message:n,objects:i,traceId:e};this.logManager.emit("log",a)}traceWithId(t,e,n){this.logWithId("trace",t,e,n)}debugWithId(t,e,n){this.logWithId("debug",t,e,n)}infoWithId(t,e,n){this.logWithId("info",t,e,n)}warnWithId(t,e,n){this.logWithId("warn",t,e,n)}errorWithId(t,e,n){this.logWithId("error",t,e,n)}}});function ad(r,t,e){r.debug(`${t}: task line number: ${e.taskLocation.lineNumber}. file path: "${e.path}"`),r.debug(`${t} original: ${e.originalMarkdown}`)}function od(r,t,e){e.map((n,i)=>{r.debug(`${t} ==> ${i+1}   : ${n.toFileLineString()}`)})}var dy=re(()=>{"use strict"});var Ft,Gi=re(()=>{"use strict";rr();Nt();Ft=class{static fromPath(t){let{useFilenameAsScheduledDate:e,filenameAsDateFolders:n}=le();return!e||!this.matchesAnyFolder(n,t)?null:this.extractDateFromPath(t)}static matchesAnyFolder(t,e){return t.length===0?!0:t.some(n=>e.startsWith(n+"/"))}static extractDateFromPath(t){let e=Math.max(0,t.lastIndexOf("/")+1),n=t.lastIndexOf("."),i=t.substring(e,n),{filenameAsScheduledDateFormat:s}=le();if(s!==""){let o=window.moment(i,s,!0);if(o.isValid())return o}let a=/(\d{4})-(\d{2})-(\d{2})/.exec(i);if(a||(a=/(\d{4})(\d{2})(\d{2})/.exec(i)),a){let o=window.moment([parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3])]);if(o.isValid())return o}return null}static canApplyFallback({startDate:t,scheduledDate:e,dueDate:n}){return t===null&&n===null&&e===null}static updateTaskPath(t,e,n){let i=t.scheduledDate,s=t.scheduledDateIsInferred;return n===null?s&&(s=!1,i=null):s?i=n:this.canApplyFallback(t)&&(i=n,s=!0),new fe(me(U({},t),{taskLocation:e,scheduledDate:i,scheduledDateIsInferred:s}))}static removeInferredStatusIfNeeded(t,e){let n=t.scheduledDateIsInferred?t.scheduledDate:null;return e.map(i=>(n!==null&&!n.isSame(i.scheduledDate,"day")&&(i=new fe(me(U({},i),{scheduledDateIsInferred:!1}))),i))}}});var Dn,ki,YS=re(()=>{"use strict";Dn=class{static calculate(t){var n,i,s;let e=0;if((n=t.dueDate)!=null&&n.isValid()){let a=window.moment().startOf("day"),o=Math.round(a.diff(t.dueDate)/Dn.milliSecondsPerDay),l;o>=7?l=1:o>=-14?l=(o+14)*.8/21+.2:l=.2,e+=l*Dn.dueCoefficient}switch((i=t.scheduledDate)!=null&&i.isValid()&&window.moment().isSameOrAfter(t.scheduledDate)&&(e+=1*Dn.scheduledCoefficient),(s=t.startDate)!=null&&s.isValid()&&window.moment().isBefore(t.startDate)&&(e+=1*Dn.startedCoefficient),t.priority){case"0":e+=1.5*Dn.priorityCoefficient;break;case"1":e+=1*Dn.priorityCoefficient;break;case"2":e+=.65*Dn.priorityCoefficient;break;case"3":e+=.325*Dn.priorityCoefficient;break;case"5":e-=.3*Dn.priorityCoefficient;break}return e}},ki=Dn;ki.dueCoefficient=12,ki.scheduledCoefficient=5,ki.startedCoefficient=-3,ki.priorityCoefficient=6,ki.milliSecondsPerDay=1e3*60*60*24});var HS={};wb(HS,{Task:()=>fe,isBlocked:()=>p2});function p2(r,t){if(r.dependsOn.length===0||r.isDone)return!1;for(let e of r.dependsOn)if(!!t.find(i=>i.id===e&&!i.isDone))return!0;return!1}var fe,Nt=re(()=>{"use strict";rr();Cr();wi();Cs();sd();Jr();su();$s();dy();Gi();ld();YS();ii();Kc();fe=class extends xn{constructor({status:e,description:n,taskLocation:i,indentation:s,listMarker:a,priority:o,createdDate:l,startDate:u,scheduledDate:c,dueDate:d,doneDate:f,cancelledDate:p,recurrence:b,onCompletion:T,dependsOn:_,id:O,blockLink:D,tags:A,originalMarkdown:j,scheduledDateIsInferred:Y,parent:se=null}){super(j,se,i);this._urgency=null;this.status=e,this.description=n,this.indentation=s,this.listMarker=a,this.tags=A,this.priority=o,this.createdDate=l,this.startDate=u,this.scheduledDate=c,this.dueDate=d,this.doneDate=f,this.cancelledDate=p,this.recurrence=b,this.onCompletion=T,this.dependsOn=_,this.id=O,this.blockLink=D,this.scheduledDateIsInferred=Y}static fromLine({line:e,taskLocation:n,fallbackDate:i}){let s=fe.extractTaskComponents(e);return s===null||!Fe.getInstance().includedIn(s.body)?null:fe.parseTaskSignifiers(e,n,i)}static parseTaskSignifiers(e,n,i){let s=fe.extractTaskComponents(e);if(s===null)return null;let{taskSerializer:a}=au(),o=a.deserialize(s.body),l=!1;return Ft.canApplyFallback(o)&&i!==null&&(o.scheduledDate=i,l=!0),o.tags=o.tags.map(u=>u.trim()),o.tags=o.tags.filter(u=>!Fe.getInstance().equals(u)),new fe(me(U(U({},s),o),{taskLocation:n,originalMarkdown:e,scheduledDateIsInferred:l}))}static extractTaskComponents(e){let n=e.match(ce.taskRegex);if(n===null)return null;let i=n[1],s=n[2],a=n[3],o=Be.getInstance().bySymbolOrCreate(a),l=n[4].trim(),u=l.match(ce.blockLinkRegex),c=u!==null?u[0]:"";return c!==""&&(l=l.replace(ce.blockLinkRegex,"").trim()),{indentation:i,listMarker:s,status:o,body:l,blockLink:c}}toString(){return au().taskSerializer.serialize(this)}toFileLineString(){return`${this.indentation}${this.listMarker} [${this.status.symbol}] ${this.toString()}`}toggle(){let e=nr.getLogger("tasks.Task"),n="toggle()";ad(e,n,this);let i=Be.getInstance().getNextStatusOrCreate(this.status),s=this.handleNewStatus(i);return od(e,n,s),s}handleNewStatus(e,n=window.moment()){if(e.identicalTo(this.status))return[this];let{setDoneDate:i}=le(),s=this.newDate(e,"DONE",this.doneDate,i,n),{setCancelledDate:a}=le(),o=this.newDate(e,"CANCELLED",this.cancelledDate,a,n),l=new fe(me(U({},this),{status:e,doneDate:s,cancelledDate:o})),u=!e.isCompleted(),c=this.status.isCompleted(),d=this.recurrence===null;if(u||c||d)return[l];let p=this.recurrence.next(n);return p===null?[l]:[this.createNextOccurrence(e,p),l]}newDate(e,n,i,s,a){let o=null;return e.type===n&&(this.status.type!==n?s&&(o=a):o=i),o}createNextOccurrence(e,n){let{setCreatedDate:i}=le(),s=null;i&&(s=window.moment());let a=null,o=null,u=Be.getInstance().getNextRecurrenceStatusOrCreate(e);return new fe(me(U(U({},this),n),{status:u,blockLink:"",id:"",dependsOn:[],createdDate:s,cancelledDate:a,doneDate:o}))}toggleWithRecurrenceInUsersOrder(){let e=this.toggle();return this.putRecurrenceInUsersOrder(e)}handleNewStatusWithRecurrenceInUsersOrder(e,n=window.moment()){nr.getLogger("tasks.Task").debug(`changed task ${this.taskLocation.path} ${this.taskLocation.lineNumber} ${this.originalMarkdown} status to '${e.symbol}'`);let s=this.handleNewStatus(e,n);return this.putRecurrenceInUsersOrder(s)}putRecurrenceInUsersOrder(e){let n=TS(this,e),{recurrenceOnNextLine:i}=le();return i?n.reverse():n}get isTask(){return!0}get isDone(){return this.status.type==="DONE"||this.status.type==="CANCELLED"||this.status.type==="NON_TASK"}isBlocked(e){if(this.dependsOn.length===0||this.isDone)return!1;for(let n of this.dependsOn)if(!!e.find(s=>s.id===n&&!s.isDone))return!0;return!1}isBlocking(e){return this.id===""||this.isDone?!1:e.some(n=>n.isDone?!1:n.dependsOn.includes(this.id))}get priorityNumber(){return Number.parseInt(this.priority)}get priorityNameGroupText(){let e=Mr.priorityNameUsingNormal(this.priority);return`%%${this.priority}%%${e} priority`}get descriptionWithoutTags(){return this.description.replace(ce.hashTags,"").trim()}get priorityName(){return Mr.priorityNameUsingNormal(this.priority)}get urgency(){return this._urgency===null&&(this._urgency=ki.calculate(this)),this._urgency}get cancelled(){return new It(this.cancelledDate)}get created(){return new It(this.createdDate)}get done(){return new It(this.doneDate)}get due(){return new It(this.dueDate)}get scheduled(){return new It(this.scheduledDate)}get start(){return new It(this.startDate)}get happensDates(){return Array.of(this.startDate,this.scheduledDate,this.dueDate)}get happens(){let e=this.happensDates,n=Array.from(e).sort(zr);for(let i of n)if(i!=null&&i.isValid())return new It(i);return new It(null)}get isRecurring(){return this.recurrence!==null}get recurrenceRule(){return this.recurrence?this.recurrence.toText():""}get heading(){return this.precedingHeader}get hasHeading(){return this.precedingHeader!==null}getLinkText({isFilenameUnique:e}){let n;return e?n=this.filename:n="/"+this.path,n===null?null:(this.precedingHeader!==null&&this.precedingHeader!==n&&(n=n+" > "+this.precedingHeader),n)}identicalTo(e){var i,s;if(!super.identicalTo(e))return!1;let n=["description","indentation","listMarker","priority","blockLink","scheduledDateIsInferred","id","dependsOn","onCompletion"];for(let a of n)if(((i=this[a])==null?void 0:i.toString())!==((s=e[a])==null?void 0:s.toString()))return!1;if(!this.status.identicalTo(e.status)||this.tags.length!==e.tags.length||!this.tags.every(function(a,o){return a===e.tags[o]}))return!1;n=fe.allDateFields();for(let a of n){let o=this[a],l=e[a];if(zr(o,l)!==0)return!1}return this.recurrenceIdenticalTo(e)?this.file.rawFrontmatterIdenticalTo(e.file):!1}recurrenceIdenticalTo(e){let n=this.recurrence,i=e.recurrence;return!(n===null&&i!==null||n!==null&&i===null||n&&i&&!n.identicalTo(i))}static allDateFields(){return["createdDate","startDate","scheduledDate","dueDate","doneDate","cancelledDate"]}static extractHashtags(e){var n,i;return(i=(n=e.match(ce.hashTags))==null?void 0:n.map(s=>s.trim()))!=null?i:[]}}});var xn,ld=re(()=>{"use strict";ii();xn=class{constructor(t,e,n){this.parent=null;this.children=[];this.indentation="";this.listMarker="";this.statusCharacter=null;var s;this.description=t.replace(ce.listItemRegex,"").trim();let i=RegExp(ce.nonTaskRegex).exec(t);i&&(this.indentation=i[1],this.listMarker=i[2],this.description=i[5].trim(),this.statusCharacter=(s=i[4])!=null?s:null),this.originalMarkdown=t,this.parent=e,e!==null&&e.children.push(this),this.taskLocation=n}get root(){return this.parent===null?this:this.parent.root}get isRoot(){return this.parent===null}findClosestParentTask(){let t=this.parent;for(;t!==null;){let{Task:e}=(Nt(),Sb(HS));if(t instanceof e)return t;t=t.parent}return null}get isTask(){return!1}identicalTo(t){var n,i;if(this.constructor.name!==t.constructor.name)return!1;let e=["originalMarkdown","description","statusCharacter","path","lineNumber","sectionStart","sectionIndex","precedingHeader"];for(let s of e)if(((n=this[s])==null?void 0:n.toString())!==((i=t[s])==null?void 0:i.toString()))return!1;return xn.listsAreIdentical(this.children,t.children)}static listsAreIdentical(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.identicalTo(e[i]))}get path(){return this.taskLocation.path}get file(){return this.taskLocation.tasksFile}get filename(){let t=this.path.match(/([^/]+)\.md$/);return t!==null?t[1]:null}get lineNumber(){return this.taskLocation.lineNumber}get sectionStart(){return this.taskLocation.sectionStart}get sectionIndex(){return this.taskLocation.sectionIndex}get precedingHeader(){return this.taskLocation.precedingHeader}checkOrUncheck(){let t=this.statusCharacter===" "?"x":" ",e=this.originalMarkdown.replace(RegExp(ce.checkboxRegex),`[${t}]`);return new xn(e,null,this.taskLocation)}toFileLineString(){let t=this.statusCharacter?`[${this.statusCharacter}] `:"";return`${this.indentation}${this.listMarker} ${t}${this.description}`}}});var nD=x(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});var tD=Symbol("MustacheDataPath");function eD({target:r,propertyName:t}){return[...r[tD]||[],t]}function rD(r,t){return typeof r!="object"?r:new Proxy(r,{get(e,n){let i=e[n];if(i===void 0&&!(n in e)){let s=eD({target:e,propertyName:n});if(t!=null&&t.handleError)return t.handleError(s),i;throw Error(`Missing Mustache data property: ${s.join(" > ")}`)}return i&&typeof i=="object"?(i[tD]=eD({target:e,propertyName:n}),rD(i,t)):i}})}qy.default=rD});var Zn=x(An=>{"use strict";An.__esModule=!0;An.Tokens=An.StructuralCharacters=An.Operators=void 0;var HU;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(HU=An.Operators||(An.Operators={}));var GU;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(GU=An.StructuralCharacters||(An.StructuralCharacters={}));var BU;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})(BU=An.Tokens||(An.Tokens={}))});var Vy=x(fo=>{"use strict";fo.__esModule=!0;fo.VALID_TOKENS=fo.OPERATOR_PRECEDENCE=void 0;var nt=Zn();fo.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};fo.VALID_TOKENS={identifierOnly:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS},{name:nt.Tokens.OPERATOR,value:nt.Operators.NOT}],binaryOperator:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR}],binaryOperatorOrClose:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.CLOSE_PARENTHESIS}]}});var zy=x(Vt=>{"use strict";Vt.__esModule=!0;Vt.ESCAPE_CHARACTER=Vt.EOL=Vt.COMMENT_DELIMITER=Vt.QUOTED_IDENTIFIER_DELIMITER=Vt.SEPARATORS=Vt.OPERATORS=Vt.STRUCTURAL_CHARACTERS=void 0;var po=Zn();Vt.STRUCTURAL_CHARACTERS={"(":po.StructuralCharacters.OPEN_PARENTHESIS,")":po.StructuralCharacters.CLOSE_PARENTHESIS};Vt.OPERATORS={AND:po.Operators.AND,OR:po.Operators.OR,XOR:po.Operators.XOR,NOT:po.Operators.NOT};Vt.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));Vt.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);Vt.COMMENT_DELIMITER=String.fromCodePoint(35);Vt.EOL=String.fromCodePoint(10);Vt.ESCAPE_CHARACTER=String.fromCodePoint(92)});var uD=x(un=>{"use strict";var Ky=un&&un.__assign||function(){return Ky=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ky.apply(this,arguments)};un.__esModule=!0;un.getQuotedIdentifier=un.getComment=un.createResult=void 0;var lD=Zn(),ta=zy(),VU=function(r,t,e){return{token:Ky({name:r},t!==null?{value:t}:{}),remainingString:e}};un.createResult=VU;var zU=function(r){for(var t=r.length,e=0;e<r.length;e+=1){var n=r[e];if(n===ta.EOL){t=e;break}}return(0,un.createResult)(lD.Tokens.COMMENT,r.slice(0,t),r.slice(t+1))};un.getComment=zU;var KU=function(r){for(var t=!1,e="",n=null,i=0;i<r.length;i+=1){var s=r[i];if(n===null)s===ta.QUOTED_IDENTIFIER_DELIMITER?t?(e=e.slice(0,-1)+ta.QUOTED_IDENTIFIER_DELIMITER,t=!1):n=i:(s===ta.ESCAPE_CHARACTER?t=!0:t=!1,e=e+=s);else{if(!ta.SEPARATORS.has(s)&&!ta.STRUCTURAL_CHARACTERS[s])throw new Error("Unexpected character: ".concat(s," Expected ) character or separator"));break}}if(n===null)throw new Error("Unexpected end of expression: expected ".concat(ta.QUOTED_IDENTIFIER_DELIMITER," character"));return(0,un.createResult)(lD.Tokens.IDENTIFIER,e,r.slice(n+1))};un.getQuotedIdentifier=KU});var cD=x(Ud=>{"use strict";Ud.__esModule=!0;Ud.lex=void 0;var mo=Zn(),Pr=zy(),ho=uD(),QU=function(r){for(var t=null,e=null,n=null,i=0;i<r.length;i+=1){var s=r[i];if(t===null){if(!Pr.SEPARATORS.has(s)){var a=Pr.STRUCTURAL_CHARACTERS[s];if(a){var o=r[i+1];if(a===mo.StructuralCharacters.CLOSE_PARENTHESIS&&o&&!Pr.SEPARATORS.has(o)&&o!==mo.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: ".concat(o,". A closing parenthesis should be followed by another closing parenthesis or whitespace"));return(0,ho.createResult)(mo.Tokens.STRUCTURAL_CHARACTER,Pr.STRUCTURAL_CHARACTERS[s],r.slice(i+1))}if(s===Pr.QUOTED_IDENTIFIER_DELIMITER)return(0,ho.getQuotedIdentifier)(r.slice(i+1));if(s===Pr.COMMENT_DELIMITER)return(0,ho.getComment)(r.slice(i+1));t=i}}else if(Pr.SEPARATORS.has(s)||Pr.STRUCTURAL_CHARACTERS[s]){e=i,n=s;break}else if(s===Pr.QUOTED_IDENTIFIER_DELIMITER||s===Pr.COMMENT_DELIMITER)throw new Error("Unexpected character: ".concat(s))}if(t!==null){e=e!=null?e:r.length;var l=r.slice(t,e),u=r.slice(e);if(Pr.OPERATORS[l]){if(n&&!Pr.SEPARATORS.has(n))throw new Error("Unexpected character: ".concat(n,". Operators should be separated using whitespace"));return(0,ho.createResult)(mo.Tokens.OPERATOR,Pr.OPERATORS[l],u)}else return(0,ho.createResult)(mo.Tokens.IDENTIFIER,l,u)}return(0,ho.createResult)(mo.Tokens.EOF,null,"")};Ud.lex=QU});var fD=x(Nr=>{"use strict";var dD=Nr&&Nr.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))};Nr.__esModule=!0;Nr.validateToken=Nr.previousOperatorTakesPrecedent=Nr.getValue=Nr.newTokenGenerator=void 0;var XU=cD(),go=Zn(),jd=Vy(),ZU=function(r){var t=r;return function(e,n){for(n===void 0&&(n=!1);;){var i=(0,XU.lex)(t),s=i.token,a=i.remainingString;if(t=a,s.name!==go.Tokens.COMMENT)return(0,Nr.validateToken)(s,e,n),s}}};Nr.newTokenGenerator=ZU;var JU=function(r,t){var e=r(jd.VALID_TOKENS.identifierOrNot),n=e.value===go.Operators.NOT;n&&(e=r(jd.VALID_TOKENS.identifierOnly));var i=e.name===go.Tokens.STRUCTURAL_CHARACTER?t(r,!0):[e];return n?dD(dD([],i,!0),[{name:go.Tokens.OPERATOR,value:go.Operators.NOT}],!1):i};Nr.getValue=JU;var ej=function(r,t){return jd.OPERATOR_PRECEDENCE[r]<=jd.OPERATOR_PRECEDENCE[t]};Nr.previousOperatorTakesPrecedent=ej;var tj=function(r,t,e){if(e===void 0&&(e=!1),r.name===go.Tokens.EOF){if(e)return;throw new Error("Unexpected end of expression")}for(var n=0,i=t;n<i.length;n++){var s=i[n];if(s.name===r.name&&(!s.value||s.value===r.value))return}throw new TypeError("Invalid token")};Nr.validateToken=tj});var Xy=x(yo=>{"use strict";var Jn=yo&&yo.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))};yo.__esModule=!0;yo.parse=void 0;var pD=Zn(),mD=Vy(),Wd=fD(),rj=function(r){if(typeof r!="string")throw new Error("Expected string but received ".concat(typeof r));var t=(0,Wd.newTokenGenerator)(r);return Qy(t)};yo.parse=rj;var Qy=function(r,t){t===void 0&&(t=!1);for(var e=Jn([],(0,Wd.getValue)(r,Qy),!0),n=[];;){var i=t?mD.VALID_TOKENS.binaryOperatorOrClose:mD.VALID_TOKENS.binaryOperator,s=r(i,!t);if(s.name===pD.Tokens.EOF||s.name===pD.Tokens.STRUCTURAL_CHARACTER)return Jn(Jn([],e,!0),Jn([],n,!0).reverse(),!0);for(;n.length;){var a=n[n.length-1]||null;if(a&&(0,Wd.previousOperatorTakesPrecedent)(a.value,s.value))e=Jn(Jn([],e,!0),[a],!1),n=n.slice(0,-1);else break}n=Jn(Jn([],n,!0),[s],!1),e=Jn(Jn([],e,!0),(0,Wd.getValue)(r,Qy),!0)}}});var Zy=x(zt=>{"use strict";zt.__esModule=!0;zt.throwInvalidExpression=zt.isOperator=zt.isIdentifier=zt.notUtil=zt.xorUtil=zt.orUtil=zt.andUtil=void 0;var hD=Zn(),nj=function(r,t){return r&&t};zt.andUtil=nj;var ij=function(r,t){return r||t};zt.orUtil=ij;var sj=function(r,t){return r!==t};zt.xorUtil=sj;var aj=function(r){return!r};zt.notUtil=aj;var oj=function(r){var t=r.name,e=r.value;return t===hD.Tokens.IDENTIFIER&&typeof e=="string"};zt.isIdentifier=oj;var lj=function(r){var t=r.name,e=r.value;return t===hD.Tokens.OPERATOR&&typeof e=="string"};zt.isOperator=lj;var uj=function(r){throw new TypeError("Invalid postfix expression: ".concat(r))};zt.throwInvalidExpression=uj});var gD=x($d=>{"use strict";var ku;$d.__esModule=!0;$d.OPERATOR_MAP=void 0;var Jy=Zn(),eb=Zy();$d.OPERATOR_MAP=(ku={},ku[Jy.Operators.AND]=eb.andUtil,ku[Jy.Operators.OR]=eb.orUtil,ku[Jy.Operators.XOR]=eb.xorUtil,ku)});var bD=x(cn=>{"use strict";var bo=cn&&cn.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))};cn.__esModule=!0;cn.evaluateExpression=cn.evaluate=cn.getEvaluator=void 0;var cj=Xy(),yD=Zn(),dj=gD(),ra=Zy(),fj=function(r){var t=(0,cj.parse)(r);return function(e){return(0,cn.evaluate)(t,e)}};cn.getEvaluator=fj;var pj=function(r,t){if(!Array.isArray(r))throw new Error("".concat(r," should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator"));var e=r.reduce(function(n,i,s){if(!(i&&((0,ra.isIdentifier)(i)||(0,ra.isOperator)(i))))throw new Error("Invalid token: ".concat(i,". Found in parsed expression at index ").concat(s));if(i.name===yD.Tokens.IDENTIFIER)return bo(bo([],n,!0),[Boolean(t[i.value])],!1);var a=n[n.length-2],o=n[n.length-1];if(i.value===yD.Operators.NOT)return o===void 0&&(0,ra.throwInvalidExpression)("missing identifier"),bo(bo([],n.slice(0,-1),!0),[(0,ra.notUtil)(o)],!1);(o===void 0||a===void 0)&&(0,ra.throwInvalidExpression)("missing identifier");var l=dj.OPERATOR_MAP[i.value];return l||(0,ra.throwInvalidExpression)("unknown operator"),bo(bo([],n.slice(0,-2),!0),[l(a,o)],!1)},[]);return e.length!==1&&(0,ra.throwInvalidExpression)("too many identifiers after evaluation"),e[0]};cn.evaluate=pj;var mj=function(r,t){return(0,cn.getEvaluator)(r)(t)};cn.evaluateExpression=mj});var _D=x(ei=>{"use strict";var tb=ei&&ei.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e);var i=Object.getOwnPropertyDescriptor(t,e);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,n,i)}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]});ei.__esModule=!0;ei.parse=ei.evaluate=ei.getEvaluator=void 0;var TD=bD();tb(ei,TD,"getEvaluator");tb(ei,TD,"evaluate");var hj=Xy();tb(ei,hj,"parse")});var Ij={};wb(Ij,{default:()=>Of});module.exports=Sb(Ij);var v0=require("obsidian");gs();var Va=require("obsidian");var iW=new Error("timeout while waiting for mutex to become available"),sW=new Error("mutex already locked"),H0=new Error("request for lock canceled"),G0=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})},$f=class{constructor(t,e=H0){this._value=t,this._cancelError=e,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((e,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:e,reject:n}),this._dispatch()})}runExclusive(t,e=1){return G0(this,void 0,void 0,function*(){let[n,i]=yield this.acquire(e);try{return yield t(n)}finally{i()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(e=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(e),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(e=>e.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let e=this._value;e>0;e--){let n=(t=this._weightedQueues[e-1])===null||t===void 0?void 0:t.shift();if(!n)continue;let i=this._value,s=e;this._value-=e,e=this._value+1,n.resolve([i,this._newReleaser(s)])}this._drainUnlockWaiters()}_newReleaser(t){let e=!1;return()=>{e||(e=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)!this._weightedWaiters[t-1]||(this._weightedWaiters[t-1].forEach(e=>e()),this._weightedWaiters[t-1]=[])}},B0=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})},ju=class{constructor(t){this._semaphore=new $f(1,t)}acquire(){return B0(this,void 0,void 0,function*(){let[,t]=yield this._semaphore.acquire();return t})}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var Wu=require("obsidian"),mt=class{constructor(t,e={}){this._frontmatter={tags:[]};this._tags=[];var i,s;this._path=t,this._cachedMetadata=e;let n=e.frontmatter;if(n!==void 0&&(this._frontmatter=JSON.parse(JSON.stringify(n)),this._frontmatter.tags=(i=(0,Wu.parseFrontMatterTags)(n))!=null?i:[]),Object.keys(e).length!==0){let a=(s=(0,Wu.getAllTags)(this.cachedMetadata))!=null?s:[];this._tags=[...new Set(a)]}}get path(){return this._path}get tags(){return this._tags}get cachedMetadata(){return this._cachedMetadata}get frontmatter(){return this._frontmatter}rawFrontmatterIdenticalTo(t){let e=this.cachedMetadata.frontmatter,n=t.cachedMetadata.frontmatter;return e===n?!0:!e||!n?!1:JSON.stringify(e)===JSON.stringify(n)}get pathWithoutExtension(){return this.withoutExtension(this.path)}withoutExtension(t){return t.replace(/\.md$/,"")}get root(){let t=this.path.replace(/\\/g,"/");t.charAt(0)==="/"&&(t=t.substring(1));let e=t.indexOf("/");return e==-1?"/":t.substring(0,e+1)}get folder(){let t=this.path,e=this.filename,n=t.substring(0,t.lastIndexOf(e));return n===""?"/":n}get filename(){let t=this.path.match(/([^/]+)$/);return t!==null?t[1]:""}get filenameWithoutExtension(){return this.withoutExtension(this.filename)}hasProperty(t){let e=this.findKeyInFrontmatter(t);if(e===void 0)return!1;let n=this.frontmatter[e];return!(n===null||n===void 0)}property(t){let e=this.findKeyInFrontmatter(t);if(e===void 0)return null;let n=this.frontmatter[e];return n===void 0?null:Array.isArray(n)?n.filter(i=>i!==null):n}findKeyInFrontmatter(t){let e=t.toLowerCase();return Object.keys(this.frontmatter).find(n=>n.toLowerCase()===e)}};ld();Nt();Gi();rr();var Ba=class{constructor(t){this.fetch=t;this._value=void 0}get value(){return this._value===void 0&&(this._value=this.fetch()),this._value}};$s();Nt();Gi();ld();var Lt=class{constructor(t,e,n,i,s){this._tasksFile=t,this._lineNumber=e,this._sectionStart=n,this._sectionIndex=i,this._precedingHeader=s}static fromUnknownPosition(t){return new Lt(t,0,0,0,null)}fromRenamedFile(t){return new Lt(t,this.lineNumber,this.sectionStart,this.sectionIndex,this.precedingHeader)}get tasksFile(){return this._tasksFile}get path(){return this._tasksFile.path}get lineNumber(){return this._lineNumber}get sectionStart(){return this._sectionStart}get sectionIndex(){return this._sectionIndex}get precedingHeader(){return this._precedingHeader}get hasKnownPath(){return this.path!==""}allFieldsExceptTasksFileForTesting(){let n=U({},this),{_tasksFile:t}=n;return pa(n,["_tasksFile"])}};var ud=class{constructor(t,e,n,i,s,a){this.line2ListItem=new Map;this.tasks=[];this.filePath=t,this.fileContent=e,this.listItems=n,this.logger=i,this.fileCache=s,this.errorReporter=a,this.fileLines=this.fileContent.split(`
`),this.dateFromFileName=new Ba(()=>Ft.fromPath(this.filePath))}parseFileContent(){if(this.listItems===void 0)return this.tasks;let t=new mt(this.filePath,this.fileCache),e=this.fileLines.length,n=null,i=0;for(let s of this.listItems){let a=s.position.start.line;if(a>=e)return this.logger.debug(`${this.filePath} Obsidian gave us a line number ${a} past the end of the file. ${e}.`),this.tasks;if((n===null||n.position.end.line<a)&&(n=qs.getSection(a,this.fileCache.sections),i=0),n===null)continue;let o=this.fileLines[a];if(o===void 0){this.logger.debug(`${this.filePath}: line ${a} - ignoring 'undefined' line.`);continue}let l=new Lt(t,a,n.position.start.line,i,qs.getPrecedingHeader(a,this.fileCache.headings));i=this.parseLine(s,o,l,a,i)}return this.tasks}parseLine(t,e,n,i,s){var o;if(t.task===void 0)return this.createListItem(t,e,i,n),s;let a;try{if(a=fe.fromLine({line:e,taskLocation:n,fallbackDate:this.dateFromFileName.value}),a!==null){let l=(o=this.line2ListItem.get(t.parent))!=null?o:null;l!==null&&(a=new fe(me(U({},a),{parent:l}))),this.line2ListItem.set(i,a),a!==null&&(s++,this.tasks.push(a))}else this.createListItem(t,e,i,n)}catch(l){this.errorReporter(l,this.filePath,t,e)}return s}createListItem(t,e,n,i){var a;let s=(a=this.line2ListItem.get(t.parent))!=null?a:null;this.line2ListItem.set(n,new xn(e,s,i))}};var qs=class{constructor({metadataCache:t,vault:e,workspace:n,events:i}){this.logger=nr.getLogger("tasks.Cache");this.logger.debug("Creating Cache object"),this.metadataCache=t,this.metadataCacheEventReferences=[],this.vault=e,this.workspace=n,this.vaultEventReferences=[],this.events=i,this.eventsEventReferences=[],this.tasksMutex=new ju,this.state="Cold",this.logger.debug("Cache.constructor(): state = Cold"),this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.workspace.onLayoutReady(()=>{this.subscribeToVault(),this.loadVault()}),this.subscribeToEvents()}unload(){this.logger.info("Unloading Cache");for(let t of this.metadataCacheEventReferences)this.metadataCache.offref(t);for(let t of this.vaultEventReferences)this.vault.offref(t);for(let t of this.eventsEventReferences)this.events.off(t)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.logger.debug("Cache.notifySubscribers()"),this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){this.logger.debug("Cache.subscribeToCache()");let t=this.metadataCache.on("resolved",()=>L(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(t);let e=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(e)}subscribeToVault(){this.logger.debug("Cache.subscribeToVault()");let{useFilenameAsScheduledDate:t}=le(),e=this.vault.on("create",s=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.createdEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{this.indexFile(s)}))});this.vaultEventReferences.push(e);let n=this.vault.on("delete",s=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.deletedEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(a=>a.path!==s.path),this.notifySubscribers()}))});this.vaultEventReferences.push(n);let i=this.vault.on("rename",(s,a)=>{s instanceof Va.TFile&&(this.logger.debug(`Cache.subscribeToVault.renamedEventReference() ${s.path}`),this.tasksMutex.runExclusive(()=>{let o=this.metadataCache.getFileCache(s),l=new mt(s.path,o!=null?o:void 0),u=new Ba(()=>Ft.fromPath(s.path));this.tasks=this.tasks.map(c=>{if(c.path!==a)return c;let d=c.taskLocation.fromRenamedFile(l);return t?Ft.updateTaskPath(c,d,u.value):new fe(me(U({},c),{taskLocation:d}))}),this.notifySubscribers()}))});this.vaultEventReferences.push(i)}subscribeToEvents(){this.logger.debug("Cache.subscribeToEvents()");let t=this.events.onRequestCacheUpdate(e=>{e({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(t)}loadVault(){return this.logger.debug("Cache.loadVault()"),this.tasksMutex.runExclusive(()=>L(this,null,function*(){this.state="Initializing",this.logger.debug("Cache.loadVault(): state = Initializing"),yield Promise.all(this.vault.getMarkdownFiles().map(t=>this.indexFile(t))),this.state="Warm",this.logger.debug("Cache.loadVault(): state = Warm"),this.notifySubscribers()}))}indexFile(t){return L(this,null,function*(){let e=this.metadataCache.getFileCache(t);if(e==null)return;if(!t.path.endsWith(".md")){this.logger.debug("indexFile: skipping non-markdown file: "+t.path);return}this.logger.debug("Cache.indexFile: "+t.path);let n=this.tasks.filter(a=>a.path===t.path),i=e.listItems,s=[];if(i!==void 0){let a=yield this.vault.cachedRead(t);s=this.getTasksFromFileContent(a,i,e,t.path,this.reportTaskParsingErrorToUser,this.logger)}xn.listsAreIdentical(n,s)||(this.tasks=this.tasks.filter(a=>a.path!==t.path),this.tasks.push(...s),this.logger.debug("Cache.indexFile: "+t.path+`: read ${s.length} task(s)`),this.notifySubscribers())})}getTasksFromFileContent(t,e,n,i,s,a){return new ud(i,t,e,a,n,s).parseFileContent()}reportTaskParsingErrorToUser(t,e,n,i){let s=`There was an error reading one of the tasks in this vault.
The following task has been ignored, to prevent Tasks queries getting stuck with 'Loading Tasks ...'
Error: ${t}
File: ${e}
Line number: ${n.position.start.line}
Task line: ${i}

Please create a bug report for this message at
https://github.com/obsidian-tasks-group/obsidian-tasks/issues/new/choose
to help us find and fix the underlying issue.

Include:
- either a screenshot of the error popup, or copy the text from the console, if on a desktop machine.
- the output from running the Obsidian command 'Show debug info'

The error popup will only be shown when Tasks is starting up, but if the error persists,
it will be shown in the console every time this file is edited during the Obsidian
session.
`;this.logger.error(s),t instanceof Error&&this.logger.error(t.stack?t.stack:"Cannot determine stack"),this.state==="Initializing"&&new Va.Notice(s,1e4)}static getSection(t,e){if(e===void 0)return null;for(let n of e)if(n.position.start.line<=t&&n.position.end.line>=t)return n;return null}static getPrecedingHeader(t,e){if(e===void 0)return null;let n=null;for(let i of e){if(i.position.start.line>t)return n;n=i.heading}return n}};var Fy=require("obsidian");var zE=require("obsidian");function tt(){}function hy(r){return r()}function GS(){return Object.create(null)}function Gt(r){r.forEach(hy)}function fd(r){return typeof r=="function"}function zn(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}function BS(r){return Object.keys(r).length===0}var VS=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global,lu=class{constructor(t){this.options=t,this._listeners="WeakMap"in VS?new WeakMap:void 0}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!==null&&t!==void 0?t:this._observer=new ResizeObserver(e=>{var n;for(let i of e)lu.entries.set(i.target,i),(n=this._listeners.get(i.target))===null||n===void 0||n(i)})}};lu.entries="WeakMap"in VS?new WeakMap:void 0;var zS=!1;function m2(){zS=!0}function h2(){zS=!1}function z(r,t){r.appendChild(t)}function Ee(r,t,e){r.insertBefore(t,e||null)}function ve(r){r.parentNode&&r.parentNode.removeChild(r)}function Gs(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function ue(r){return document.createElement(r)}function g2(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ve(r){return document.createTextNode(r)}function De(){return Ve(" ")}function pd(){return Ve("")}function We(r,t,e,n){return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e,n)}function KS(r){return function(t){return t.preventDefault(),r.call(this,t)}}function B(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function QS(r){let t;return{p(...e){t=e,t.forEach(n=>r.push(n))},r(){t.forEach(e=>r.splice(r.indexOf(e),1))}}}function y2(r){return Array.from(r.childNodes)}function rn(r,t){t=""+t,r.data!==t&&(r.data=t)}function dr(r,t){r.value=t==null?"":t}function gy(r,t,e){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===t){i.selected=!0;return}}(!e||t!==void 0)&&(r.selectedIndex=-1)}function XS(r){let t=r.querySelector(":checked");return t&&t.__value}var cd;function b2(){if(cd===void 0){cd=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(r){cd=!0}}return cd}function ZS(r,t){getComputedStyle(r).position==="static"&&(r.style.position="relative");let n=ue("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;let i=b2(),s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=We(window,"message",a=>{a.source===n.contentWindow&&t()})):(n.src="about:blank",n.onload=()=>{s=We(n.contentWindow,"resize",t),t()}),z(r,n),()=>{(i||s&&n.contentWindow)&&s(),ve(n)}}function Si(r,t,e){r.classList[e?"add":"remove"](t)}var Xa=class{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=g2(e.nodeName):this.e=ue(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)Ee(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(ve)}};var uu;function ou(r){uu=r}function T2(){if(!uu)throw new Error("Function called outside component initialization");return uu}function yy(r){T2().$$.on_mount.push(r)}var Ka=[];var at=[],Qa=[],py=[],_2=Promise.resolve(),my=!1;function v2(){my||(my=!0,_2.then(JS))}function Hs(r){Qa.push(r)}function ir(r){py.push(r)}var fy=new Set,za=0;function JS(){if(za!==0)return;let r=uu;do{try{for(;za<Ka.length;){let t=Ka[za];za++,ou(t),w2(t.$$)}}catch(t){throw Ka.length=0,za=0,t}for(ou(null),Ka.length=0,za=0;at.length;)at.pop()();for(let t=0;t<Qa.length;t+=1){let e=Qa[t];fy.has(e)||(fy.add(e),e())}Qa.length=0}while(Ka.length);for(;py.length;)py.pop()();my=!1,fy.clear(),ou(r)}function w2(r){if(r.fragment!==null){r.update(),Gt(r.before_update);let t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(Hs)}}function k2(r){let t=[],e=[];Qa.forEach(n=>r.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=>n()),Qa=t}var dd=new Set,Ys;function eE(){Ys={r:0,c:[],p:Ys}}function tE(){Ys.r||Gt(Ys.c),Ys=Ys.p}function fr(r,t){r&&r.i&&(dd.delete(r),r.i(t))}function Rr(r,t,e,n){if(r&&r.o){if(dd.has(r))return;dd.add(r),Ys.c.push(()=>{dd.delete(r),n&&(e&&r.d(1),n())}),r.o(t)}else n&&n()}var S2=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],yB=new Set([...S2]);function sr(r,t,e){let n=r.$$.props[t];n!==void 0&&(r.$$.bound[n]=e,e(r.$$.ctx[n]))}function On(r){r&&r.c()}function nn(r,t,e,n){let{fragment:i,after_update:s}=r.$$;i&&i.m(t,e),n||Hs(()=>{let a=r.$$.on_mount.map(hy).filter(fd);r.$$.on_destroy?r.$$.on_destroy.push(...a):Gt(a),r.$$.on_mount=[]}),s.forEach(Hs)}function Ar(r,t){let e=r.$$;e.fragment!==null&&(k2(e.after_update),Gt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function E2(r,t){r.$$.dirty[0]===-1&&(Ka.push(r),v2(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function Kn(r,t,e,n,i,s,a,o=[-1]){let l=uu;ou(r);let u=r.$$={fragment:null,ctx:[],props:s,update:tt,not_equal:i,bound:GS(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:GS(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(u.root);let c=!1;if(u.ctx=e?e(r,t.props||{},(d,f,...p)=>{let b=p.length?p[0]:f;return u.ctx&&i(u.ctx[d],u.ctx[d]=b)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](b),c&&E2(r,d)),f}):[],u.update(),c=!0,Gt(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){m2();let d=y2(t.target);u.fragment&&u.fragment.l(d),d.forEach(ve)}else u.fragment&&u.fragment.c();t.intro&&fr(r.$$.fragment),nn(r,t.target,t.anchor,t.customElement),h2(),JS()}ou(l)}var D2;typeof HTMLElement=="function"&&(D2=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(hy).filter(fd);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(r,t,e){this[r]=e}disconnectedCallback(){Gt(this.$$.on_disconnect)}$destroy(){Ar(this,1),this.$destroy=tt}$on(r,t){if(!fd(t))return tt;let e=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return e.push(t),()=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)}}$set(r){this.$$set&&!BS(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var tn=class{$destroy(){Ar(this,1),this.$destroy=tt}$on(t,e){if(!fd(e))return tt;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!BS(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function rE(r,t,e,n){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?s(c.value):i(c.value).then(o,l)}u((n=n.apply(r,t||[])).next())})}rr();Pg();Cs();function Za(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ut(r,t){if(t===null)return Za(r);let e=r.toLowerCase().indexOf(t.toLowerCase());if(e===-1)return`${Za(r)} (<span class="accesskey">${t.toLowerCase()}</span>)`;let n=r.substring(0,e);return n+='<span class="accesskey">',e===0?n+=r.substring(e,e+1).toUpperCase():n+=r.substring(e,e+1),n+="</span>",n+=r.substring(e+1),n=Za(n),n}function x2(r){let t,e,n,i;return{c(){t=ue("code"),e=Ve(r[4]),n=De(),i=new Xa(!1),i.a=null,B(t,"class","tasks-modal-parsed-date")},m(s,a){Ee(s,t,a),z(t,e),z(t,n),i.m(r[2],t)},p(s,a){a&16&&rn(e,s[4]),a&4&&i.p(s[2])},d(s){s&&ve(t)}}}function O2(r){let t,e,n,i,s;return{c(){t=ue("div"),e=Ve(r[4]),n=ue("input"),B(n,"class","tasks-modal-date-editor-picker"),B(n,"type","date"),B(n,"id","date-editor-picker"),B(n,"tabindex","-1"),B(t,"class","tasks-modal-parsed-date")},m(a,o){Ee(a,t,o),z(t,e),z(t,n),dr(n,r[6]),i||(s=[We(n,"input",r[10]),We(n,"input",r[7])],i=!0)},p(a,o){o&16&&rn(e,a[4]),o&64&&dr(n,a[6])},d(a){a&&ve(t),i=!1,Gt(s)}}}function C2(r){let t,e=Ut(r[3],r[5])+"",n,i,s,a,o,l;function u(f,p){return f[1]?O2:x2}let c=u(r,-1),d=c(r);return{c(){t=ue("label"),n=De(),i=ue("input"),s=De(),d.c(),a=pd(),B(t,"for",r[3]),B(i,"id",r[3]),B(i,"type","text"),B(i,"class","tasks-modal-date-input"),B(i,"placeholder",M2),B(i,"accesskey",r[5]),Si(i,"tasks-modal-error",!r[1])},m(f,p){Ee(f,t,p),t.innerHTML=e,Ee(f,n,p),Ee(f,i,p),dr(i,r[0]),Ee(f,s,p),d.m(f,p),Ee(f,a,p),o||(l=We(i,"input",r[9]),o=!0)},p(f,[p]){p&40&&e!==(e=Ut(f[3],f[5])+"")&&(t.innerHTML=e),p&8&&B(t,"for",f[3]),p&8&&B(i,"id",f[3]),p&32&&B(i,"accesskey",f[5]),p&1&&i.value!==f[0]&&dr(i,f[0]),p&2&&Si(i,"tasks-modal-error",!f[1]),c===(c=u(f,p))&&d?d.p(f,p):(d.d(1),d=c(f),d&&(d.c(),d.m(a.parentNode,a)))},i:tt,o:tt,d(f){f&&ve(t),f&&ve(n),f&&ve(i),f&&ve(s),d.d(f),f&&ve(a),o=!1,l()}}}var M2="Try 'Mon' or 'tm' then space";function R2(r,t,e){let{id:n}=t,{dateSymbol:i}=t,{date:s}=t,{isDateValid:a}=t,{forwardOnly:o}=t,{accesskey:l}=t,{parsedDate:u=""}=t,c="";function d(b){b.target!==null&&e(0,s=c)}function f(){s=this.value,e(0,s),e(3,n),e(8,o),e(2,u),e(1,a)}function p(){c=this.value,e(6,c),e(0,s),e(3,n),e(8,o),e(2,u),e(1,a)}return r.$$set=b=>{"id"in b&&e(3,n=b.id),"dateSymbol"in b&&e(4,i=b.dateSymbol),"date"in b&&e(0,s=b.date),"isDateValid"in b&&e(1,a=b.isDateValid),"forwardOnly"in b&&e(8,o=b.forwardOnly),"accesskey"in b&&e(5,l=b.accesskey),"parsedDate"in b&&e(2,u=b.parsedDate)},r.$$.update=()=>{if(r.$$.dirty&271){e:e(0,s=Pc(s)),e(2,u=bk(n,s,o)),e(1,a=!u.includes("invalid")),a&&e(6,c=u)}},[s,a,u,n,i,l,c,d,o,f,p]}var by=class extends tn{constructor(t){super(),Kn(this,t,R2,C2,zn,{id:3,dateSymbol:4,date:0,isDateValid:1,forwardOnly:8,accesskey:5,parsedDate:2})}},Bs=by;var Vs=Math.min,pr=Math.max,du=Math.round;var Cn=r=>({x:r,y:r}),A2={left:"right",right:"left",bottom:"top",top:"bottom"},P2={start:"end",end:"start"};function Ty(r,t,e){return pr(r,Vs(t,e))}function Ja(r,t){return typeof r=="function"?r(t):r}function Ei(r){return r.split("-")[0]}function eo(r){return r.split("-")[1]}function _y(r){return r==="x"?"y":"x"}function vy(r){return r==="y"?"height":"width"}function Bi(r){return["top","bottom"].includes(Ei(r))?"y":"x"}function wy(r){return _y(Bi(r))}function nE(r,t,e){e===void 0&&(e=!1);let n=eo(r),i=wy(r),s=vy(i),a=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=cu(a)),[a,cu(a)]}function iE(r){let t=cu(r);return[md(r),t,md(t)]}function md(r){return r.replace(/start|end/g,t=>P2[t])}function N2(r,t,e){let n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(r){case"top":case"bottom":return e?t?i:n:t?n:i;case"left":case"right":return t?s:a;default:return[]}}function sE(r,t,e,n){let i=eo(r),s=N2(Ei(r),e==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(md)))),s}function cu(r){return r.replace(/left|right|bottom|top/g,t=>A2[t])}function I2(r){return U({top:0,right:0,bottom:0,left:0},r)}function aE(r){return typeof r!="number"?I2(r):{top:r,right:r,bottom:r,left:r}}function zs(r){let{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function oE(r,t,e){let{reference:n,floating:i}=r,s=Bi(t),a=wy(t),o=vy(a),l=Ei(t),u=s==="y",c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2,p;switch(l){case"top":p={x:c,y:n.y-i.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(eo(t)){case"start":p[a]-=f*(e&&u?-1:1);break;case"end":p[a]+=f*(e&&u?-1:1);break}return p}var lE=(r,t,e)=>L(void 0,null,function*(){let{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=e,o=s.filter(Boolean),l=yield a.isRTL==null?void 0:a.isRTL(t),u=yield a.getElementRects({reference:r,floating:t,strategy:i}),{x:c,y:d}=oE(u,n,l),f=n,p={},b=0;for(let T=0;T<o.length;T++){let{name:_,fn:O}=o[T],{x:D,y:A,data:j,reset:Y}=yield O({x:c,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:r,floating:t}});c=D!=null?D:c,d=A!=null?A:d,p=me(U({},p),{[_]:U(U({},p[_]),j)}),Y&&b<=50&&(b++,typeof Y=="object"&&(Y.placement&&(f=Y.placement),Y.rects&&(u=Y.rects===!0?yield a.getElementRects({reference:r,floating:t,strategy:i}):Y.rects),{x:c,y:d}=oE(u,f,l)),T=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:p}});function hd(r,t){return L(this,null,function*(){var e;t===void 0&&(t={});let{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=r,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Ja(t,r),b=aE(p),_=o[f?d==="floating"?"reference":"floating":d],O=zs(yield s.getClippingRect({element:(e=yield s.isElement==null?void 0:s.isElement(_))==null||e?_:_.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),D=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),j=(yield s.isElement==null?void 0:s.isElement(A))?(yield s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},Y=zs(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:D,offsetParent:A,strategy:l}):D);return{top:(O.top-Y.top+b.top)/j.y,bottom:(Y.bottom-O.bottom+b.bottom)/j.y,left:(O.left-Y.left+b.left)/j.x,right:(Y.right-O.right+b.right)/j.x}})}var uE=function(r){return r===void 0&&(r={}),{name:"flip",options:r,fn(e){return L(this,null,function*(){var n,i;let{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:c}=e,q=Ja(r,e),{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0}=q,O=pa(q,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=a.arrow)!=null&&n.alignmentOffset)return{};let D=Ei(s),A=Bi(l),j=Ei(l)===l,Y=yield u.isRTL==null?void 0:u.isRTL(c.floating),se=p||(j||!_?[cu(l)]:iE(l)),H=T!=="none";!p&&H&&se.push(...sE(l,_,T,Y));let Z=[l,...se],ye=yield hd(e,O),we=[],V=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&we.push(ye[D]),f){let oe=nE(s,o,Y);we.push(ye[oe[0]],ye[oe[1]])}if(V=[...V,{placement:s,overflows:we}],!we.every(oe=>oe<=0)){var K,C;let oe=(((K=a.flip)==null?void 0:K.index)||0)+1,m=Z[oe];if(m)return{data:{index:oe,overflows:V},reset:{placement:m}};let y=(C=V.filter(v=>v.overflows[0]<=0).sort((v,w)=>v.overflows[1]-w.overflows[1])[0])==null?void 0:C.placement;if(!y)switch(b){case"bestFit":{var J;let v=(J=V.filter(w=>{if(H){let S=Bi(w.placement);return S===A||S==="y"}return!0}).map(w=>[w.placement,w.overflows.filter(S=>S>0).reduce((S,M)=>S+M,0)]).sort((w,S)=>w[1]-S[1])[0])==null?void 0:J[0];v&&(y=v);break}case"initialPlacement":y=l;break}if(s!==y)return{reset:{placement:y}}}return{}})}}};function F2(r,t){return L(this,null,function*(){let{placement:e,platform:n,elements:i}=r,s=yield n.isRTL==null?void 0:n.isRTL(i.floating),a=Ei(e),o=eo(e),l=Bi(e)==="y",u=["left","top"].includes(a)?-1:1,c=s&&l?-1:1,d=Ja(t,r),{mainAxis:f,crossAxis:p,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof b=="number"&&(p=o==="end"?b*-1:b),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}})}var cE=function(r){return r===void 0&&(r=0),{name:"offset",options:r,fn(e){return L(this,null,function*(){var n,i;let{x:s,y:a,placement:o,middlewareData:l}=e,u=yield F2(e,r);return o===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:me(U({},u),{placement:o})}})}}},dE=function(r){return r===void 0&&(r={}),{name:"shift",options:r,fn(e){return L(this,null,function*(){let{x:n,y:i,placement:s}=e,O=Ja(r,e),{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:D=>{let{x:A,y:j}=D;return{x:A,y:j}}}}=O,u=pa(O,["mainAxis","crossAxis","limiter"]),c={x:n,y:i},d=yield hd(e,u),f=Bi(Ei(s)),p=_y(f),b=c[p],T=c[f];if(a){let D=p==="y"?"top":"left",A=p==="y"?"bottom":"right",j=b+d[D],Y=b-d[A];b=Ty(j,b,Y)}if(o){let D=f==="y"?"top":"left",A=f==="y"?"bottom":"right",j=T+d[D],Y=T-d[A];T=Ty(j,T,Y)}let _=l.fn(me(U({},e),{[p]:b,[f]:T}));return me(U({},_),{data:{x:_.x-n,y:_.y-i,enabled:{[p]:a,[f]:o}}})})}}};var fE=function(r){return r===void 0&&(r={}),{name:"size",options:r,fn(e){return L(this,null,function*(){var n,i;let{placement:s,rects:a,platform:o,elements:l}=e,V=Ja(r,e),{apply:u=()=>{}}=V,c=pa(V,["apply"]),d=yield hd(e,c),f=Ei(s),p=eo(s),b=Bi(s)==="y",{width:T,height:_}=a.floating,O,D;f==="top"||f==="bottom"?(O=f,D=p===((yield o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(D=f,O=p==="end"?"top":"bottom");let A=_-d.top-d.bottom,j=T-d.left-d.right,Y=Vs(_-d[O],A),se=Vs(T-d[D],j),H=!e.middlewareData.shift,Z=Y,ye=se;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(ye=j),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(Z=A),H&&!p){let K=pr(d.left,0),C=pr(d.right,0),J=pr(d.top,0),q=pr(d.bottom,0);b?ye=T-2*(K!==0||C!==0?K+C:pr(d.left,d.right)):Z=_-2*(J!==0||q!==0?J+q:pr(d.top,d.bottom))}yield u(me(U({},e),{availableWidth:ye,availableHeight:Z}));let we=yield o.getDimensions(l.floating);return T!==we.width||_!==we.height?{reset:{rects:!0}}:{}})}}};function yd(){return typeof window!="undefined"}function Ks(r){return mE(r)?(r.nodeName||"").toLowerCase():"#document"}function mr(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(r){var t;return(t=(mE(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function mE(r){return yd()?r instanceof Node||r instanceof mr(r).Node:!1}function sn(r){return yd()?r instanceof Element||r instanceof mr(r).Element:!1}function Mn(r){return yd()?r instanceof HTMLElement||r instanceof mr(r).HTMLElement:!1}function pE(r){return!yd()||typeof ShadowRoot=="undefined"?!1:r instanceof ShadowRoot||r instanceof mr(r).ShadowRoot}function to(r){let{overflow:t,overflowX:e,overflowY:n,display:i}=an(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(i)}function hE(r){return["table","td","th"].includes(Ks(r))}function fu(r){return[":popover-open",":modal"].some(t=>{try{return r.matches(t)}catch(e){return!1}})}function bd(r){let t=Td(),e=sn(r)?an(r):r;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function gE(r){let t=Di(r);for(;Mn(t)&&!Qs(t);){if(bd(t))return t;if(fu(t))return null;t=Di(t)}return null}function Td(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qs(r){return["html","body","#document"].includes(Ks(r))}function an(r){return mr(r).getComputedStyle(r)}function pu(r){return sn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Di(r){if(Ks(r)==="html")return r;let t=r.assignedSlot||r.parentNode||pE(r)&&r.host||Qn(r);return pE(t)?t.host:t}function yE(r){let t=Di(r);return Qs(t)?r.ownerDocument?r.ownerDocument.body:r.body:Mn(t)&&to(t)?t:yE(t)}function gd(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);let i=yE(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=mr(i);if(s){let o=_d(a);return t.concat(a,a.visualViewport||[],to(i)?i:[],o&&e?gd(o):[])}return t.concat(i,gd(i,[],e))}function _d(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function _E(r){let t=an(r),e=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=Mn(r),s=i?r.offsetWidth:e,a=i?r.offsetHeight:n,o=du(e)!==s||du(n)!==a;return o&&(e=s,n=a),{width:e,height:n,$:o}}function vE(r){return sn(r)?r:r.contextElement}function ro(r){let t=vE(r);if(!Mn(t))return Cn(1);let e=t.getBoundingClientRect(),{width:n,height:i,$:s}=_E(t),a=(s?du(e.width):e.width)/n,o=(s?du(e.height):e.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}var L2=Cn(0);function wE(r){let t=mr(r);return!Td()||!t.visualViewport?L2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function U2(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==mr(r)?!1:t}function mu(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);let i=r.getBoundingClientRect(),s=vE(r),a=Cn(1);t&&(n?sn(n)&&(a=ro(n)):a=ro(r));let o=U2(s,e,n)?wE(s):Cn(0),l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,c=i.width/a.x,d=i.height/a.y;if(s){let f=mr(s),p=n&&sn(n)?mr(n):n,b=f,T=_d(b);for(;T&&n&&p!==b;){let _=ro(T),O=T.getBoundingClientRect(),D=an(T),A=O.left+(T.clientLeft+parseFloat(D.paddingLeft))*_.x,j=O.top+(T.clientTop+parseFloat(D.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,d*=_.y,l+=A,u+=j,b=mr(T),T=_d(b)}}return zs({width:c,height:d,x:l,y:u})}function Sy(r,t){let e=pu(r).scrollLeft;return t?t.left+e:mu(Qn(r)).left+e}function kE(r,t,e){e===void 0&&(e=!1);let n=r.getBoundingClientRect(),i=n.left+t.scrollLeft-(e?0:Sy(r,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function j2(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r,s=i==="fixed",a=Qn(n),o=t?fu(t.floating):!1;if(n===a||o&&s)return e;let l={scrollLeft:0,scrollTop:0},u=Cn(1),c=Cn(0),d=Mn(n);if((d||!d&&!s)&&((Ks(n)!=="body"||to(a))&&(l=pu(n)),Mn(n))){let p=mu(n);u=ro(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}let f=a&&!d&&!s?kE(a,l,!0):Cn(0);return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:e.y*u.y-l.scrollTop*u.y+c.y+f.y}}function W2(r){return Array.from(r.getClientRects())}function $2(r){let t=Qn(r),e=pu(r),n=r.ownerDocument.body,i=pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-e.scrollLeft+Sy(r),o=-e.scrollTop;return an(n).direction==="rtl"&&(a+=pr(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function q2(r,t){let e=mr(r),n=Qn(r),i=e.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;let u=Td();(!u||u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Y2(r,t){let e=mu(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,s=Mn(r)?ro(r):Cn(1),a=r.clientWidth*s.x,o=r.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:a,height:o,x:l,y:u}}function bE(r,t,e){let n;if(t==="viewport")n=q2(r,e);else if(t==="document")n=$2(Qn(r));else if(sn(t))n=Y2(t,e);else{let i=wE(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zs(n)}function SE(r,t){let e=Di(r);return e===t||!sn(e)||Qs(e)?!1:an(e).position==="fixed"||SE(e,t)}function H2(r,t){let e=t.get(r);if(e)return e;let n=gd(r,[],!1).filter(o=>sn(o)&&Ks(o)!=="body"),i=null,s=an(r).position==="fixed",a=s?Di(r):r;for(;sn(a)&&!Qs(a);){let o=an(a),l=bd(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||to(a)&&!l&&SE(r,a))?n=n.filter(c=>c!==a):i=o,a=Di(a)}return t.set(r,n),n}function G2(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r,a=[...e==="clippingAncestors"?fu(t)?[]:H2(t,this._c):[].concat(e),n],o=a[0],l=a.reduce((u,c)=>{let d=bE(t,c,i);return u.top=pr(d.top,u.top),u.right=Vs(d.right,u.right),u.bottom=Vs(d.bottom,u.bottom),u.left=pr(d.left,u.left),u},bE(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function B2(r){let{width:t,height:e}=_E(r);return{width:t,height:e}}function V2(r,t,e){let n=Mn(t),i=Qn(t),s=e==="fixed",a=mu(r,!0,s,t),o={scrollLeft:0,scrollTop:0},l=Cn(0);if(n||!n&&!s)if((Ks(t)!=="body"||to(i))&&(o=pu(t)),n){let f=mu(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else i&&(l.x=Sy(i));let u=i&&!n&&!s?kE(i,o):Cn(0),c=a.left+o.scrollLeft-l.x-u.x,d=a.top+o.scrollTop-l.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function ky(r){return an(r).position==="static"}function TE(r,t){if(!Mn(r)||an(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return Qn(r)===e&&(e=e.ownerDocument.body),e}function EE(r,t){let e=mr(r);if(fu(r))return e;if(!Mn(r)){let i=Di(r);for(;i&&!Qs(i);){if(sn(i)&&!ky(i))return i;i=Di(i)}return e}let n=TE(r,t);for(;n&&hE(n)&&ky(n);)n=TE(n,t);return n&&Qs(n)&&ky(n)&&!bd(n)?e:n||gE(r)||e}var z2=function(r){return L(this,null,function*(){let t=this.getOffsetParent||EE,e=this.getDimensions,n=yield e(r.floating);return{reference:V2(r.reference,yield t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function K2(r){return an(r).direction==="rtl"}var Q2={convertOffsetParentRelativeRectToViewportRelativeRect:j2,getDocumentElement:Qn,getClippingRect:G2,getOffsetParent:EE,getElementRects:z2,getClientRects:W2,getDimensions:B2,getScale:ro,isElement:sn,isRTL:K2};var Ey=cE;var Dy=dE,DE=uE,xE=fE;var xy=(r,t,e)=>{let n=new Map,i=U({platform:Q2},e),s=me(U({},i.platform),{_c:n});return lE(r,t,me(U({},i),{platform:s}))};Zg();function OE(r,t,e){let n=r.slice();return n[5]=t[e],n}function CE(r,t,e){let n=r.slice();n[40]=t[e],n[43]=e;let i=n[17](n[40].taskLocation.path);return n[41]=i,n}function ME(r){let t,e,n,i=r[10],s=[];for(let a=0;a<i.length;a+=1)s[a]=AE(CE(r,i,a));return{c(){t=ue("ul");for(let a=0;a<s.length;a+=1)s[a].c();B(t,"class","task-dependency-dropdown")},m(a,o){Ee(a,t,o);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(t,null);r[31](t),e||(n=We(t,"mouseleave",r[32]),e=!0)},p(a,o){if(o[0]&928832){i=a[10];let l;for(l=0;l<i.length;l+=1){let u=CE(a,i,l);s[l]?s[l].p(u,o):(s[l]=AE(u),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(a){a&&ve(t),Gs(s,a),r[31](null),e=!1,n()}}}function RE(r){let t,e=r[41]+"",n,i,s;function a(...o){return r[28](r[41],...o)}return{c(){t=ue("div"),n=Ve(e),B(t,"class","dependency-path")},m(o,l){Ee(o,t,l),z(t,n),i||(s=We(t,"mouseenter",a),i=!0)},p(o,l){r=o,l[0]&1024&&e!==(e=r[41]+"")&&rn(n,e)},d(o){o&&ve(t),i=!1,s()}}}function AE(r){let t,e,n,i=r[40].status.symbol+"",s,a,o=Us(r[40])+"",l,u,c,d,f,p;function b(...D){return r[27](r[40],...D)}let T=r[41]&&RE(r);function _(){return r[29](r[40])}function O(){return r[30](r[43])}return{c(){t=ue("li"),e=ue("div"),n=Ve("["),s=Ve(i),a=Ve("] "),l=Ve(o),c=De(),T&&T.c(),d=De(),B(e,"class",u=r[41]?"dependency-name-shared":"dependency-name"),Si(t,"selected",r[6]!==null&&r[43]===r[11])},m(D,A){Ee(D,t,A),z(t,e),z(e,n),z(e,s),z(e,a),z(e,l),z(t,c),T&&T.m(t,null),z(t,d),f||(p=[We(e,"mouseenter",b),We(t,"mousedown",_),We(t,"mouseenter",O)],f=!0)},p(D,A){r=D,A[0]&1024&&i!==(i=r[40].status.symbol+"")&&rn(s,i),A[0]&1024&&o!==(o=Us(r[40])+"")&&rn(l,o),A[0]&1024&&u!==(u=r[41]?"dependency-name-shared":"dependency-name")&&B(e,"class",u),r[41]?T?T.p(r,A):(T=RE(r),T.c(),T.m(t,d)):T&&(T.d(1),T=null),A[0]&2112&&Si(t,"selected",r[6]!==null&&r[43]===r[11])},d(D){D&&ve(t),T&&T.d(),f=!1,Gt(p)}}}function PE(r){let t,e=r[0][r[1]],n=[];for(let i=0;i<e.length;i+=1)n[i]=NE(OE(r,e,i));return{c(){t=ue("div");for(let i=0;i<n.length;i+=1)n[i].c();B(t,"class","task-dependencies-container results-dependency")},m(i,s){Ee(i,t,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null)},p(i,s){if(s[0]&802819){e=i[0][i[1]];let a;for(a=0;a<e.length;a+=1){let o=OE(i,e,a);n[a]?n[a].p(o,s):(n[a]=NE(o),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=e.length}},d(i){i&&ve(t),Gs(n,i)}}}function NE(r){let t,e,n,i=r[5].status.symbol+"",s,a,o=Us(r[5])+"",l,u,c,d,f,p;function b(){return r[33](r[5])}function T(..._){return r[34](r[5],..._)}return{c(){t=ue("div"),e=ue("span"),n=Ve("["),s=Ve(i),a=Ve("] "),l=Ve(o),u=De(),c=ue("button"),c.innerHTML='<svg style="display: block; margin: auto;" xmlns="http://www.w3.org/2000/svg" width="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>',d=De(),B(e,"class","task-dependency-name"),B(c,"type","button"),B(c,"class","task-dependency-delete"),B(t,"class","task-dependency")},m(_,O){Ee(_,t,O),z(t,e),z(e,n),z(e,s),z(e,a),z(e,l),z(t,u),z(t,c),z(t,d),f||(p=[We(c,"click",b),We(t,"mouseenter",T)],f=!0)},p(_,O){r=_,O[0]&3&&i!==(i=r[5].status.symbol+"")&&rn(s,i),O[0]&3&&o!==(o=Us(r[5])+"")&&rn(l,o)},d(_){_&&ve(t),f=!1,Gt(p)}}}function X2(r){let t,e=Ut(r[2],r[3])+"",n,i,s,a,o,l,u,c,d,f=r[10]&&r[10].length!==0&&ME(r),p=r[0][r[1]].length!==0&&PE(r);return{c(){t=ue("label"),n=De(),i=ue("span"),s=ue("input"),o=De(),f&&f.c(),l=De(),p&&p.c(),u=pd(),B(t,"for",r[1]),B(s,"accesskey",r[3]),B(s,"id",r[1]),B(s,"class","tasks-modal-dependency-input"),B(s,"type","text"),B(s,"placeholder",r[4]),Hs(()=>r[26].call(i))},m(b,T){Ee(b,t,T),t.innerHTML=e,Ee(b,n,T),Ee(b,i,T),z(i,s),r[22](s),dr(s,r[6]),a=ZS(i,r[26].bind(i)),Ee(b,o,T),f&&f.m(b,T),Ee(b,l,T),p&&p.m(b,T),Ee(b,u,T),c||(d=[We(s,"input",r[23]),We(s,"keydown",r[24]),We(s,"focus",r[16]),We(s,"blur",r[25])],c=!0)},p(b,T){T[0]&12&&e!==(e=Ut(b[2],b[3])+"")&&(t.innerHTML=e),T[0]&2&&B(t,"for",b[1]),T[0]&8&&B(s,"accesskey",b[3]),T[0]&2&&B(s,"id",b[1]),T[0]&16&&B(s,"placeholder",b[4]),T[0]&64&&s.value!==b[6]&&dr(s,b[6]),b[10]&&b[10].length!==0?f?f.p(b,T):(f=ME(b),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),b[0][b[1]].length!==0?p?p.p(b,T):(p=PE(b),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i:tt,o:tt,d(b){b&&ve(t),b&&ve(n),b&&ve(i),r[22](null),a(),b&&ve(o),f&&f.d(b),b&&ve(l),p&&p.d(b),b&&ve(u),c=!1,Gt(d)}}}function Z2(r,t,e){let{task:n}=t,{editableTask:i}=t,{allTasks:s}=t,{_onDescriptionKeyDown:a}=t,{type:o}=t,{labelText:l}=t,{accesskey:u}=t,{placeholder:c="Type to search..."}=t,d="",f=null,p=0,b,T=!1,_=!1,O,D;function A(E){e(0,i[o]=[...i[o],E],i),e(6,d=""),e(7,T=!1)}function j(E){e(0,i[o]=i[o].filter(P=>P!==E),i)}function Y(E){var P;if(f!==null){switch(E.key){case"ArrowUp":E.preventDefault(),!!p&&p>0?e(11,p-=1):e(11,p=f.length-1);break;case"ArrowDown":E.preventDefault(),!!p&&p<f.length-1?e(11,p+=1):e(11,p=0);break;case"Enter":if(E.isComposing)return;p!==null?(E.preventDefault(),A(f[p]),e(11,p=null),e(7,T=!1)):a(E);break;default:e(11,p=0);break}p&&((P=D==null?void 0:D.getElementsByTagName("li")[p])===null||P===void 0||P.scrollIntoView({block:"nearest"}))}}function se(E){return!E&&!_?[]:(_=!1,ed(E,s,n,i.blockedBy,i.blocking))}function H(){e(7,T=!0),_=!0}function Z(E,P){!E||!P||xy(E,P,{middleware:[Ey(6),Dy(),DE(),xE({apply(){P&&Object.assign(P.style,{width:`${b}px`})}})]}).then(({x:$,y:de})=>{P.style.left=`${$}px`,P.style.top=`${de}px`})}function ye(E){return E===n.taskLocation.path?"":E}function we(E){return Us(E)}function V(E,P){let $=E.createDiv();$.addClasses(["tooltip","pop-up"]),$.innerText=P,xy(E,$,{placement:"top",middleware:[Ey(-18),Dy()]}).then(({x:de,y:be})=>{$.style.left=`${de}px`,$.style.top=`${be}px`}),E.addEventListener("mouseleave",()=>$.remove())}function K(E){at[E?"unshift":"push"](()=>{O=E,e(8,O)})}function C(){d=this.value,e(6,d)}let J=E=>Y(E),q=()=>e(7,T=!1);function oe(){b=this.clientWidth,e(12,b)}let m=(E,P)=>V(P.currentTarget,we(E)),y=(E,P)=>V(P.currentTarget,E),v=E=>A(E),w=E=>e(11,p=E);function S(E){at[E?"unshift":"push"](()=>{D=E,e(9,D)})}let M=()=>e(11,p=null),I=E=>j(E),W=(E,P)=>V(P.currentTarget,we(E));return r.$$set=E=>{"task"in E&&e(5,n=E.task),"editableTask"in E&&e(0,i=E.editableTask),"allTasks"in E&&e(20,s=E.allTasks),"_onDescriptionKeyDown"in E&&e(21,a=E._onDescriptionKeyDown),"type"in E&&e(1,o=E.type),"labelText"in E&&e(2,l=E.labelText),"accesskey"in E&&e(3,u=E.accesskey),"placeholder"in E&&e(4,c=E.placeholder)},r.$$.update=()=>{if(r.$$.dirty[0]&768){e:Z(O,D)}if(r.$$.dirty[0]&192){e:e(10,f=T?se(d):null)}},[i,o,l,u,c,n,d,T,O,D,f,p,b,A,j,Y,H,ye,we,V,s,a,K,C,J,q,oe,m,y,v,w,S,M,I,W]}var Oy=class extends tn{constructor(t){super(),Kn(this,t,Z2,X2,zn,{task:5,editableTask:0,allTasks:20,_onDescriptionKeyDown:21,type:1,labelText:2,accesskey:3,placeholder:4},null,[-1,-1])}},Cy=Oy;Cr();Cs();su();var gu=require("obsidian");Cr();$s();dy();var hu,My,Ry,J2=["md"];function kd(){return nr.getLogger("tasks.File")}var IE=({metadataCache:r,vault:t,workspace:e})=>{hu=r,My=t,Ry=e},hr=e=>L(void 0,[e],function*({originalTask:r,newTasks:t}){if(My===void 0||hu===void 0||Ry===void 0){vd("Tasks: cannot use File before initializing it.");return}Array.isArray(t)||(t=[t]);let n=kd(),i="replaceTaskWithTasks()";ad(n,i,r),od(n,i,t),yield LE({originalTask:r,newTasks:t,vault:My,metadataCache:hu,workspace:Ry,previousTries:0})});function vd(r){console.error(r),new gu.Notice(r,15e3)}function FE(r){console.warn(r),new gu.Notice(r,1e4)}function eU(r){kd().debug(r)}var Vi=class extends Error{},wd=class extends Error{},LE=a=>L(void 0,[a],function*({originalTask:r,newTasks:t,vault:e,metadataCache:n,workspace:i,previousTries:s}){let o=kd();o.debug(`tryRepetitive after ${s} previous tries`);let l=()=>L(void 0,null,function*(){if(s>10){let c=`Tasks: Could not find the correct task line to update.

The task line not updated is:
${r.originalMarkdown}

In this markdown file:
"${r.taskLocation.path}"

Note: further clicks on this checkbox will usually now be ignored until the file is opened (or certain, specific edits are made - it's complicated).

Recommendations:

1. Close all panes that have the above file open, and then re-open the file.

2. Check for exactly identical copies of the task line, in this file, and see if you can make them different.
`;vd(c);return}let u=Math.min(Math.pow(10,s),100);o.debug(`timeout = ${u}`),setTimeout(()=>L(void 0,null,function*(){yield LE({originalTask:r,newTasks:t,vault:e,metadataCache:n,workspace:i,previousTries:s+1})}),u)});try{let[u,c,d]=yield UE(r,e),f=[...d.slice(0,u),...t.map(p=>p.toFileLineString()),...d.slice(u+1)];yield e.modify(c,f.join(`
`))}catch(u){if(u instanceof Vi){u.message&&FE(u.message),yield l();return}else if(u instanceof wd){yield l();return}else u instanceof Error&&vd(u.message)}});function UE(r,t){return L(this,null,function*(){if(hu===void 0)throw new Vi;let e=t.getAbstractFileByPath(r.path);if(!(e instanceof gu.TFile))throw new Vi(`Tasks: No file found for task ${r.description}. Retrying ...`);if(!J2.includes(e.extension))throw new Error(`Tasks: Does not support files with the ${e.extension} file extension.`);let n=hu.getFileCache(e);if(n==null||n===null)throw new Vi(`Tasks: No file cache found for file ${e.path}. Retrying ...`);let i=n.listItems;if(i===void 0||i.length===0)throw new Vi(`Tasks: No list items found in file cache of ${e.path}. Retrying ...`);let a=(yield t.read(e)).split(`
`),o=tU(r,a,i,eU);if(o===void 0)throw new wd;return[o,e,a]})}function Ay(r,t){return L(this,null,function*(){try{let[e,n,i]=yield UE(r,t);return[e,n]}catch(e){e instanceof Vi?e.message&&FE(e.message):e instanceof Error&&vd(e.message)}})}function jE(r,t){return r<t.length}function tU(r,t,e,n){let i=rU(r,t);return i!==void 0||(i=nU(r,t),i!==void 0)?i:iU(r,t,e,n)}function rU(r,t){let e=r.taskLocation.lineNumber;if(jE(e,t)&&t[e]===r.originalMarkdown)return kd().debug(`Found original markdown at original line number ${e}`),e}function nU(r,t){let e=[];for(let n=0;n<t.length;n++)t[n]===r.originalMarkdown&&e.push(n);if(e.length===1)return e[0]}function iU(r,t,e,n){let i,s=0;for(let a of e){let o=a.position.start.line;if(!jE(o,t))return;if(o<r.taskLocation.sectionStart||a.task===void 0)continue;let l=t[o];if(Fe.getInstance().includedIn(l)){if(s===r.taskLocation.sectionIndex){if(l===r.originalMarkdown)i=o;else{n(`Tasks: Unable to find task in file ${r.taskLocation.path}.
Expected task:
${r.originalMarkdown}
Found task:
${l}`);return}break}s++}}return i}Nc();Wa();Vc();Nt();Jc();Jr();var no=class{constructor(t){this.addGlobalFilterOnSave=t.addGlobalFilterOnSave,this.originalBlocking=t.originalBlocking,this.description=t.description,this.status=t.status,this.priority=t.priority,this.onCompletion=t.onCompletion,this.recurrenceRule=t.recurrenceRule,this.createdDate=t.createdDate,this.startDate=t.startDate,this.scheduledDate=t.scheduledDate,this.dueDate=t.dueDate,this.doneDate=t.doneDate,this.cancelledDate=t.cancelledDate,this.forwardOnly=t.forwardOnly,this.blockedBy=t.blockedBy,this.blocking=t.blocking}static fromTask(t,e){let n=Fe.getInstance().removeAsWordFrom(t.description),i=n!=t.description||!Fe.getInstance().includedIn(t.description),s="none";t.priority==="5"?s="lowest":t.priority==="4"?s="low":t.priority==="2"?s="medium":t.priority==="1"?s="high":t.priority==="0"&&(s="highest");let a=[];for(let l of t.dependsOn){let u=e.find(c=>c.id===l);!u||a.push(u)}let o=e.filter(l=>l.dependsOn.includes(t.id));return new no({addGlobalFilterOnSave:i,originalBlocking:o,description:n,status:t.status,priority:s,recurrenceRule:t.recurrence?t.recurrence.toText():"",onCompletion:t.onCompletion,createdDate:t.created.formatAsDate(),startDate:t.start.formatAsDate(),scheduledDate:t.scheduled.formatAsDate(),dueDate:t.due.formatAsDate(),doneDate:t.done.formatAsDate(),cancelledDate:t.cancelled.formatAsDate(),forwardOnly:!0,blockedBy:a,blocking:o})}applyEdits(t,e){return L(this,null,function*(){let n=this.description.trim();this.addGlobalFilterOnSave&&(n=Fe.getInstance().prependTo(n));let i=Os(this.startDate,this.forwardOnly),s=Os(this.scheduledDate,this.forwardOnly),a=Os(this.dueDate,this.forwardOnly),o=Os(this.cancelledDate,this.forwardOnly),l=Os(this.createdDate,this.forwardOnly),u=Os(this.doneDate,this.forwardOnly),c=null;this.recurrenceRule&&(c=Et.fromText({recurrenceRuleText:this.recurrenceRule,occurrence:new Kr({startDate:i,scheduledDate:s,dueDate:a})}));let d=this.onCompletion,f=[];for(let D of this.blockedBy){let A=yield sU(D,e);f.push(A)}let p=t.id,b=[],T=[];(this.blocking.toString()!==this.originalBlocking.toString()||this.blocking.length!==0)&&(t.id===""&&(p=nu(e.filter(D=>D.id!=="").map(D=>D.id))),b=this.originalBlocking.filter(D=>!this.blocking.includes(D)),T=this.blocking.filter(D=>!this.originalBlocking.includes(D)));let _=new fe(me(U({},t),{description:n,status:t.status,priority:Mr.priorityValue(this.priority),onCompletion:d,recurrence:c,startDate:i,scheduledDate:s,dueDate:a,doneDate:u,createdDate:l,cancelledDate:o,dependsOn:f.map(D=>D.id),id:p}));for(let D of b){let A=wS(D,_);yield hr({originalTask:D,newTasks:A})}for(let D of T){let A=vS(D,_);yield hr({originalTask:D,newTasks:A})}let O=this.inferTodaysDate(this.status.type,u,o);return _.handleNewStatusWithRecurrenceInUsersOrder(this.status,O)})}inferTodaysDate(t,e,n){return t==="DONE"&&e!==null?e:t==="CANCELLED"&&n!==null?n:window.moment()}parseAndValidateRecurrence(){var e;if(!this.recurrenceRule)return{parsedRecurrence:"<i>not recurring</>",isRecurrenceValid:!0};let t=(e=Et.fromText({recurrenceRuleText:this.recurrenceRule,occurrence:new Kr({startDate:null,scheduledDate:null,dueDate:null})}))==null?void 0:e.toText();return t?this.startDate||this.scheduledDate||this.dueDate?{parsedRecurrence:t,isRecurrenceValid:!0}:{parsedRecurrence:"<i>due, scheduled or start date required</i>",isRecurrenceValid:!1}:{parsedRecurrence:"<i>invalid recurrence rule</i>",isRecurrenceValid:!1}}};function sU(r,t){return L(this,null,function*(){if(r.id!=="")return r;let e=t.filter(i=>i.id!==""),n=Zc(r,e.map(i=>i.id));return yield hr({originalTask:r,newTasks:n}),n})}rr();function aU(r){let t,e=Ut("Recurs",r[2])+"",n,i,s,a,o,l,u,c,d;return{c(){t=ue("label"),n=De(),i=ue("input"),s=De(),a=ue("code"),o=Ve(r[4]),l=De(),u=new Xa(!1),B(t,"for","recurrence"),B(i,"id","recurrence"),B(i,"type","text"),B(i,"class","tasks-modal-date-input"),B(i,"placeholder","Try 'every day when done'"),B(i,"accesskey",r[2]),Si(i,"tasks-modal-error",!r[1]),u.a=null,B(a,"class","tasks-modal-parsed-date")},m(f,p){Ee(f,t,p),t.innerHTML=e,Ee(f,n,p),Ee(f,i,p),dr(i,r[0].recurrenceRule),Ee(f,s,p),Ee(f,a,p),z(a,o),z(a,l),u.m(r[3],a),c||(d=We(i,"input",r[5]),c=!0)},p(f,[p]){p&4&&e!==(e=Ut("Recurs",f[2])+"")&&(t.innerHTML=e),p&4&&B(i,"accesskey",f[2]),p&1&&i.value!==f[0].recurrenceRule&&dr(i,f[0].recurrenceRule),p&2&&Si(i,"tasks-modal-error",!f[1]),p&8&&u.p(f[3])},i:tt,o:tt,d(f){f&&ve(t),f&&ve(n),f&&ve(i),f&&ve(s),f&&ve(a),c=!1,d()}}}function oU(r,t,e){let{editableTask:n}=t,{isRecurrenceValid:i}=t,{accesskey:s}=t,a,{recurrenceSymbol:o}=En.tasksPluginEmoji.taskSerializer.symbols;function l(){n.recurrenceRule=this.value,e(0,n)}return r.$$set=u=>{"editableTask"in u&&e(0,n=u.editableTask),"isRecurrenceValid"in u&&e(1,i=u.isRecurrenceValid),"accesskey"in u&&e(2,s=u.accesskey)},r.$$.update=()=>{if(r.$$.dirty&1){e:e(3,{parsedRecurrence:a,isRecurrenceValid:i}=n.parseAndValidateRecurrence(),a,(e(1,i),e(0,n)))}},[n,i,s,a,o,l]}var Py=class extends tn{constructor(t){super(),Kn(this,t,oU,aU,zn,{editableTask:0,isRecurrenceValid:1,accesskey:2})}},WE=Py;function $E(r,t,e){let n=r.slice();return n[7]=t[e],n}function qE(r){let t,e=r[7].name+"",n,i,s=r[7].symbol+"",a,o,l;return{c(){t=ue("option"),n=Ve(e),i=Ve(" ["),a=Ve(s),o=Ve("]"),t.__value=l=r[7].symbol,t.value=t.__value},m(u,c){Ee(u,t,c),z(t,n),z(t,i),z(t,a),z(t,o)},p(u,c){c&1&&e!==(e=u[7].name+"")&&rn(n,e),c&1&&s!==(s=u[7].symbol+"")&&rn(a,s),c&1&&l!==(l=u[7].symbol)&&(t.__value=l,t.value=t.__value)},d(u){u&&ve(t)}}}function lU(r){let t,e=Ut("Status",r[1])+"",n,i,s,a,o=r[0],l=[];for(let u=0;u<o.length;u+=1)l[u]=qE($E(r,o,u));return{c(){t=ue("label"),n=De(),i=ue("select");for(let u=0;u<l.length;u+=1)l[u].c();B(t,"for","status"),B(i,"id","status-type"),B(i,"class","status-editor-status-selector"),B(i,"accesskey",r[1]),r[2]===void 0&&Hs(()=>r[6].call(i))},m(u,c){Ee(u,t,c),t.innerHTML=e,Ee(u,n,c),Ee(u,i,c);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(i,null);gy(i,r[2],!0),s||(a=[We(i,"change",r[6]),We(i,"change",r[3])],s=!0)},p(u,[c]){if(c&2&&e!==(e=Ut("Status",u[1])+"")&&(t.innerHTML=e),c&1){o=u[0];let d;for(d=0;d<o.length;d+=1){let f=$E(u,o,d);l[d]?l[d].p(f,c):(l[d]=qE(f),l[d].c(),l[d].m(i,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=o.length}c&2&&B(i,"accesskey",u[1]),c&5&&gy(i,u[2])},i:tt,o:tt,d(u){u&&ve(t),u&&ve(n),u&&ve(i),Gs(l,u),s=!1,Gt(a)}}}function YE(r,t,e){let n=r==="";return t&&n?e.formatAsDate():!t&&!n?"":r}function uU(r,t,e){let{task:n}=t,{editableTask:i}=t,{statusOptions:s}=t,{accesskey:a}=t,o=n.status.symbol,l=()=>{let c=s.find(f=>f.symbol===o);if(c)e(4,i.status=c,i);else{console.log(`Error in EditTask: cannot find status with symbol ${o}`);return}let d=n.handleNewStatus(c).pop();d&&(e(4,i.doneDate=YE(i.doneDate,c.isCompleted(),d.done),i),e(4,i.cancelledDate=YE(i.cancelledDate,c.isCancelled(),d.cancelled),i))};function u(){o=XS(this),e(2,o),e(0,s)}return r.$$set=c=>{"task"in c&&e(5,n=c.task),"editableTask"in c&&e(4,i=c.editableTask),"statusOptions"in c&&e(0,s=c.statusOptions),"accesskey"in c&&e(1,a=c.accesskey)},[s,a,o,l,i,n,u]}var Ny=class extends tn{constructor(t){super(),Kn(this,t,uU,lU,zn,{task:5,editableTask:4,statusOptions:0,accesskey:1})}},HE=Ny;function GE(r,t,e){let n=r.slice();return n[49]=t[e].value,n[50]=t[e].label,n[51]=t[e].symbol,n[52]=t[e].accessKey,n[53]=t[e].accessKeyIndex,n}function cU(r){let t,e=r[50]+"",n;return{c(){t=ue("span"),n=Ve(e)},m(i,s){Ee(i,t,s),z(t,n)},p:tt,d(i){i&&ve(t)}}}function dU(r){let t,e=r[50].substring(0,r[53])+"",n,i,s=r[50].substring(r[53],r[53]+1)+"",a,o,l=r[50].substring(r[53]+1)+"",u;return{c(){t=ue("span"),n=Ve(e),i=ue("span"),a=Ve(s),o=ue("span"),u=Ve(l),B(i,"class","accesskey")},m(c,d){Ee(c,t,d),z(t,n),Ee(c,i,d),z(i,a),Ee(c,o,d),z(o,u)},p:tt,d(c){c&&ve(t),c&&ve(i),c&&ve(o)}}}function fU(r){let t,e=r[51]+"",n;return{c(){t=ue("span"),n=Ve(e)},m(i,s){Ee(i,t,s),z(t,n)},p:tt,d(i){i&&ve(t)}}}function BE(r){let t,e,n,i,s,a,o,l,u=r[51]&&r[51].charCodeAt(0)>=256,c,d,f,p,b;function T(A,j){return A[11]?dU:cU}let _=T(r,[-1,-1]),O=_(r),D=u&&fU(r);return f=QS(r[32][0]),{c(){t=ue("div"),e=ue("input"),a=De(),o=ue("label"),O.c(),l=De(),D&&D.c(),d=De(),B(e,"type","radio"),B(e,"id",n="priority-"+r[49]),e.__value=i=r[49],e.value=e.__value,B(e,"accesskey",s=r[15](r[52])),B(o,"for",c="priority-"+r[49]),B(t,"class","task-modal-priority-option-container"),f.p(e)},m(A,j){Ee(A,t,j),z(t,e),e.checked=e.__value===r[3].priority,z(t,a),z(t,o),O.m(o,null),z(o,l),D&&D.m(o,null),z(t,d),p||(b=We(e,"change",r[31]),p=!0)},p(A,j){j[0]&32768&&s!==(s=A[15](A[52]))&&B(e,"accesskey",s),j[0]&8&&(e.checked=e.__value===A[3].priority),_===(_=T(A,j))&&O?O.p(A,j):(O.d(1),O=_(A),O&&(O.c(),O.m(o,l))),u&&D.p(A,j)},d(A){A&&ve(t),O.d(),D&&D.d(),f.r(),p=!1,b()}}}function pU(r){let t;return{c(){t=ue("div"),t.innerHTML="<i>Blocking and blocked by fields are disabled when vault tasks is empty</i>"},m(e,n){Ee(e,t,n)},p:tt,i:tt,o:tt,d(e){e&&ve(t)}}}function mU(r){let t,e,n,i;return t=new Cy({props:{type:"blockedBy",labelText:"Before this",task:r[0],editableTask:r[3],allTasks:r[2],_onDescriptionKeyDown:r[24],accesskey:r[15]("b"),placeholder:"Search for tasks that the task being edited depends on..."}}),n=new Cy({props:{type:"blocking",labelText:"After this",task:r[0],editableTask:r[3],allTasks:r[2],_onDescriptionKeyDown:r[24],accesskey:r[15]("e"),placeholder:"Search for tasks that depend on this task being done..."}}),{c(){On(t.$$.fragment),e=De(),On(n.$$.fragment)},m(s,a){nn(t,s,a),Ee(s,e,a),nn(n,s,a),i=!0},p(s,a){let o={};a[0]&1&&(o.task=s[0]),a[0]&8&&(o.editableTask=s[3]),a[0]&4&&(o.allTasks=s[2]),a[0]&32768&&(o.accesskey=s[15]("b")),t.$set(o);let l={};a[0]&1&&(l.task=s[0]),a[0]&8&&(l.editableTask=s[3]),a[0]&4&&(l.allTasks=s[2]),a[0]&32768&&(l.accesskey=s[15]("e")),n.$set(l)},i(s){i||(fr(t.$$.fragment,s),fr(n.$$.fragment,s),i=!0)},o(s){Rr(t.$$.fragment,s),Rr(n.$$.fragment,s),i=!1},d(s){Ar(t,s),s&&ve(e),Ar(n,s)}}}function hU(r){let t,e,n,i=Ut("Description",r[15]("t"))+"",s,a,o,l,u,c,d,f,p,b,T,_,O,D,A,j,Y,se,H,Z,ye,we,V,K,C,J,q,oe,m,y,v=Ut("Only future dates:",r[15]("f"))+"",w,S,M,I,W,E,P,$,de,be,xe,He,Le,jt,fn,vr,ee,Wt,it,us,pn,Mo,oa,la,Lr,Ri,Ro,Ao,Ai,Fn,Au,ua,Po,cs,Ur,Xe,ca,Ln=r[22],xt=[];for(let F=0;F<Ln.length;F+=1)xt[F]=BE(GE(r,Ln,F));function da(F){r[33](F)}let fa={editableTask:r[3],accesskey:r[15]("r")};r[10]!==void 0&&(fa.isRecurrenceValid=r[10]),D=new WE({props:fa}),at.push(()=>sr(D,"isRecurrenceValid",da));function mn(F){r[34](F)}function Cf(F){r[35](F)}let No={id:"due",dateSymbol:r[18],forwardOnly:r[3].forwardOnly,accesskey:r[15]("d")};r[3].dueDate!==void 0&&(No.date=r[3].dueDate),r[7]!==void 0&&(No.isDateValid=r[7]),Y=new Bs({props:No}),at.push(()=>sr(Y,"date",mn)),at.push(()=>sr(Y,"isDateValid",Cf));function h(F){r[36](F)}function g(F){r[37](F)}let k={id:"scheduled",dateSymbol:r[17],forwardOnly:r[3].forwardOnly,accesskey:r[15]("s")};r[3].scheduledDate!==void 0&&(k.date=r[3].scheduledDate),r[8]!==void 0&&(k.isDateValid=r[8]),ye=new Bs({props:k}),at.push(()=>sr(ye,"date",h)),at.push(()=>sr(ye,"isDateValid",g));function R(F){r[38](F)}function G(F){r[39](F)}let X={id:"start",dateSymbol:r[16],forwardOnly:r[3].forwardOnly,accesskey:r[15]("a")};r[3].startDate!==void 0&&(X.date=r[3].startDate),r[9]!==void 0&&(X.isDateValid=r[9]),C=new Bs({props:X}),at.push(()=>sr(C,"date",R)),at.push(()=>sr(C,"isDateValid",G));let _e=[mU,pU],te=[];function Oe(F,he){return F[2].length>0&&F[14]?0:1}$=Oe(r,[-1,-1]),de=te[$]=_e[$](r);function ie(F){r[41](F)}let pe={task:r[0],statusOptions:r[1],accesskey:r[15]("u")};r[3]!==void 0&&(pe.editableTask=r[3]),jt=new HE({props:pe}),at.push(()=>sr(jt,"editableTask",ie));function ze(F){r[42](F)}function jr(F){r[43](F)}let Ot={id:"created",dateSymbol:r[20],forwardOnly:r[3].forwardOnly,accesskey:r[15]("c")};r[3].createdDate!==void 0&&(Ot.date=r[3].createdDate),r[5]!==void 0&&(Ot.isDateValid=r[5]),ee=new Bs({props:Ot}),at.push(()=>sr(ee,"date",ze)),at.push(()=>sr(ee,"isDateValid",jr));function ds(F){r[44](F)}function Pi(F){r[45](F)}let Io={id:"done",dateSymbol:r[21],forwardOnly:r[3].forwardOnly,accesskey:r[15]("x")};r[3].doneDate!==void 0&&(Io.date=r[3].doneDate),r[6]!==void 0&&(Io.isDateValid=r[6]),pn=new Bs({props:Io}),at.push(()=>sr(pn,"date",ds)),at.push(()=>sr(pn,"isDateValid",Pi));function Fo(F){r[46](F)}function Mf(F){r[47](F)}let Lo={id:"cancelled",dateSymbol:r[19],forwardOnly:r[3].forwardOnly,accesskey:r[15]("-")};return r[3].cancelledDate!==void 0&&(Lo.date=r[3].cancelledDate),r[4]!==void 0&&(Lo.isDateValid=r[4]),Lr=new Bs({props:Lo}),at.push(()=>sr(Lr,"date",Fo)),at.push(()=>sr(Lr,"isDateValid",Mf)),{c(){t=ue("form"),e=ue("section"),n=ue("label"),s=De(),a=ue("textarea"),l=De(),u=ue("section"),c=ue("label"),d=Ve("Priority"),p=De();for(let F=0;F<xt.length;F+=1)xt[F].c();b=De(),T=ue("hr"),_=De(),O=ue("section"),On(D.$$.fragment),j=De(),On(Y.$$.fragment),Z=De(),On(ye.$$.fragment),K=De(),On(C.$$.fragment),oe=De(),m=ue("div"),y=ue("label"),w=De(),S=ue("input"),I=De(),W=ue("hr"),E=De(),P=ue("section"),de.c(),be=De(),xe=ue("hr"),He=De(),Le=ue("section"),On(jt.$$.fragment),vr=De(),On(ee.$$.fragment),us=De(),On(pn.$$.fragment),la=De(),On(Lr.$$.fragment),Ao=De(),Ai=ue("section"),Fn=ue("button"),Au=Ve("Apply"),Po=De(),cs=ue("button"),cs.textContent="Cancel",B(n,"for","description"),B(a,"id","description"),B(a,"class","tasks-modal-description"),B(a,"placeholder","Take out the trash"),B(a,"accesskey",o=r[15]("t")),B(e,"class","tasks-modal-description-section"),B(c,"for",f="priority-"+r[3].priority),B(u,"class","tasks-modal-priority-section"),B(y,"for","forwardOnly"),B(S,"id","forwardOnly"),B(S,"type","checkbox"),B(S,"class","task-list-item-checkbox tasks-modal-checkbox"),B(S,"accesskey",M=r[15]("f")),B(m,"class","future-dates-only"),B(O,"class","tasks-modal-dates-section"),B(P,"class","tasks-modal-dependencies-section"),B(Le,"class","tasks-modal-dates-section"),Fn.disabled=ua=!r[13],B(Fn,"type","submit"),B(Fn,"class","mod-cta"),B(cs,"type","button"),B(Ai,"class","tasks-modal-button-section"),B(t,"class","tasks-modal")},m(F,he){Ee(F,t,he),z(t,e),z(e,n),n.innerHTML=i,z(e,s),z(e,a),dr(a,r[3].description),r[30](a),z(t,l),z(t,u),z(u,c),z(c,d),z(u,p);for(let hn=0;hn<xt.length;hn+=1)xt[hn]&&xt[hn].m(u,null);z(t,b),z(t,T),z(t,_),z(t,O),nn(D,O,null),z(O,j),nn(Y,O,null),z(O,Z),nn(ye,O,null),z(O,K),nn(C,O,null),z(O,oe),z(O,m),z(m,y),y.innerHTML=v,z(m,w),z(m,S),S.checked=r[3].forwardOnly,z(t,I),z(t,W),z(t,E),z(t,P),te[$].m(P,null),z(t,be),z(t,xe),z(t,He),z(t,Le),nn(jt,Le,null),z(Le,vr),nn(ee,Le,null),z(Le,us),nn(pn,Le,null),z(Le,la),nn(Lr,Le,null),z(t,Ao),z(t,Ai),z(Ai,Fn),z(Fn,Au),z(Ai,Po),z(Ai,cs),Ur=!0,Xe||(ca=[We(a,"input",r[29]),We(a,"keydown",r[24]),We(a,"paste",r[25]),We(a,"drop",r[25]),We(S,"change",r[40]),We(cs,"click",r[23]),We(t,"submit",KS(r[26]))],Xe=!0)},p(F,he){if((!Ur||he[0]&32768)&&i!==(i=Ut("Description",F[15]("t"))+"")&&(n.innerHTML=i),(!Ur||he[0]&32768&&o!==(o=F[15]("t")))&&B(a,"accesskey",o),he[0]&8&&dr(a,F[3].description),(!Ur||he[0]&8&&f!==(f="priority-"+F[3].priority))&&B(c,"for",f),he[0]&4229128){Ln=F[22];let Wr;for(Wr=0;Wr<Ln.length;Wr+=1){let Tb=GE(F,Ln,Wr);xt[Wr]?xt[Wr].p(Tb,he):(xt[Wr]=BE(Tb),xt[Wr].c(),xt[Wr].m(u,null))}for(;Wr<xt.length;Wr+=1)xt[Wr].d(1);xt.length=Ln.length}let hn={};he[0]&8&&(hn.editableTask=F[3]),he[0]&32768&&(hn.accesskey=F[15]("r")),!A&&he[0]&1024&&(A=!0,hn.isRecurrenceValid=F[10],ir(()=>A=!1)),D.$set(hn);let fs={};he[0]&8&&(fs.forwardOnly=F[3].forwardOnly),he[0]&32768&&(fs.accesskey=F[15]("d")),!se&&he[0]&8&&(se=!0,fs.date=F[3].dueDate,ir(()=>se=!1)),!H&&he[0]&128&&(H=!0,fs.isDateValid=F[7],ir(()=>H=!1)),Y.$set(fs);let ps={};he[0]&8&&(ps.forwardOnly=F[3].forwardOnly),he[0]&32768&&(ps.accesskey=F[15]("s")),!we&&he[0]&8&&(we=!0,ps.date=F[3].scheduledDate,ir(()=>we=!1)),!V&&he[0]&256&&(V=!0,ps.isDateValid=F[8],ir(()=>V=!1)),ye.$set(ps);let ms={};he[0]&8&&(ms.forwardOnly=F[3].forwardOnly),he[0]&32768&&(ms.accesskey=F[15]("a")),!J&&he[0]&8&&(J=!0,ms.date=F[3].startDate,ir(()=>J=!1)),!q&&he[0]&512&&(q=!0,ms.isDateValid=F[9],ir(()=>q=!1)),C.$set(ms),(!Ur||he[0]&32768)&&v!==(v=Ut("Only future dates:",F[15]("f"))+"")&&(y.innerHTML=v),(!Ur||he[0]&32768&&M!==(M=F[15]("f")))&&B(S,"accesskey",M),he[0]&8&&(S.checked=F[3].forwardOnly);let Rf=$;$=Oe(F,he),$===Rf?te[$].p(F,he):(eE(),Rr(te[Rf],1,1,()=>{te[Rf]=null}),tE(),de=te[$],de?de.p(F,he):(de=te[$]=_e[$](F),de.c()),fr(de,1),de.m(P,null));let Uo={};he[0]&1&&(Uo.task=F[0]),he[0]&2&&(Uo.statusOptions=F[1]),he[0]&32768&&(Uo.accesskey=F[15]("u")),!fn&&he[0]&8&&(fn=!0,Uo.editableTask=F[3],ir(()=>fn=!1)),jt.$set(Uo);let jo={};he[0]&8&&(jo.forwardOnly=F[3].forwardOnly),he[0]&32768&&(jo.accesskey=F[15]("c")),!Wt&&he[0]&8&&(Wt=!0,jo.date=F[3].createdDate,ir(()=>Wt=!1)),!it&&he[0]&32&&(it=!0,jo.isDateValid=F[5],ir(()=>it=!1)),ee.$set(jo);let Wo={};he[0]&8&&(Wo.forwardOnly=F[3].forwardOnly),he[0]&32768&&(Wo.accesskey=F[15]("x")),!Mo&&he[0]&8&&(Mo=!0,Wo.date=F[3].doneDate,ir(()=>Mo=!1)),!oa&&he[0]&64&&(oa=!0,Wo.isDateValid=F[6],ir(()=>oa=!1)),pn.$set(Wo);let $o={};he[0]&8&&($o.forwardOnly=F[3].forwardOnly),he[0]&32768&&($o.accesskey=F[15]("-")),!Ri&&he[0]&8&&(Ri=!0,$o.date=F[3].cancelledDate,ir(()=>Ri=!1)),!Ro&&he[0]&16&&(Ro=!0,$o.isDateValid=F[4],ir(()=>Ro=!1)),Lr.$set($o),(!Ur||he[0]&8192&&ua!==(ua=!F[13]))&&(Fn.disabled=ua)},i(F){Ur||(fr(D.$$.fragment,F),fr(Y.$$.fragment,F),fr(ye.$$.fragment,F),fr(C.$$.fragment,F),fr(de),fr(jt.$$.fragment,F),fr(ee.$$.fragment,F),fr(pn.$$.fragment,F),fr(Lr.$$.fragment,F),Ur=!0)},o(F){Rr(D.$$.fragment,F),Rr(Y.$$.fragment,F),Rr(ye.$$.fragment,F),Rr(C.$$.fragment,F),Rr(de),Rr(jt.$$.fragment,F),Rr(ee.$$.fragment,F),Rr(pn.$$.fragment,F),Rr(Lr.$$.fragment,F),Ur=!1},d(F){F&&ve(t),r[30](null),Gs(xt,F),Ar(D),Ar(Y),Ar(ye),Ar(C),te[$].d(),Ar(jt),Ar(ee),Ar(pn),Ar(Lr),Xe=!1,Gt(ca)}}}function gU(r,t,e){let n,{task:i}=t,{onSubmit:s}=t,{statusOptions:a}=t,{allTasks:o}=t,{prioritySymbols:l,startDateSymbol:u,scheduledDateSymbol:c,dueDateSymbol:d,cancelledDateSymbol:f,createdDateSymbol:p,doneDateSymbol:b}=En.tasksPluginEmoji.taskSerializer.symbols,T,_=no.fromTask(i,o),O=!0,D=!0,A=!0,j=!0,Y=!0,se=!0,H=!0,Z=!0,ye=!0,we=!0,V=!1,K=[{value:"lowest",label:"Lowest",symbol:l.Lowest,accessKey:"o",accessKeyIndex:1},{value:"low",label:"Low",symbol:l.Low,accessKey:"l",accessKeyIndex:0},{value:"none",label:"Normal",symbol:l.None,accessKey:"n",accessKeyIndex:0},{value:"medium",label:"Medium",symbol:l.Medium,accessKey:"m",accessKeyIndex:0},{value:"high",label:"High",symbol:l.High,accessKey:"h",accessKeyIndex:0},{value:"highest",label:"Highest",symbol:l.Highest,accessKey:"i",accessKeyIndex:1}];yy(()=>{let{provideAccessKeys:ee}=le();e(11,ye=ee),e(14,V=!0),setTimeout(()=>{T.focus()},10)});let C=()=>{s([])},J=ee=>{ee.key==="Enter"&&!ee.isComposing&&(ee.preventDefault(),we&&oe())},q=()=>{setTimeout(()=>{e(3,_.description=_.description.replace(/[\r\n]+/g," "),_)},0)},oe=()=>rE(void 0,void 0,void 0,function*(){let ee=yield _.applyEdits(i,o);s(ee)}),m=[[]];function y(){_.description=this.value,e(3,_)}function v(ee){at[ee?"unshift":"push"](()=>{T=ee,e(12,T)})}function w(){_.priority=this.__value,e(3,_)}function S(ee){Z=ee,e(10,Z)}function M(ee){r.$$.not_equal(_.dueDate,ee)&&(_.dueDate=ee,e(3,_))}function I(ee){Y=ee,e(7,Y)}function W(ee){r.$$.not_equal(_.scheduledDate,ee)&&(_.scheduledDate=ee,e(3,_))}function E(ee){se=ee,e(8,se)}function P(ee){r.$$.not_equal(_.startDate,ee)&&(_.startDate=ee,e(3,_))}function $(ee){H=ee,e(9,H)}function de(){_.forwardOnly=this.checked,e(3,_)}function be(ee){_=ee,e(3,_)}function xe(ee){r.$$.not_equal(_.createdDate,ee)&&(_.createdDate=ee,e(3,_))}function He(ee){A=ee,e(5,A)}function Le(ee){r.$$.not_equal(_.doneDate,ee)&&(_.doneDate=ee,e(3,_))}function jt(ee){j=ee,e(6,j)}function fn(ee){r.$$.not_equal(_.cancelledDate,ee)&&(_.cancelledDate=ee,e(3,_))}function vr(ee){D=ee,e(4,D)}return r.$$set=ee=>{"task"in ee&&e(0,i=ee.task),"onSubmit"in ee&&e(27,s=ee.onSubmit),"statusOptions"in ee&&e(1,a=ee.statusOptions),"allTasks"in ee&&e(2,o=ee.allTasks)},r.$$.update=()=>{if(r.$$.dirty[0]&2048){e:e(15,n=ee=>ye?ee:null)}if(r.$$.dirty[0]&8){e:e(28,O=_.description.trim()!=="")}if(r.$$.dirty[0]&268437488){e:e(13,we=Y&&Z&&se&&H&&O&&D&&A&&j)}},[i,a,o,_,D,A,j,Y,se,H,Z,ye,T,we,V,n,u,c,d,f,p,b,K,C,J,q,oe,s,O,y,v,w,m,S,M,I,W,E,P,$,de,be,xe,He,Le,jt,fn,vr]}var Iy=class extends tn{constructor(t){super(),Kn(this,t,gU,hU,zn,{task:0,onSubmit:27,statusOptions:1,allTasks:2},null,[-1,-1])}},VE=Iy;wi();Sn();var zi=class extends zE.Modal{constructor({app:e,task:n,onSubmit:i,allTasks:s}){super(e);this.task=n,this.allTasks=s,this.onSubmit=a=>{a.length&&i(a),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task"),this.modalEl.style.paddingBottom="0";let{contentEl:e}=this;this.contentEl.style.paddingBottom="0";let n=this.getKnownStatusesAndCurrentTaskStatusIfNotKnown();new VE({target:e,props:{task:this.task,statusOptions:n,onSubmit:this.onSubmit,allTasks:this.allTasks}})}getKnownStatusesAndCurrentTaskStatusIfNotKnown(){let e=Be.getInstance().registeredStatuses;return Be.getInstance().bySymbol(this.task.status.symbol)===ge.EMPTY&&e.push(this.task.status),e}onClose(){let{contentEl:e}=this;e.empty()}};Gi();Sn();Kc();Nt();Gi();wi();rr();Cr();Wa();ii();function yU(){let{setCreatedDate:r}=le();return r?window.moment():null}function bU(r){let{setCreatedDate:t}=le();if(!t||r.createdDate!==null)return!1;let e=r.description==="",n=!Fe.getInstance().isEmpty(),i=!Fe.getInstance().includedIn(r.description);return e||n&&i}var Sd=({line:r,path:t})=>{var f,p;let e=fe.parseTaskSignifiers(r,Lt.fromUnknownPosition(new mt(t)),Ft.fromPath(t)),n=yU();if(e!==null)return bU(e)?new fe(me(U({},e),{createdDate:n})):e;let i=r.match(ce.nonTaskRegex);if(i===null)return console.error("Tasks: Cannot create task on line:",r),new fe({status:ge.TODO,description:"",taskLocation:Lt.fromUnknownPosition(new mt(t)),indentation:"",listMarker:"-",priority:"3",createdDate:n,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,cancelledDate:null,recurrence:null,onCompletion:"",dependsOn:[],id:"",blockLink:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1});let s=i[1],a=(f=i[2])!=null?f:"-",o=(p=i[4])!=null?p:" ",l=Be.getInstance().bySymbolOrCreate(o),u=i[5],c=r.match(ce.blockLinkRegex),d=c!==null?c[0]:"";return d!==""&&(u=u.replace(ce.blockLinkRegex,"")),new fe({status:l,description:u,taskLocation:Lt.fromUnknownPosition(new mt(t)),indentation:s,listMarker:a,blockLink:d,priority:"3",createdDate:n,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,cancelledDate:null,recurrence:null,onCompletion:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1,id:"",dependsOn:[]})};var KE=(r,t,e,n,i)=>{var f;if(r)return e instanceof Fy.MarkdownView;if(!(e instanceof Fy.MarkdownView))return;let s=(f=e.file)==null?void 0:f.path;if(s===void 0)return;let o=t.getCursor().line,l=t.getLine(o),u=Sd({line:l,path:s}),c=p=>{let b=Ft.removeInferredStatusIfNeeded(u,p).map(T=>T.toFileLineString()).join(`
`);t.setLine(o,b)};new zi({app:n,task:u,onSubmit:c,allTasks:i}).open()};var Ly=require("obsidian");wi();Nt();ii();var QE=(r,t,e)=>{var l;if(r)return e instanceof Ly.MarkdownView;if(!(e instanceof Ly.MarkdownView))return;let n=(l=e.file)==null?void 0:l.path;if(n===void 0)return;let i=t.getCursor(),s=i.line,a=t.getLine(s),o=Uy(a,n);t.setLine(s,o.text),t.setCursor(TU(i,o))},Uy=(r,t)=>{let e=fe.fromLine({line:r,taskLocation:Lt.fromUnknownPosition(new mt(t)),fallbackDate:null});if(e!==null){let n=e.toggleWithRecurrenceInUsersOrder().map(s=>s.toFileLineString()),i=n.length>0?n.length-1:0;return{text:n.join(`
`),moveTo:{line:i}}}else{let n=r.match(ce.taskRegex);if(n!==null){let i=n[3],a=Be.getInstance().bySymbol(i).nextStatusSymbol;return{text:r.replace(ce.taskRegex,`$1- [${a}] $4`)}}else if(ce.listItemRegex.test(r)){let i=r.replace(ce.listItemRegex,"$1$2 [ ]");return{text:i,moveTo:{ch:i.length}}}else{let i=r.replace(ce.indentationRegex,"$1- ");return{text:i,moveTo:{ch:i.length}}}}},TU=(r,t)=>{var s;let e={line:0,ch:r.ch},n=U(U({},e),(s=t.moveTo)!=null?s:{}),i=t.text.split(`
`)[n.line].length;return{line:r.line+n.line,ch:Math.min(n.ch,i)}};var sb=require("obsidian");rr();var Ki=class{constructor(){this.hidePostponeButton=!1;this.hideTaskCount=!1;this.hideBacklinks=!1;this.hideEditButton=!1;this.hideUrgency=!0;this.hideTree=!0;this.shortMode=!1;this.explainQuery=!1}};function XE(r,t,e){let n=new Map([["backlink","hideBacklinks"],["edit button","hideEditButton"],["postpone button","hidePostponeButton"],["task count","hideTaskCount"],["tree","hideTree"],["urgency","hideUrgency"]]);for(let[i,s]of n.entries())if(t.startsWith(i))return r[s]=e,!0;return!1}Is();function Xs(r,t){let e=`Error: ${r}.
The error message was:
    `,n="";return t instanceof Error?n+=t:n+="Unknown error",`${e}"${n}"`}$s();var _U=Object.prototype.toString,so=Array.isArray||function(t){return _U.call(t)==="[object Array]"};function Wy(r){return typeof r=="function"}function vU(r){return so(r)?"array":typeof r}function jy(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ZE(r,t){return r!=null&&typeof r=="object"&&t in r}function wU(r,t){return r!=null&&typeof r!="object"&&r.hasOwnProperty&&r.hasOwnProperty(t)}var kU=RegExp.prototype.test;function SU(r,t){return kU.call(r,t)}var EU=/\S/;function DU(r){return!SU(EU,r)}var xU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function OU(r){return String(r).replace(/[&<>"'`=\/]/g,function(e){return xU[e]})}var CU=/\s*/,MU=/\s+/,JE=/\s*=/,RU=/\s*\}/,AU=/#|\^|\/|>|\{|&|=|!/;function PU(r,t){if(!r)return[];var e=!1,n=[],i=[],s=[],a=!1,o=!1,l="",u=0;function c(){if(a&&!o)for(;s.length;)delete i[s.pop()];else s=[];a=!1,o=!1}var d,f,p;function b(Z){if(typeof Z=="string"&&(Z=Z.split(MU,2)),!so(Z)||Z.length!==2)throw new Error("Invalid tags: "+Z);d=new RegExp(jy(Z[0])+"\\s*"),f=new RegExp("\\s*"+jy(Z[1])),p=new RegExp("\\s*"+jy("}"+Z[1]))}b(t||on.tags);for(var T=new bu(r),_,O,D,A,j,Y;!T.eos();){if(_=T.pos,D=T.scanUntil(d),D)for(var se=0,H=D.length;se<H;++se)A=D.charAt(se),DU(A)?(s.push(i.length),l+=A):(o=!0,e=!0,l+=" "),i.push(["text",A,_,_+1]),_+=1,A===`
`&&(c(),l="",u=0,e=!1);if(!T.scan(d))break;if(a=!0,O=T.scan(AU)||"name",T.scan(CU),O==="="?(D=T.scanUntil(JE),T.scan(JE),T.scanUntil(f)):O==="{"?(D=T.scanUntil(p),T.scan(RU),T.scanUntil(f),O="&"):D=T.scanUntil(f),!T.scan(f))throw new Error("Unclosed tag at "+T.pos);if(O==">"?j=[O,D,_,T.pos,l,u,e]:j=[O,D,_,T.pos],u++,i.push(j),O==="#"||O==="^")n.push(j);else if(O==="/"){if(Y=n.pop(),!Y)throw new Error('Unopened section "'+D+'" at '+_);if(Y[1]!==D)throw new Error('Unclosed section "'+Y[1]+'" at '+_)}else O==="name"||O==="{"||O==="&"?o=!0:O==="="&&b(D)}if(c(),Y=n.pop(),Y)throw new Error('Unclosed section "'+Y[1]+'" at '+T.pos);return IU(NU(i))}function NU(r){for(var t=[],e,n,i=0,s=r.length;i<s;++i)e=r[i],e&&(e[0]==="text"&&n&&n[0]==="text"?(n[1]+=e[1],n[3]=e[3]):(t.push(e),n=e));return t}function IU(r){for(var t=[],e=t,n=[],i,s,a=0,o=r.length;a<o;++a)switch(i=r[a],i[0]){case"#":case"^":e.push(i),n.push(i),e=i[4]=[];break;case"/":s=n.pop(),s[5]=i[2],e=n.length>0?n[n.length-1][4]:t;break;default:e.push(i)}return t}function bu(r){this.string=r,this.tail=r,this.pos=0}bu.prototype.eos=function(){return this.tail===""};bu.prototype.scan=function(t){var e=this.tail.match(t);if(!e||e.index!==0)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};bu.prototype.scanUntil=function(t){var e=this.tail.search(t),n;switch(e){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=n.length,n};function io(r,t){this.view=r,this.cache={".":this.view},this.parent=t}io.prototype.push=function(t){return new io(t,this)};io.prototype.lookup=function(t){var e=this.cache,n;if(e.hasOwnProperty(t))n=e[t];else{for(var i=this,s,a,o,l=!1;i;){if(t.indexOf(".")>0)for(s=i.view,a=t.split("."),o=0;s!=null&&o<a.length;)o===a.length-1&&(l=ZE(s,a[o])||wU(s,a[o])),s=s[a[o++]];else s=i.view[t],l=ZE(i.view,t);if(l){n=s;break}i=i.parent}e[t]=n}return Wy(n)&&(n=n.call(this.view)),n};function ar(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}ar.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};ar.prototype.parse=function(t,e){var n=this.templateCache,i=t+":"+(e||on.tags).join(":"),s=typeof n!="undefined",a=s?n.get(i):void 0;return a==null&&(a=PU(t,e),s&&n.set(i,a)),a};ar.prototype.render=function(t,e,n,i){var s=this.getConfigTags(i),a=this.parse(t,s),o=e instanceof io?e:new io(e,void 0);return this.renderTokens(a,o,n,t,i)};ar.prototype.renderTokens=function(t,e,n,i,s){for(var a="",o,l,u,c=0,d=t.length;c<d;++c)u=void 0,o=t[c],l=o[0],l==="#"?u=this.renderSection(o,e,n,i,s):l==="^"?u=this.renderInverted(o,e,n,i,s):l===">"?u=this.renderPartial(o,e,n,s):l==="&"?u=this.unescapedValue(o,e):l==="name"?u=this.escapedValue(o,e,s):l==="text"&&(u=this.rawValue(o)),u!==void 0&&(a+=u);return a};ar.prototype.renderSection=function(t,e,n,i,s){var a=this,o="",l=e.lookup(t[1]);function u(f){return a.render(f,e,n,s)}if(!!l){if(so(l))for(var c=0,d=l.length;c<d;++c)o+=this.renderTokens(t[4],e.push(l[c]),n,i,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")o+=this.renderTokens(t[4],e.push(l),n,i,s);else if(Wy(l)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(e.view,i.slice(t[3],t[5]),u),l!=null&&(o+=l)}else o+=this.renderTokens(t[4],e,n,i,s);return o}};ar.prototype.renderInverted=function(t,e,n,i,s){var a=e.lookup(t[1]);if(!a||so(a)&&a.length===0)return this.renderTokens(t[4],e,n,i,s)};ar.prototype.indentPartial=function(t,e,n){for(var i=e.replace(/[^ \t]/g,""),s=t.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!n)&&(s[a]=i+s[a]);return s.join(`
`)};ar.prototype.renderPartial=function(t,e,n,i){if(!!n){var s=this.getConfigTags(i),a=Wy(n)?n(t[1]):n[t[1]];if(a!=null){var o=t[6],l=t[5],u=t[4],c=a;l==0&&u&&(c=this.indentPartial(a,u,o));var d=this.parse(c,s);return this.renderTokens(d,e,n,c,i)}}};ar.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(n!=null)return n};ar.prototype.escapedValue=function(t,e,n){var i=this.getConfigEscape(n)||on.escape,s=e.lookup(t[1]);if(s!=null)return typeof s=="number"&&i===on.escape?String(s):i(s)};ar.prototype.rawValue=function(t){return t[1]};ar.prototype.getConfigTags=function(t){return so(t)?t:t&&typeof t=="object"?t.tags:void 0};ar.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!so(t))return t.escape};var on={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(r){yu.templateCache=r},get templateCache(){return yu.templateCache}},yu=new ar;on.clearCache=function(){return yu.clearCache()};on.parse=function(t,e){return yu.parse(t,e)};on.render=function(t,e,n,i){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+vU(t)+'" was given as the first argument for mustache#render(template, view, partials)');return yu.render(t,e,n,i)};on.escape=OU;on.Scanner=bu;on.Context=io;on.Writer=ar;var $y=on;var iD=Yo(nD());var Xn=class{constructor(t){this.instruction=t}get queryComponent(){return this._queryComponent}set queryComponent(t){this._queryComponent=t}get error(){return this._error}set error(t){this._error=t}isValid(){return this._queryComponent!==void 0}static fromObject(t,e){let n=new Xn(t);return n._queryComponent=e,n}static fromError(t,e){let n=new Xn(t);return n._error=e,n}};var Tu=class extends Xn{};function _u(r,t){try{let e=r.map(([s])=>s),n=t.includes("return")?t:`return ${t}`,i=t&&new Function(...e,n);return i instanceof Function?Tu.fromObject(t,i):Tu.fromError(t,`Problem parsing expression "${t}"`)}catch(e){return Tu.fromError(t,Xs(`Failed parsing expression "${t}"`,e))}}function vu(r,t){let e=t.map(([n,i])=>i);return r(...e)}function Yy(r,t,e){try{return vu(r,t)}catch(n){return Xs(`Failed calculating expression "${e}"`,n)}}function sD(r,t){$y.escape=function(e){return e};try{let e=LU(r,t);return $y.render(e,(0,iD.default)(t))}catch(e){let n="";throw e instanceof Error?n=`There was an error expanding one or more placeholders.

The error message was:
    ${e.message.replace(/ > /g,".").replace("Missing Mustache data property","Unknown property")}`:n="Unknown error expanding placeholders.",n+=`

The problem is in:
    ${r}`,Error(n)}}var FU=new RegExp(["\\{\\{","(.*?)","\\}\\}"].join(""),"g");function LU(r,t){return r.replace(FU,(e,n)=>{let i=UU(t),s=_u(i,n);if(s.isValid()){let a=vu(s.queryComponent,i);if(a!==void 0)return a}return e})}function UU(r){return Object.entries(r)}function aD(r){return Hy(r,[])}function Hy(r,t){return{query:{file:r,allTasks:t,searchCache:{}}}}rr();var ao=class{constructor(t=""){this.indentation=t}explainQuery(t){if(t.error!==void 0)return this.explainError(t);let e=[];return e.push(this.explainFilters(t)),e.push(this.explainGroups(t)),e.push(this.explainSorters(t)),e.push(this.explainQueryLimits(t)),e.push(this.explainDebugSettings()),e.filter(n=>n!=="").join(`
`)}explainError(t){let e="";return e+=`Query has an error:
`,e+=t.error+`
`,e}explainFilters(t){return t.filters.length===0?this.indent(`No filters supplied. All tasks will match the query.
`):t.filters.map(e=>e.explainFilterIndented(this.indentation)).join(`
`)}explainGroups(t){return t.grouping.length===0?"":t.grouping.map(e=>e.statement.explainStatement(this.indentation)).join(`

`)+`
`}explainSorters(t){return t.sorting.length===0?"":t.sorting.map(e=>e.statement.explainStatement(this.indentation)).join(`

`)+`
`}explainQueryLimits(t){function e(i){let s=`At most ${i} task`;return i!==1&&(s+="s"),s}let n=[];if(t.limit!==void 0){let i=e(t.limit)+`.
`;n.push(this.indent(i))}if(t.taskGroupLimit!==void 0){let i=e(t.taskGroupLimit)+` per group (if any "group by" options are supplied).
`;n.push(this.indent(i))}return n.join(`
`)}explainDebugSettings(){let t="",{debugSettings:e}=le();return e.ignoreSortInstructions&&(t+=this.indent(`NOTE: All sort instructions, including default sort order, are disabled, due to 'ignoreSortInstructions' setting.
`)),t}indent(t){return this.indentation+t}};Cr();var Ye=class{constructor(t,e=[],n=""){this.description=t,this.symbol=n,this.children=e}static booleanAnd(t){return this.combineOrCreateExplanation("All of",t,"AND")}static booleanOr(t){return this.combineOrCreateExplanation("At least one of",t,"OR")}static booleanNot(t){return new Ye("None of",t,"NOT")}static booleanXor(t){return new Ye("Exactly one of",t,"XOR")}asString(t=""){if(this.children.length==0)return t+this.description;let e=t;this.symbol===""?e+=this.description:(e+=this.symbol,this.children.length>1&&(e+=` (${this.description})`),e+=":");let n=t+"  ";for(let i=0;i<this.children.length;i++)e+=`
${this.children[i].asString(n)}`;return e}static combineOrCreateExplanation(t,e,n){if(e.length===2){let i=e[0],s=e[1];if(i.symbol===n&&s.symbol==="")return i.children.push(s),i}return new Ye(t,e,n)}};var oo=class{matchesAnyOf(t){return t.some(e=>this.matches(e))}};var lo=class extends oo{constructor(e){super();this.stringToFind=e}matches(e){return lo.stringIncludesCaseInsensitive(e,this.stringToFind)}static stringIncludesCaseInsensitive(e,n){return e.toLocaleLowerCase().includes(n.toLocaleLowerCase())}explanation(e){return new Ye(e)}};var Qi=class extends oo{constructor(e){super();this.regex=e}static validateAndConstruct(e){let n=/^\/(.+)\/([^/]*)$/,i=e.match(n);if(i!==null){let s=new RegExp(i[1],i[2]);return new Qi(s)}else return null}matches(e){return e.match(this.regex)!==null}static helpMessage(){return String.raw`See https://publish.obsidian.md/tasks/Queries/Regular+Expressions

Regular expressions must look like this:
    /pattern/
or this:
    /pattern/flags

Where:
- pattern: The 'regular expression' pattern to search for.
- flags:   Optional characters that modify the search.
           i => make the search case-insensitive
           u => add Unicode support

Examples:  /^Log/
           /^Log/i
           /File Name\.md/
           /waiting|waits|waited/i
           /\d\d:\d\d/

The following characters have special meaning in the pattern:
to find them literally, you must add a \ before them:
    [\^$.|?*+()

CAUTION! Regular expression (or 'regex') searching is a powerful
but advanced feature that requires thorough knowledge in order to
use successfully, and not miss intended search results.
`}explanation(e){let i=jU(e,"using regex: ",this.regexAsString());return new Ye(i)}regexAsString(){let e=`'${this.regex.source}' with `;switch(this.regex.flags.length){case 0:e+="no flags";break;case 1:e+=`flag '${this.regex.flags}'`;break;default:e+=`flags '${this.regex.flags}'`;break}return e}};function jU(r,t,e){var o;let n=r.match(/\//);if(!n)return"Error explaining instruction. Could not find a slash character";let i=2,s=((o=n.index)!=null?o:i)-i;return`${t.padEnd(s)}${e}`}var gr=class{constructor(t,e){this._rawInstruction=t,this._anyContinuationLinesRemoved=e.trim(),this._anyPlaceholdersExpanded=this._anyContinuationLinesRemoved}recordExpandedPlaceholders(t){this._anyPlaceholdersExpanded=t}get rawInstruction(){return this._rawInstruction}get anyContinuationLinesRemoved(){return this._anyContinuationLinesRemoved}get anyPlaceholdersExpanded(){return this._anyPlaceholdersExpanded}explainStatement(t){function e(a,o){o!==a&&(s+=` =>
${t}${o}`)}let n=this._rawInstruction.trim(),i=n.split(`
`).join(`
`+t),s=`${t}${i}`;return this._rawInstruction.includes(`
`)&&(s+=`
`+t),e(n,this._anyContinuationLinesRemoved),e(this._anyContinuationLinesRemoved,this._anyPlaceholdersExpanded),s}allLinesIdentical(){return this._rawInstruction===this._anyContinuationLinesRemoved&&this._rawInstruction===this._anyPlaceholdersExpanded}};var Rn=class{constructor(t,e,n,i){this._statement=new gr(t,t),this.property=e,this.comparator=Rn.maybeReverse(i,n)}setStatement(t){this._statement=t}get statement(){return this._statement}get instruction(){return this._statement.anyPlaceholdersExpanded}static maybeReverse(t,e){return t?Rn.makeReversedComparator(e):e}static makeReversedComparator(t){return(e,n,i)=>t(e,n,i)*-1}};iu();var Xi=class{constructor(t,e,n,i){this._statement=new gr(t,t),this.property=e,this.grouper=n,this.reverse=i}setStatement(t){this._statement=t}get statement(){return this._statement}get instruction(){return this._statement.anyPlaceholdersExpanded}};var $e=class{canCreateFilterForLine(t){return $e.lineMatchesFilter(this.filterRegExp(),t)}static lineMatchesFilter(t,e){return t?t.test(e):!1}static getMatch(t,e){return t?e.match(t):null}fieldNameSingular(){return this.fieldName()}fieldNameSingularEscaped(){return Yi(this.fieldNameSingular())}supportsSorting(){return!1}createSorterFromLine(t){if(!this.supportsSorting())return null;let e=$e.getMatch(this.sorterRegExp(),t);if(e===null)return null;let n=!!e[1];return this.createSorter(n)}sorterRegExp(){if(!this.supportsSorting())throw Error(`sorterRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)?`,"i")}sorterInstruction(t){let e=`sort by ${this.fieldNameSingular()}`;return t&&(e+=" reverse"),e}comparator(){throw Error(`comparator() unimplemented for ${this.fieldNameSingular()}`)}createSorter(t){return new Rn(this.sorterInstruction(t),this.fieldNameSingular(),this.comparator(),t)}createNormalSorter(){return this.createSorter(!1)}createReverseSorter(){return this.createSorter(!0)}supportsGrouping(){return!1}createGrouperFromLine(t){if(!this.supportsGrouping())return null;let e=$e.getMatch(this.grouperRegExp(),t);if(e===null)return null;let n=!!e[1];return this.createGrouper(n)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)?$`,"i")}grouperInstruction(t){let e=`group by ${this.fieldNameSingular()}`;return t&&(e+=" reverse"),e}grouper(){throw Error(`grouper() unimplemented for ${this.fieldNameSingular()}`)}createGrouper(t){return new Xi(this.grouperInstruction(t),this.fieldNameSingular(),this.grouper(),t)}createNormalGrouper(){return this.createGrouper(!1)}createReverseGrouper(){return this.createGrouper(!0)}};var Bt=class{constructor(t,e,n){this._statement=new gr(t,t),this.explanation=n,this.filterFunction=e}get statement(){return this._statement}setStatement(t){this._statement=t}get instruction(){return this._statement.anyPlaceholdersExpanded}explainFilterIndented(t){let e=this._statement.explainStatement(t);return this.onlyNeedsOneLineExplanation()?`${e}
`:`${e} =>
${this.explanation.asString(t+"  ")}
`}simulateExplainFilter(){return this.onlyNeedsOneLineExplanation()?this.explanation:new Ye(this.instruction+" =>",[this.explanation])}onlyNeedsOneLineExplanation(){return this.explanation.asString("")===this.instruction}};var ke=class{constructor(t){this.object=t}get instruction(){return this.object.instruction}get filter(){return this.object.queryComponent}isValid(){return this.object.isValid()}get error(){return this.object.error}get filterFunction(){if(this.filter)return this.filter.filterFunction}static fromFilter(t){return new ke(Xn.fromObject(t.instruction,t))}static fromError(t,e){return new ke(Xn.fromError(t,e))}};var Ze=class extends $e{createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return ke.fromError(t,`do not understand query filter (${this.fieldName()})`);let n=e[1].toLowerCase(),i=e[2],s=null;if(n.includes("include"))s=new lo(i);else if(n.includes("regex")){try{s=Qi.validateAndConstruct(i)}catch(l){let u=Xs("Parsing regular expression",l)+`

${Qi.helpMessage()}`;return ke.fromError(t,u)}if(s===null)return ke.fromError(t,`Invalid instruction: '${t}'

${Qi.helpMessage()}`)}if(s===null)return ke.fromError(t,`do not understand query filter (${this.fieldName()})`);let a=n.match(/not/)!==null,o=new Bt(t,this.getFilter(s,a),s.explanation(t));return ke.fromFilter(o)}fieldPattern(){return this.fieldNameSingularEscaped()}filterOperatorPattern(){return"includes|does not include|regex matches|regex does not match"}filterRegExp(){return new RegExp(`^(?:${this.fieldPattern()}) (${this.filterOperatorPattern()}) (.*)`,"i")}getFilter(t,e){return n=>{let i=t.matches(this.value(n));return e?!i:i}}comparator(){return(t,e)=>this.value(t).localeCompare(this.value(e),void 0,{numeric:!0})}grouper(){return t=>[this.value(t)]}static escapeMarkdownCharacters(t){return t.replace(/\\/g,"\\\\").replace(/_/g,"\\_")}};var Zs=class extends Ze{fieldName(){return"description"}value(t){return Fe.getInstance().removeAsSubstringFrom(t.description)}supportsSorting(){return!0}comparator(){return(t,e)=>{let n=Zs.cleanDescription(t.description),i=Zs.cleanDescription(e.description);return n.localeCompare(i,void 0,{numeric:!0})}}static cleanDescription(t){t=Fe.getInstance().removeAsSubstringFrom(t);let e=/^\[\[?([^\]]*)]]?/,n=t.match(e);if(n!==null){let i=n[1];t=i.substring(i.indexOf("|")+1)+t.replace(e,"")}return t=this.replaceFormatting(t,/^\*\*([^*]+)\*\*/),t=this.replaceFormatting(t,/^\*([^*]+)\*/),t=this.replaceFormatting(t,/^==([^=]+)==/),t=this.replaceFormatting(t,/^__([^_]+)__/),t=this.replaceFormatting(t,/^_([^_]+)_/),t}static replaceFormatting(t,e){let n=t.match(e);return n!==null&&(t=n[1]+t.replace(e,"")),t}};Rg();Ag();Cs();var Ed=class{findUnexpandedDateText(t){let e=["<%","YYYY-MM-DD"];for(let n of e)if(t.includes(n))return this.unexpandedDateTextMessage(n);return null}unexpandedDateTextMessage(t){return`Instruction contains unexpanded template text: "${t}" - and cannot be interpreted.

Possible causes:
- The query is an a template file, and is not intended to be searched.
- A command such as "Replace templates in the active file" needs to be run.
- The core "Daily notes" plugin is in use, and the template contained
  date calculations that it does not support.
- Some sample template text was accidentally pasted in to a tasks query,
  instead of in to a template file.

See: https://publish.obsidian.md/tasks/Advanced/Daily+Agenda#Instruction+contains+unexpanded+template+text
`}};var Dd=class{constructor(t,e){this._instruction=t,this._filter=e}canCreateFilterForLine(t){return t.toLocaleLowerCase()===this._instruction.toLocaleLowerCase()}createFilterOrErrorMessage(t){return this.canCreateFilterForLine(t)?ke.fromFilter(new Bt(t,this._filter,new Ye(t))):ke.fromError(t,`do not understand filter: ${t}`)}};var yr=class{constructor(){this._filters=[]}add(t,e){this._filters.push(new Dd(t,e))}canCreateFilterForLine(t){return this._filters.some(e=>e.canCreateFilterForLine(t))}createFilterOrErrorMessage(t){for(let e of this._filters){let n=e.createFilterOrErrorMessage(t);if(n.isValid())return n}return ke.fromError(t,`do not understand filter: ${t}`)}};var Dt=class extends $e{constructor(e=null){super();e!==null?this.filterInstructions=e:(this.filterInstructions=new yr,this.filterInstructions.add(`has ${this.fieldName()} date`,n=>this.date(n)!==null),this.filterInstructions.add(`no ${this.fieldName()} date`,n=>this.date(n)===null),this.filterInstructions.add(`${this.fieldName()} date is invalid`,n=>{let i=this.date(n);return i!==null&&!i.isValid()}))}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){var f;let n=this.checkForUnexpandedTemplateText(e);if(n)return ke.fromError(e,n);let i=this.filterInstructions.createFilterOrErrorMessage(e);if(i.isValid())return i;let s=$e.getMatch(this.filterRegExp(),e);if(s===null)return ke.fromError(e,"do not understand query filter ("+this.fieldName()+" date)");let a=s[1],o=(f=s[2])==null?void 0:f.toLowerCase(),l=s[3],u=Dr.parseDateRange(l);if(!u.isValid()){let p=Dr.parseDate(a);p.isValid()&&(u=new Jt(p,p))}if(!u.isValid())return ke.fromError(e,"do not understand "+this.fieldName()+" date");let c=this.buildFilterFunction(o,u),d=Dt.buildExplanation(this.fieldNameForExplanation(),o,this.filterResultIfFieldMissing(),u);return ke.fromFilter(new Bt(e,c,d))}buildFilterFunction(e,n){let i;switch(e){case"before":i=s=>s?s.isBefore(n.start):this.filterResultIfFieldMissing();break;case"after":i=s=>s?s.isAfter(n.end):this.filterResultIfFieldMissing();break;case"on or before":case"in or before":i=s=>s?s.isSameOrBefore(n.end):this.filterResultIfFieldMissing();break;case"on or after":case"in or after":i=s=>s?s.isSameOrAfter(n.start):this.filterResultIfFieldMissing();break;default:i=s=>s?s.isSameOrAfter(n.start)&&s.isSameOrBefore(n.end):this.filterResultIfFieldMissing()}return this.getFilter(i)}getFilter(e){return n=>e(this.date(n))}filterRegExp(){return new RegExp(`^${this.fieldNameForFilterInstruction()} (((?:on|in) or before|before|(?:on|in) or after|after|on|in)? ?(.*))`,"i")}fieldNameForFilterInstruction(){return this.fieldName()}static buildExplanation(e,n,i,s){let a=n,o="YYYY-MM-DD (dddd Do MMMM YYYY)",l;switch(n){case"before":case"on or after":l=s.start.format(o);break;case"after":case"on or before":l=s.end.format(o);break;case"in or before":a="on or before",l=s.end.format(o);break;case"in or after":a="on or after",l=s.start.format(o);break;default:if(!s.start.isSame(s.end)){let c=`${e} date is between:`,d=[new Ye(`${s.start.format(o)} and`),new Ye(`${s.end.format(o)} inclusive`)];return i&&d.push(new Ye(`OR no ${e} date`)),new Ye(c,d)}a="on",l=s.start.format(o);break}let u=`${e} date is ${a} ${l}`;return i&&(u+=` OR no ${e} date`),new Ye(u)}fieldNameForExplanation(){return this.fieldName()}supportsSorting(){return!0}comparator(){return(e,n)=>zr(this.date(e),this.date(n))}supportsGrouping(){return!0}grouper(){return e=>{let n=this.date(e);return n===null?["No "+this.fieldName()+" date"]:n.isValid()?[n.format("YYYY-MM-DD dddd")]:["%%0%% Invalid "+this.fieldName()+" date"]}}checkForUnexpandedTemplateText(e){return new Ed().findUnexpandedDateText(e)}};var xd=class extends Dt{fieldName(){return"created"}date(t){return t.createdDate}filterResultIfFieldMissing(){return!1}};var Od=class extends Dt{fieldName(){return"done"}date(t){return t.doneDate}filterResultIfFieldMissing(){return!1}};var uo=class extends Dt{fieldName(){return"due"}date(t){return t.dueDate}filterResultIfFieldMissing(){return!1}};var ln=class extends $e{constructor(){super(...arguments);this._filters=new yr}canCreateFilterForLine(e){return this._filters.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){return this._filters.createFilterOrErrorMessage(e)}filterRegExp(){return null}};var Cd=class extends ln{constructor(){super(),this._filters.add("exclude sub-items",t=>{if(t.indentation==="")return!0;let e=t.indentation.lastIndexOf(">");return e===-1?!1:/^ ?$/.test(t.indentation.slice(e+1))})}fieldName(){return"exclude"}};function Md(r,t){return[["task",r],["query",t?t.query:null]]}function oD(r,t,e){let n=Md(r,e||null),i=_u(n,t);return i.error?i.error:Yy(i.queryComponent,n,t)}var wu=class{constructor(t){this.line=t,this.functionOrError=_u(Md(null,null),t)}isValid(){return this.functionOrError.isValid()}get parseError(){return this.functionOrError.error}evaluate(t,e){if(!this.isValid())throw Error(`Error: Cannot evaluate an expression which is not valid: "${this.line}" gave error: "${this.parseError}"`);return vu(this.functionOrError.queryComponent,Md(t,e||null))}evaluateOrCatch(t,e){return this.isValid()?Yy(this.functionOrError.queryComponent,Md(t,e),this.line):`Error: Cannot evaluate an expression which is not valid: "${this.line}" gave error: "${this.parseError}"`}};Cs();function Gy(r){if(r===null)return"null";let t=typeof r;return t==="object"?r.constructor.name:t}var Rd=class extends $e{createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return ke.fromError(t,"Unable to parse line");let n=e[1],i=new wu(n);return i.isValid()?ke.fromFilter(new Bt(t,WU(i),new Ye(t))):ke.fromError(t,i.parseError)}fieldName(){return"function"}filterRegExp(){return new RegExp(`^filter by ${this.fieldNameSingularEscaped()} (.*)`,"i")}supportsSorting(){return!0}sorterRegExp(){return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)? (.*)`,"i")}createSorterFromLine(t){let e=$e.getMatch(this.sorterRegExp(),t);if(e===null)return null;let n=!!e[1],i=e[2],s=new wu(i);if(!s.isValid())throw new Error(s.parseError);let a=(o,l,u)=>{try{let c=u.queryContext(),d=this.validateTaskSortKey(s.evaluate(o,c)),f=this.validateTaskSortKey(s.evaluate(l,c));return this.compareTaskSortKeys(d,f)}catch(c){throw c instanceof Error&&(c.message+=`: while evaluating instruction '${t}'`),c}};return new Rn(t,this.fieldNameSingular(),a,n)}validateTaskSortKey(t){function e(n){throw new Error(`"${n}" is not a valid sort key`)}return t===void 0&&e("undefined"),Number.isNaN(t)&&e("NaN (Not a Number)"),Array.isArray(t)&&e("array"),t}compareTaskSortKeys(t,e){let n=Gy(t),i=Gy(e),s=this.compareTaskSortKeysIfOptionalMoment(t,e,n,i);if(s!==void 0)return s;let a=this.compareTaskSortKeysIfEitherIsNull(t,e);if(a!==void 0)return a;if(n!==i)throw new Error(`Unable to compare two different sort key types '${n}' and '${i}' order`);if(n==="string")return t.localeCompare(e,void 0,{numeric:!0});if(n==="TasksDate")return zr(t.moment,e.moment);if(n==="boolean")return Number(e)-Number(t);let o=Number(t)-Number(e);if(isNaN(o))throw new Error(`Unable to determine sort order for sort key types '${n}' and '${i}'`);return o}compareTaskSortKeysIfOptionalMoment(t,e,n,i){let s=n==="Moment",a=i==="Moment";if(s&&a||s&&e===null||a&&t===null)return zr(t,e)}compareTaskSortKeysIfEitherIsNull(t,e){if(t===null&&e===null)return 0;if(t===null&&e!==null)return-1;if(t!==null&&e===null)return 1}supportsGrouping(){return!0}createGrouperFromLine(t){let e=$e.getMatch(this.grouperRegExp(),t);if(e===null)return null;let n=!!e[1],i=e[2];return new Xi(t,"function",qU(i),n)}grouperRegExp(){return new RegExp(`^group by ${this.fieldNameSingularEscaped()}( reverse)? (.*)`,"i")}grouper(){throw Error("grouper() function not valid for FunctionField. Use createGrouperFromLine() instead.")}};function WU(r){return(t,e)=>{let n=e.queryContext();return $U(r,t,n)}}function $U(r,t,e){let n=r.evaluate(t,e);if(typeof n=="boolean")return n;throw Error(`filtering function must return true or false. This returned "${n}".`)}function qU(r){return(t,e)=>{let n=e.queryContext();return YU(t,r,n)}}function YU(r,t,e){try{let n=oD(r,t,e);return Array.isArray(n)?n.map(s=>s.toString()):n===null?[]:[n.toString()]}catch(n){let i=`Error: Failed calculating expression "${t}". The error message was: `;return n instanceof Error?[i+n.message]:[i+"Unknown error"]}}var Ad=class extends Ze{fieldName(){return"heading"}value(t){return t.precedingHeader?t.precedingHeader:""}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>t.precedingHeader===null||t.precedingHeader.length===0?["(No heading)"]:[t.precedingHeader]}};var co=class extends Ze{fieldName(){return"path"}value(t){return t.path}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(t.path.replace(".md",""))]}};Wa();var By=class extends $e{createFilterOrErrorMessage(t){var n;let e=$e.getMatch(this.filterRegExp(),t);if(e!==null){let i=e[5],s=null;switch(i.toLowerCase()){case"lowest":s="5";break;case"low":s="4";break;case"none":s="3";break;case"medium":s="2";break;case"high":s="1";break;case"highest":s="0";break}if(s===null)return ke.fromError(t,"do not understand priority");let a=t,o;switch((n=e[3])==null?void 0:n.toLowerCase()){case"above":o=l=>l.priority.localeCompare(s)<0;break;case"below":o=l=>l.priority.localeCompare(s)>0;break;case"not":o=l=>l.priority!==s;break;default:o=l=>l.priority===s,a=`${this.fieldName()} is ${i}`}return ke.fromFilter(new Bt(t,o,new Ye(a)))}else return ke.fromError(t,"do not understand query filter (priority)")}fieldName(){return"priority"}filterRegExp(){return By.priorityRegexp}supportsSorting(){return!0}comparator(){return(t,e)=>t.priority.localeCompare(e.priority)}supportsGrouping(){return!0}grouper(){return t=>[t.priorityNameGroupText]}},Js=By;Js.priorityRegexp=/^priority(\s+is)?(\s+(above|below|not))?(\s+(lowest|low|none|medium|high|highest))$/i;var Pd=class extends Dt{fieldName(){return"scheduled"}date(t){return t.scheduledDate}filterResultIfFieldMissing(){return!1}};var Nd=class extends Dt{fieldName(){return"start"}fieldNameForFilterInstruction(){return"starts"}date(t){return t.startDate}filterResultIfFieldMissing(){return!0}};var Id=class extends Dt{constructor(){let t=new yr;t.add("has happens date",e=>this.dates(e).some(n=>n!==null)),t.add("no happens date",e=>!this.dates(e).some(n=>n!==null)),super(t)}fieldName(){return"happens"}fieldNameForExplanation(){return"due, start or scheduled"}date(t){return this.earliestDate(t)}dates(t){return t.happensDates}earliestDate(t){return t.happens.moment}filterResultIfFieldMissing(){return!1}getFilter(t){return e=>this.dates(e).some(n=>t(n))}};var Fd=class extends ln{constructor(){super(),this._filters.add("is recurring",t=>t.recurrence!==null),this._filters.add("is not recurring",t=>t.recurrence===null)}fieldName(){return"recurring"}supportsSorting(){return!0}comparator(){return(t,e)=>t.recurrence!==null&&e.recurrence===null?-1:t.recurrence===null&&e.recurrence!==null?1:0}supportsGrouping(){return!0}grouper(){return t=>t.recurrence!==null?["Recurring"]:["Not Recurring"]}};var Zi=class extends ln{constructor(){super(),this._filters.add("done",t=>t.isDone),this._filters.add("not done",t=>!t.isDone)}fieldName(){return"status"}supportsSorting(){return!0}comparator(){return(t,e)=>{let n=Zi.oldStatusName(t),i=Zi.oldStatusName(e);return n<i?1:n>i?-1:0}}static oldStatusName(t){return t.isDone?"Done":"Todo"}supportsGrouping(){return!0}grouper(){return t=>[Zi.oldStatusName(t)]}};var Ld=class extends Ze{fieldNamePlural(){return this.fieldNameSingular()+"s"}fieldName(){return`${this.fieldNameSingular()}/${this.fieldNamePlural()}`}fieldPattern(){return`${this.fieldNameSingular()}|${this.fieldNamePlural()}`}filterOperatorPattern(){return`${super.filterOperatorPattern()}|include|do not include`}value(t){return this.values(t).join(", ")}getFilter(t,e){return n=>{let i=t.matchesAnyOf(this.values(n));return e?!i:i}}createGrouper(t){return new Xi(this.grouperInstruction(t),this.fieldNamePlural(),this.grouper(),t)}grouperRegExp(){if(!this.supportsGrouping())throw Error(`grouperRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^group by ${this.fieldNamePlural()}( reverse)?$`,"i")}grouperInstruction(t){let e=`group by ${this.fieldNamePlural()}`;return t&&(e+=" reverse"),e}};var ea=class extends Ld{constructor(){super();this.filterInstructions=new yr,this.filterInstructions.add(`has ${this.fieldNameSingular()}`,e=>this.values(e).length>0),this.filterInstructions.add(`has ${this.fieldNamePlural()}`,e=>this.values(e).length>0),this.filterInstructions.add(`no ${this.fieldNameSingular()}`,e=>this.values(e).length===0),this.filterInstructions.add(`no ${this.fieldNamePlural()}`,e=>this.values(e).length===0)}createFilterOrErrorMessage(e){let n=this.filterInstructions.createFilterOrErrorMessage(e);return n.isValid()?n:super.createFilterOrErrorMessage(e)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}fieldNameSingular(){return"tag"}values(e){return e.tags}supportsSorting(){return!0}createSorterFromLine(e){let n=e.match(this.sorterRegExp());if(n===null)return null;let i=!!n[1],s=isNaN(+n[2])?1:+n[2],a=ea.makeCompareByTagComparator(s);return new Rn(e,this.fieldNameSingular(),a,i)}sorterRegExp(){return/^sort by tag( reverse)?[\s]*(\d+)?/i}comparator(){return ea.makeCompareByTagComparator(1)}static makeCompareByTagComparator(e){return(n,i)=>{if(n.tags.length===0&&i.tags.length===0)return 0;if(n.tags.length===0)return 1;if(i.tags.length===0)return-1;let s=e-1;if(n.tags.length<e&&i.tags.length>=e)return 1;if(i.tags.length<e&&n.tags.length>=e)return-1;if(n.tags.length<e&&i.tags.length<e)return 0;let a=n.tags[s],o=i.tags[s];return a.localeCompare(o,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return e=>e.tags.length==0?["(No tags)"]:e.tags}};var vD=Yo(_D());iu();function Ji(r){return new RegExp("["+Yi(r)+"]").source}var rb=[["(",")"],["[","]"],["{","}"],['"','"']],xi=class{constructor(t,e,n){this.openFilterChars=t,this.closeFilterChars=e,this.openAndCloseFilterChars=n,this.openFilter=Ji(this.openFilterChars),this.closeFilter=Ji(this.closeFilterChars)}static allSupportedDelimiters(){let t="",e="",n="";for(let[i,s]of rb)t+=i,e+=s,n+=xi.openAndClosing(i,s);return new xi(t,e,n)}static fromInstructionLine(t){let e=t.trim(),i=/^[A-Z ]*\s*(.*)/.exec(e);if(i){let a=i[1],o=a[0],l=a.slice(-1);for(let[u,c]of rb)if(o===u&&l===c){let d=this.openAndClosing(u,c);return new xi(u,c,d)}}let s="All filters in a Boolean instruction must be inside one of these pairs of delimiter characters: "+rb.map(([a,o])=>a+"..."+o).join(" or ")+". Combinations of those delimiters are no longer supported.";throw new Error(s)}static openAndClosing(t,e){let n=t;return e!=t&&(n+=e),n}};var es=class{static preprocessExpression(t,e){let n=es.splitLine(t,e);return es.getFiltersAndSimplifiedLine(n,e)}static splitLine(t,e){let n=new RegExp("("+e.closeFilter+"\\s*(?:AND|OR|AND +NOT|OR +NOT|XOR)\\s*"+e.openFilter+")"),i=t.split(n),s=new RegExp("(NOT\\s*"+e.openFilter+")"),a=i.flatMap(u=>u.split(s)).filter(u=>u!==""),o=new RegExp("(^"+Ji(e.openFilterChars+" ")+"*)"),l=new RegExp("("+Ji(e.closeFilterChars+" ")+"*$)");return a.flatMap(u=>u.split(o)).flatMap(u=>u.split(l)).filter(u=>u!=="")}static getFiltersAndSimplifiedLine(t,e){let n="",i=1,s={};t.forEach(u=>{if(!es.isAFilter(u,e))n+=`${u}`;else{let c=`f${i}`;s[c]=u,n+=c,i++}});let a=new RegExp(`(${e.closeFilter})([A-Z])`,"g");n=n.replace(a,"$1 $2");let o=new RegExp(`([A-Z])(${e.openFilter})`,"g");n=n.replace(o,"$1 $2");let l=e.openFilterChars;if(l!='"'&&l!="("){let u=new RegExp(Ji(l),"g");n=n.replace(u,"(");let c=e.closeFilterChars,d=new RegExp(Ji(c),"g");n=n.replace(d,")")}return{simplifiedLine:n,filters:s}}static isAFilter(t,e){let n=new RegExp("^"+Ji(" "+e.openAndCloseFilterChars)+"+$"),i=new RegExp("^ *"+e.closeFilter+" *(AND|OR|XOR) *"+e.openFilter+" *$"),s=new RegExp("^(AND|OR|XOR|NOT) *"+e.openFilter+"$"),a=new RegExp("^"+e.closeFilter+" *(AND|OR|XOR)$");return![n,i,s,a,/^(AND|OR|XOR|NOT)$/].some(l=>RegExp(l).exec(t))}};var qd=class extends $e{constructor(){super();this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={};let e=xi.allSupportedDelimiters();this.basicBooleanRegexp=new RegExp("(.*(AND|OR|XOR|NOT)\\s*"+e.openFilter+".*|"+e.openFilter+".+"+e.closeFilter+")","g")}filterRegExp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(e){return this.parseLine(e)}fieldName(){return"boolean query"}parseLine(e){if(e.length===0)return ke.fromError(e,"empty line");let n;try{n=xi.fromInstructionLine(e)}catch(o){let l=o instanceof Error?o.message:"unknown error type";return ke.fromError(e,this.helpMessageFromSimpleError(e,l))}let i=es.preprocessExpression(e,n),s=i.simplifiedLine,a=i.filters;try{let o=(0,vD.parse)(s);for(let c of o)if(c.name==="IDENTIFIER"&&c.value){let d=c.value.trim(),f=a[d];if(c.value=f,!(f in this.subFields)){let p=Su(f);if(p===null)return this.helpMessage(e,`couldn't parse sub-expression '${f}'`,i);if(p.error)return this.helpMessage(e,`couldn't parse sub-expression '${f}': ${p.error}`,i);p.filter&&(this.subFields[f]=p.filter)}}else if(c.name==="OPERATOR"){if(c.value==null)return this.helpMessage(e,"empty operator in boolean query",i);if(!this.supportedOperators.includes(c.value))return this.helpMessage(e,`unknown boolean operator '${c.value}'`,i)}let l=(c,d)=>this.filterTaskWithParsedQuery(c,o,d),u=this.constructExplanation(o);return ke.fromFilter(new Bt(e,l,u))}catch(o){let l=o instanceof Error?o.message:"unknown error type";return this.helpMessage(e,`malformed boolean query -- ${l} (check the documentation for guidelines)`,i)}}filterTaskWithParsedQuery(e,n,i){let s=l=>l==="true",a=l=>l?"true":"false",o=[];for(let l of n)if(l.name==="IDENTIFIER"){if(l.value==null)throw Error("null token value");let c=this.subFields[l.value.trim()].filterFunction(e,i);o.push(a(c))}else if(l.name==="OPERATOR")if(l.value==="NOT"){let u=s(o.pop());o.push(a(!u))}else if(l.value==="OR"){let u=s(o.pop()),c=s(o.pop());o.push(a(u||c))}else if(l.value==="AND"){let u=s(o.pop()),c=s(o.pop());o.push(a(u&&c))}else if(l.value==="XOR"){let u=s(o.pop()),c=s(o.pop());o.push(a(u&&!c||!u&&c))}else throw Error("Unsupported operator: "+l.value);else throw Error("Unsupported token type: "+l);return s(o[0])}constructExplanation(e){let n=[];for(let i of e)if(i.name==="IDENTIFIER")this.explainExpression(i,n);else if(i.name==="OPERATOR")this.explainOperator(i,n);else throw Error("Unsupported token type: "+i.name);return n[0]}explainExpression(e,n){if(e.value==null)throw Error("null token value");let i=this.subFields[e.value.trim()],s=this.simulateExplainFilter(i);n.push(s)}simulateExplainFilter(e){return e.simulateExplainFilter()}explainOperator(e,n){if(e.value==="NOT"){let i=n.pop();n.push(Ye.booleanNot([i]))}else if(e.value==="OR"){let i=n.pop(),s=n.pop();n.push(Ye.booleanOr([s,i]))}else if(e.value==="AND"){let i=n.pop(),s=n.pop();n.push(Ye.booleanAnd([s,i]))}else if(e.value==="XOR"){let i=n.pop(),s=n.pop();n.push(Ye.booleanXor([s,i]))}else throw Error("Unsupported operator: "+e.value)}helpMessage(e,n,i){let s=i.filters,a=this.stringifySubExpressionsForErrorMessage(s),l=`${this.helpMessageFromSimpleError(e,n)}

The instruction was converted to the following simplified line:
    ${i.simplifiedLine}

Where the sub-expressions in the simplified line are:
${a}

For help, see:
    https://publish.obsidian.md/tasks/Queries/Combining+Filters
`;return ke.fromError(e,l)}stringifySubExpressionsForErrorMessage(e){return Object.entries(e).map(([n,i])=>`    '${n}': '${i}'
        => ${this.stringifySubExpressionStatus(i)}`).join(`
`)}stringifySubExpressionStatus(e){let n=Su(e);return n?n.error?`ERROR:
           ${n.error.split(`
`).map(s=>s.trim()).join(`
           `)}`:"OK":`ERROR:
           do not understand query`}helpMessageFromSimpleError(e,n){return`Could not interpret the following instruction as a Boolean combination:
    ${e}

The error message is:
    ${n}`}};var Yd=class extends Ze{fieldName(){return"filename"}value(t){let e=t.filename;return e===null?"":e+".md"}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return t=>{let e=t.filename;return e===null?["Unknown Location"]:["[["+e+"]]"]}}};var To=class extends $e{canCreateFilterForLine(t){return!1}createFilterOrErrorMessage(t){return ke.fromError(t,"Filtering by urgency is not yet supported")}fieldName(){return"urgency"}filterRegExp(){throw Error(`filterRegExp() unimplemented for ${this.fieldName()}`)}supportsSorting(){return!0}comparator(){return(t,e)=>e.urgency-t.urgency}supportsGrouping(){return!0}grouper(){return t=>[`${t.urgency.toFixed(2)}`]}createGrouper(t){return super.createGrouper(!t)}grouperInstruction(t){return super.grouperInstruction(!t)}};var Hd=class extends Ze{constructor(){super()}fieldName(){return"status.name"}value(t){return t.status.name}supportsSorting(){return!0}supportsGrouping(){return!0}};Jr();var ti=class extends $e{canCreateFilterForLine(t){let e=new RegExp(`^(?:${this.fieldNameSingularEscaped()})`,"i");return $e.lineMatchesFilter(e,t)}createFilterOrErrorMessage(t){let e=$e.getMatch(this.filterRegExp(),t);if(e===null)return this.helpMessage(t);let n=e[1].toLowerCase(),i=e[2],s=tr[i.toUpperCase()];if(!s)return this.helpMessage(t);let a;switch(n){case"is":a=o=>o.status.type===s;break;case"is not":a=o=>o.status.type!==s;break;default:return this.helpMessage(t)}return ke.fromFilter(new Bt(t,a,new Ye(t)))}filterRegExp(){return new RegExp(`^(?:${this.fieldNameSingularEscaped()}) (is|is not) ([^ ]+)$`,"i")}helpMessage(t){let e=Object.values(tr).filter(i=>i!=="EMPTY").join(" "),n=`Invalid ${this.fieldNameSingular()} instruction: '${t}'.
    Allowed options: 'is' and 'is not' (without quotes).
    Allowed values:  ${e}
                     Note: values are case-insensitive,
                           so 'in_progress' works too, for example.
    Example:         ${this.fieldNameSingular()} is not NON_TASK`;return ke.fromError(t,n)}fieldName(){return"status.type"}value(t){return t.status.type}supportsSorting(){return!0}comparator(){return(t,e)=>{let n=ti.groupName(t),i=ti.groupName(e);return n.localeCompare(i,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return t=>[ti.groupName(t)]}static groupName(t){return t.status.typeGroupText}};var Gd=class extends Ze{fieldName(){return"recurrence"}value(t){return t.recurrence!==null?t.recurrence.toText():""}supportsGrouping(){return!0}grouper(){return t=>t.recurrence!==null?[t.recurrence.toText()]:["None"]}};var Bd=class extends Ze{fieldName(){return"folder"}value(t){return t.file.folder}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(this.value(t))]}};var Vd=class extends Ze{fieldName(){return"root"}value(t){return t.file.root}supportsGrouping(){return!0}grouper(){return t=>[Ze.escapeMarkdownCharacters(this.value(t))]}};var zd=class extends Ze{fieldName(){return"backlink"}value(t){let e=t.getLinkText({isFilenameUnique:!0});return e===null?"Unknown Location":e}createFilterOrErrorMessage(t){return ke.fromError(t,"backlink field does not support filtering")}canCreateFilterForLine(t){return!1}supportsGrouping(){return!0}grouper(){return t=>{let e=t.filename;if(e===null)return["Unknown Location"];let n=t.precedingHeader;return n===null?["[["+e+"]]"]:[`[[${e}#${n}|${e} > ${n}]]`]}}};var Kd=class extends Dt{fieldName(){return"cancelled"}date(t){return t.cancelledDate}filterResultIfFieldMissing(){return!1}};var Qd=class extends ln{constructor(){super(),this._filters.add("is blocking",(t,e)=>t.isBlocking(e.allTasks)),this._filters.add("is not blocking",(t,e)=>!t.isBlocking(e.allTasks)),this._filters.add("is blocked",(t,e)=>t.isBlocked(e.allTasks)),this._filters.add("is not blocked",(t,e)=>!t.isBlocked(e.allTasks))}fieldName(){return"blocking"}};var Xd=class extends Ze{constructor(){super();this.filterInstructions=new yr;this.filterInstructions.add("has id",e=>e.id.length>0),this.filterInstructions.add("no id",e=>e.id.length===0)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let n=this.filterInstructions.createFilterOrErrorMessage(e);return n.isValid()?n:super.createFilterOrErrorMessage(e)}fieldName(){return"id"}value(e){return e.id}supportsSorting(){return!0}supportsGrouping(){return!0}};var Zd=class extends $e{constructor(){super();this.filterInstructions=new yr;this.filterInstructions.add("has depends on",e=>e.dependsOn.length>0),this.filterInstructions.add("no depends on",e=>e.dependsOn.length===0)}canCreateFilterForLine(e){return this.filterInstructions.canCreateFilterForLine(e)?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let n=this.filterInstructions.createFilterOrErrorMessage(e);return n.isValid()?n:ke.fromError(e,"Unknown instruction")}fieldName(){return"blocked by"}filterRegExp(){return null}};var Jd=class extends ln{fieldName(){return"random"}supportsSorting(){return!0}comparator(){return(t,e)=>this.sortKey(t)-this.sortKey(e)}sortKey(t){let e=i=>{let s=0,a=9;for(;s<i.length;)a=Math.imul(a^i.charCodeAt(s++),387420489);return a^a>>>9},n=window.moment().format("Y-MM-DD");return e(n+" "+t.description)}};var nb=[()=>new Hd,()=>new ti,()=>new Zi,()=>new Fd,()=>new Js,()=>new Id,()=>new Kd,()=>new xd,()=>new Nd,()=>new Pd,()=>new uo,()=>new Od,()=>new co,()=>new Bd,()=>new Vd,()=>new zd,()=>new Zs,()=>new ea,()=>new Ad,()=>new Cd,()=>new Yd,()=>new To,()=>new Gd,()=>new Rd,()=>new Xd,()=>new Zd,()=>new Qd,()=>new Jd,()=>new qd];function Su(r){for(let t of nb){let e=t();if(e.canCreateFilterForLine(r))return e.createFilterOrErrorMessage(r)}return null}function wD(r){let t=/^sort by /i;if(r.match(t)===null)return null;for(let e of nb){let i=e().createSorterFromLine(r);if(i)return i}return null}function kD(r){let t=/^group by /i;if(r.match(t)===null)return null;for(let e of nb){let i=e().createGrouperFromLine(r);if(i)return i}return null}var ef=class{constructor(t,e,n){this.nestingLevel=t,this.displayName=e,this.property=n}};var tf=class{constructor(t,e){this.lastHeadingAtLevel=new Array;this.groupers=e;let i=t.keys().next().value.length;for(let s=0;s<i;s++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(t){let e=new Array;for(let n=0;n<t.length;n++){let i=t[n];if(i!=this.lastHeadingAtLevel[n]){e.push(new ef(n,i,this.groupers[n].property));for(let s=n;s<t.length;s++)this.lastHeadingAtLevel[s]="";this.lastHeadingAtLevel[n]=i}}return e}};var rf=class{constructor(t){this.children=new Map;this.values=[];this.values=t}generateAllPaths(t=[]){let e=new Map;if(this.children.size==0)return e.set([...t],this.values),e;for(let[n,i]of this.children)t.push(n),i.generateAllPaths(t).forEach((a,o)=>e.set(o,a)),t.pop();return e}};var nf=class extends rf{},sf=class{constructor(t,e,n){this.root=new nf(e),this.buildGroupingTree(t,n)}buildGroupingTree(t,e){let n=[this.root];for(let i of t){let s=[];for(let a of n)for(let o of a.values){let l=i.grouper(o,e);l.length===0&&l.push("");for(let u of l){let c=a.children.get(u);c===void 0&&(c=new nf([]),a.children.set(u,c),s.push(c)),c.values.push(o)}}n=s}}generateTaskTreeStorage(){return this.root.generateAllPaths()}};var af=class{constructor(t,e){this.groups=t,this.groupHeadings=[],this.tasks=e}setGroupHeadings(t){for(let e of t)this.groupHeadings.push(e)}applyTaskLimit(t){this.tasks=this.tasks.slice(0,t)}tasksAsStringOfLines(){let t="";for(let e of this.tasks)t+=e.toFileLineString()+`
`;return t}toString(){let t=`
`;t+=`Group names: [${this.groups}]
`;for(let e of this.groupHeadings)t+=`${"#".repeat(4+e.nestingLevel)} [${e.property}] ${e.displayName}
`;return t+=this.tasksAsStringOfLines(),t}};var _o=class{constructor(t,e,n){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=e.length,this._groupers=t;let s=new sf(t,e,n).generateTaskTreeStorage();this.addTaskGroups(s),this.sortTaskGroups(),this.setGroupsHeadings(s)}get groupers(){return this._groupers}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let t="";t+=`Groupers (if any):
`;for(let n of this._groupers){let i=n.reverse?" reverse":"";t+=`- ${n.property}${i}
`}for(let n of this.groups)t+=n.toString(),t+=`
---
`;return t+=`
${this.totalTasksCount()} tasks
`,t}addTaskGroups(t){for(let[e,n]of t){let i=new af(e,n);this.addTaskGroup(i)}}addTaskGroup(t){this._groups.push(t)}sortTaskGroups(){let t=(e,n)=>{let i=e.groups,s=n.groups;for(let a=0;a<i.length;a++){let o=this._groupers[a],l=i[a].localeCompare(s[a],void 0,{numeric:!0});if(l!==0)return o.reverse?-l:l}return 0};this._groups.sort(t)}setGroupsHeadings(t){let e=new tf(t,this._groupers);for(let n of this._groups)n.setGroupHeadings(e.getHeadingsForTaskGroup(n.groups))}applyTaskLimit(t){this._groupers.length!==0&&(this._groups.forEach(e=>{e.applyTaskLimit(t)}),this.recalculateTotalTaskCount())}recalculateTotalTaskCount(){let t=[];this._groups.forEach(n=>{t=[...t,...n.tasks]});let e=[...new Set(t)];this._totalTaskCount=e.length}};var ts=class{constructor(t,e){this.tasksFile=t,this.allTasks=[...e],this._queryContext=this.tasksFile?Hy(this.tasksFile,this.allTasks):void 0}static fromAllTasks(t){return new ts(void 0,t)}get queryPath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}queryContext(){return this._queryContext}};function SD(r){return`task${r!==1?"s":""}`}var na=class{constructor(t,e){this.totalTasksCountBeforeLimit=0;this._searchErrorMessage=void 0;this.taskGroups=t,this.totalTasksCountBeforeLimit=e}get searchErrorMessage(){return this._searchErrorMessage}set searchErrorMessage(t){this._searchErrorMessage=t}get totalTasksCount(){return this.taskGroups.totalTasksCount()}totalTasksCountDisplayText(){let t=this.totalTasksCount,e=this.totalTasksCountBeforeLimit;return t===e?`${t} ${SD(t)}`:`${t} of ${e} ${SD(e)}`}get groups(){return this.taskGroups.groups}static fromError(t){let e=new na(new _o([],[],ts.fromAllTasks([])),0);return e._searchErrorMessage=t,e}};function ED(r){return r.endsWith("\\")}function DD(r){return r.endsWith("\\\\")}function yj(r){return r.replace(/^[ \t]*/,"")}function bj(r){return r.replace(/[ \t]*\\$/,"")}function Tj(r,t){let e=r;return t&&(e=yj(r)),DD(e)?e=e.slice(0,-1):ED(r)&&(e=bj(e)),e}function xD(r){let t=[],e=!1,n="",i="",s=r+`
`;for(let a of s.split(`
`)){let o=Tj(a,e);e?(n+=`
`+a,i+=" "+o):(n=a,i=o),DD(a)?e=!1:e=ED(a),e||(i.trim()!==""&&t.push(new gr(n,i)),n="",i="")}return t}var vo=class{static by(t,e,n){let i=this.defaultSorters().map(a=>a.comparator),s=[];for(let a of t)s.push(a.comparator);return e.sort(vo.makeCompositeComparator([...s,...i],n))}static defaultSorters(){return[new ti().createNormalSorter(),new To().createNormalSorter(),new uo().createNormalSorter(),new Js().createNormalSorter(),new co().createNormalSorter()]}static makeCompositeComparator(t,e){return(n,i)=>{for(let s of t){let a=s(n,i,e);if(a!==0)return a}return 0}}};var OD=0,Ir=class{constructor(t,e=void 0){this.statements=[];this._limit=void 0;this._taskGroupLimit=void 0;this._taskLayoutOptions=new Bn;this._queryLayoutOptions=new Ki;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this._ignoreGlobalQuery=!1;this.hideOptionsRegexp=/^(hide|show) +(.*)/i;this.shortModeRegexp=/^short/i;this.fullModeRegexp=/^full/i;this.explainQueryRegexp=/^explain/i;this.ignoreGlobalQueryRegexp=/^ignore global query/i;this.logger=nr.getLogger("tasks.Query");this.limitRegexp=/^limit (groups )?(to )?(\d+)( tasks?)?/i;this.commentRegexp=/^#.*/;this._queryId=this.generateQueryId(10),this.source=t,this.tasksFile=e;let n=xD(t);for(let i of n){let s=this.expandPlaceholders(i,e);if(this.error!==void 0)return;this.statements.push(...s)}for(let i of this.statements)try{if(this.parseLine(i),this.error!==void 0)return}catch(s){let a;s instanceof Error?a=s.message:a="Unknown error",this.setError(a,i);return}}get filePath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}get queryId(){return this._queryId}parseLine(t){let e=t.anyPlaceholdersExpanded;switch(!0){case this.shortModeRegexp.test(e):this._queryLayoutOptions.shortMode=!0;break;case this.fullModeRegexp.test(e):this._queryLayoutOptions.shortMode=!1;break;case this.explainQueryRegexp.test(e):this._queryLayoutOptions.explainQuery=!0;break;case this.ignoreGlobalQueryRegexp.test(e):this._ignoreGlobalQuery=!0;break;case this.limitRegexp.test(e):this.parseLimit(e);break;case this.parseSortBy(e,t):break;case this.parseGroupBy(e,t):break;case this.hideOptionsRegexp.test(e):this.parseHideOptions(e);break;case this.commentRegexp.test(e):break;case this.parseFilter(e,t):break;default:this.setError("do not understand query",t)}}formatQueryForLogging(){return`
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
${this.source}
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
`}expandPlaceholders(t,e){let n=t.anyContinuationLinesRemoved;if(n.includes("{{")&&n.includes("}}")&&this.tasksFile===void 0)return this._error=`The query looks like it contains a placeholder, with "{{" and "}}"
but no file path has been supplied, so cannot expand placeholder values.
The query is:
${n}`,[t];let i=n;if(e){let s=aD(e);try{i=sD(n,s)}catch(a){return a instanceof Error?this._error=a.message:this._error="Internal error. expandPlaceholders() threw something other than Error.",[t]}}return this.createStatementsFromExpandedPlaceholders(i,t)}createStatementsFromExpandedPlaceholders(t,e){let n=t.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);return n.length===1?(e.recordExpandedPlaceholders(n[0]),[e]):n.map((i,s)=>{let a=`: statement ${s+1} after expansion of placeholder`,o=new gr(e.rawInstruction+a,e.anyContinuationLinesRemoved+a);return o.recordExpandedPlaceholders(i),o})}append(t){return this.source===""?t:t.source===""?this:new Ir(`${this.source}
${t.source}`,this.tasksFile)}explainQuery(){return new ao().explainQuery(this)}get limit(){return this._limit}get taskGroupLimit(){return this._taskGroupLimit}get taskLayoutOptions(){return this._taskLayoutOptions}get queryLayoutOptions(){return this._queryLayoutOptions}get filters(){return this._filters}addFilter(t){this._filters.push(t)}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}setError(t,e){this._error=Ir.generateErrorMessage(e,t)}static generateErrorMessage(t,e){return t.allLinesIdentical()?`${e}
Problem line: "${t.rawInstruction}"`:`${e}
Problem statement:
${t.explainStatement("    ")}
`}get ignoreGlobalQuery(){return this._ignoreGlobalQuery}applyQueryToTasks(t){this.debug(`[search] Executing query: ${this.formatQueryForLogging()}`);let e=new ts(this.tasksFile,t),n;try{this.filters.forEach(l=>{n=l.statement,t=t.filter(u=>l.filterFunction(u,e))}),n=void 0;let{debugSettings:i}=le(),s=i.ignoreSortInstructions?t:vo.by(this.sorting,t,e),a=s.slice(0,this.limit),o=new _o(this.grouping,a,e);return this._taskGroupLimit!==void 0&&o.applyTaskLimit(this._taskGroupLimit),new na(o,s.length)}catch(i){let a=Xs("Search failed",i);return n&&(a=Ir.generateErrorMessage(n,a)),na.fromError(a)}}parseHideOptions(t){let e=t.match(this.hideOptionsRegexp);if(e===null)return;let n=e[1].toLowerCase()==="hide",i=e[2].toLowerCase();XE(this._queryLayoutOptions,i,n)||yS(this._taskLayoutOptions,i,!n)||this.setError("do not understand hide/show option",new gr(t,t))}parseFilter(t,e){var i;let n=Su(t);return n!=null?(n.filter?(n.filter.setStatement(e),this._filters.push(n.filter)):this.setError((i=n.error)!=null?i:"Unknown error",e),!0):!1}parseLimit(t){let e=t.match(this.limitRegexp);if(e===null){this.setError("do not understand query limit",new gr(t,t));return}let n=Number.parseInt(e[3],10);e[1]!==void 0?this._taskGroupLimit=n:this._limit=n}parseSortBy(t,e){let n=wD(t);return n?(n.setStatement(e),this._sorting.push(n),!0):!1}parseGroupBy(t,e){let n=kD(t);return n?(n.setStatement(e),this._grouping.push(n),!0):!1}generateQueryId(t){return OD+=1,OD.toString().padStart(t,"0")}debug(t,e){this.logger.debugWithId(this._queryId,`"${this.filePath}": ${t}`,e)}};var ib=[{name:"TQ_explain",type:"checkbox",display:"explain",handler:"instruction",trueValue:"explain",falseValue:""},{name:"TQ_short_mode",type:"checkbox",display:"short mode",handler:"instruction",trueValue:"short mode",falseValue:"full mode"},{name:"TQ_show_tree",type:"checkbox",display:"tree",handler:"showAndHide"},{name:"TQ_show_tags",type:"checkbox",display:"tags",handler:"showAndHide"},{name:"TQ_show_id",type:"checkbox",display:"id",handler:"showAndHide"},{name:"TQ_show_depends_on",type:"checkbox",display:"depends on",handler:"showAndHide"},{name:"TQ_show_priority",type:"checkbox",display:"priority",handler:"showAndHide"},{name:"TQ_show_recurrence_rule",type:"checkbox",display:"recurrence rule",handler:"showAndHide"},{name:"TQ_show_on_completion",type:"checkbox",display:"on completion",handler:"showAndHide"},{name:"TQ_show_created_date",type:"checkbox",display:"created date",handler:"showAndHide"},{name:"TQ_show_start_date",type:"checkbox",display:"start date",handler:"showAndHide"},{name:"TQ_show_scheduled_date",type:"checkbox",display:"scheduled date",handler:"showAndHide"},{name:"TQ_show_due_date",type:"checkbox",display:"due date",handler:"showAndHide"},{name:"TQ_show_cancelled_date",type:"checkbox",display:"cancelled date",handler:"showAndHide"},{name:"TQ_show_done_date",type:"checkbox",display:"done date",handler:"showAndHide"},{name:"TQ_show_urgency",type:"checkbox",display:"urgency",handler:"showAndHide"},{name:"TQ_show_backlink",type:"checkbox",display:"backlink",handler:"showAndHide"},{name:"TQ_show_edit_button",type:"checkbox",display:"edit button",handler:"showAndHide"},{name:"TQ_show_postpone_button",type:"checkbox",display:"postpone button",handler:"showAndHide"},{name:"TQ_show_task_count",type:"checkbox",display:"task count",handler:"showAndHide"},{name:"TQ_extra_instructions",type:"text",handler:"addValue"}],Oi=class{source(t){return t?ib.map(n=>this.generateInstruction(t,n)).filter(n=>n!=="").join(`
`):""}generateInstruction(t,e){let n=t.hasProperty(e.name),i=t.property(e.name);switch(e.handler){case"instruction":return n&&(i?e.trueValue:e.falseValue)||"";case"showAndHide":return n&&(i?"show "+e.display:"hide "+e.display)||"";case"addValue":return n&&i||"";default:throw new Error("Unknown handler type: "+e.handler+".")}}query(t){return new Ir(this.source(t),t)}allPropertyNames(){return ib.map(t=>t.name)}allPropertyNamesSorted(){return this.allPropertyNames().sort((t,e)=>t.localeCompare(e))}propertyType(t){var e,n;return(n=(e=ib.find(i=>i.name===t))==null?void 0:e.type)!=null?n:void 0}metaBindPluginWidgets(){return"\nshort mode: `INPUT[toggle:TQ_short_mode]`\ntree: `INPUT[toggle:TQ_show_tree]`\ntags: `INPUT[toggle:TQ_show_tags]`\nid: `INPUT[toggle:TQ_show_id]` depends on: `INPUT[toggle:TQ_show_depends_on]`\npriority: `INPUT[toggle:TQ_show_priority]`\nrecurrence rule: `INPUT[toggle:TQ_show_recurrence_rule]` on completion: `INPUT[toggle:TQ_show_on_completion]`\nstart date: `INPUT[toggle:TQ_show_start_date]` scheduled date: `INPUT[toggle:TQ_show_scheduled_date]` due date: `INPUT[toggle:TQ_show_due_date]`\ncreated date: `INPUT[toggle:TQ_show_created_date]` cancelled date: `INPUT[toggle:TQ_show_cancelled_date]` done date: `INPUT[toggle:TQ_show_done_date]`\nurgency: `INPUT[toggle:TQ_show_urgency]`\nbacklink: `INPUT[toggle:TQ_show_backlink]`\nedit button: `INPUT[toggle:TQ_show_edit_button]` postpone button: `INPUT[toggle:TQ_show_postpone_button]`\ntask count: `INPUT[toggle:TQ_show_task_count]`\nextra instructions: `INPUT[textArea:TQ_extra_instructions]`\nexplain: `INPUT[toggle:TQ_explain]`\n"}};function CD(r,t){return L(this,null,function*(){yield r.fileManager.processFrontMatter(t,e=>{let n=new Oi().allPropertyNamesSorted(),i=!1;n.forEach(s=>{s in e||(e[s]=null,i=!0)}),i?new sb.Notice("Properties updated successfully."):new sb.Notice("All supported properties are already present.")})})}var of=class{get app(){return this.plugin.app}constructor({plugin:t}){this.plugin=t,t.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(e,n,i)=>KE(e,n,i,this.app,this.plugin.getTasks())}),t.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:QE}),t.addCommand({id:"add-query-file-defaults-properties",name:"Add all Query File Defaults properties",icon:"settings",checkCallback:e=>{let n=this.app.workspace.getActiveFile();return!n||n.extension!=="md"?!1:(e||this.ensureQueryFileDefaultsFrontmatter(n).catch(console.error),!0)}})}ensureQueryFileDefaultsFrontmatter(t){return L(this,null,function*(){let{app:e}=this;yield CD(e,t)})}};var rs=class{constructor(t=rs.empty){this._source=t}static getInstance(){return rs.instance||(rs.instance=new rs),rs.instance}set(t){this._source=t}query(t=void 0){return new Ir(this._source,t)}hasInstructions(){return this._source.trim()!==rs.empty}},dn=rs;dn.empty="";$s();var lf=class{constructor({obsidianEvents:t}){this.logger=nr.getLogger("tasks.Events");this.obsidianEvents=t}onCacheUpdate(t){return this.logger.debug("TasksEvents.onCacheUpdate()"),this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",t)}triggerCacheUpdate(t){this.logger.debug("TasksEvents.triggerCacheUpdate()"),this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",t)}onRequestCacheUpdate(t){return this.logger.debug("TasksEvents.onRequestCacheUpdate()"),this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",t)}triggerRequestCacheUpdate(t){this.logger.debug("TasksEvents.triggerRequestCacheUpdate()"),this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",t)}off(t){this.logger.debug("TasksEvents.off()"),this.obsidianEvents.offref(t)}};var e0=require("obsidian");Cr();Is();Nt();var JD=require("obsidian");Cr();rr();Is();wi();Nt();ii();Sn();Ga();var ab=class{constructor(t){this.newStatus=t}apply(t){return this.isCheckedForTask(t)?[t]:t.handleNewStatusWithRecurrenceInUsersOrder(this.newStatus)}instructionDisplayName(){return`Change status to: [${this.newStatus.symbol}] ${this.newStatus.name}`}isCheckedForTask(t){return this.newStatus.symbol===t.status.symbol}};function MD(r){let t=[],e=new et().coreStatuses.map(n=>n.symbol);for(let n of[!0,!1])for(let i of r.registeredStatuses)e.includes(i.symbol)===n&&t.push(new ab(i));return t}var RD=require("obsidian");var ob="---",wo=class{apply(t){throw new Error("MenuDividerInstruction.apply(): Method not implemented.")}instructionDisplayName(){return ob}isCheckedForTask(t){return!1}};function ri(r,t){return L(this,null,function*(){yield hr({originalTask:r,newTasks:t})})}var ns=class extends RD.Menu{constructor(e){super();this.taskSaver=e}addItemsForInstructions(e,n){for(let i of e)this.addItemForInstruction(n,i)}addItemForInstruction(e,n){n.instructionDisplayName()===ob?this.addSeparator():this.addItem(i=>this.getMenuItemCallback(e,i,n))}getMenuItemCallback(e,n,i){n.setTitle(i.instructionDisplayName()).setChecked(i.isCheckedForTask(e)).onClick(()=>L(this,null,function*(){let s=i.apply(e);(s.length!==1||!Object.is(s[0],e))&&(yield this.taskSaver(e,s))}))}};var uf=class extends ns{constructor(t,e,n=ri){super(n);let i=MD(t);this.addItemsForInstructions(i,e)}};var cf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],is={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console!="undefined"&&console.warn(r)},getWeek:function(r){var t=new Date(r.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var df={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var t=r%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ff=df;var Kt=function(r,t){return t===void 0&&(t=2),("000"+r).slice(t*-1)},br=function(r){return r===!0?1:0};function lb(r,t){var e;return function(){var n=this,i=arguments;clearTimeout(e),e=setTimeout(function(){return r.apply(n,i)},t)}}var pf=function(r){return r instanceof Array?r:[r]};function Qt(r,t,e){if(e===!0)return r.classList.add(t);r.classList.remove(t)}function qe(r,t,e){var n=window.document.createElement(r);return t=t||"",e=e||"",n.className=t,e!==void 0&&(n.textContent=e),n}function Eu(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ub(r,t){if(t(r))return r;if(r.parentNode)return ub(r.parentNode,t)}function Du(r,t){var e=qe("div","numInputWrapper"),n=qe("input","numInput "+r),i=qe("span","arrowUp"),s=qe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),t!==void 0)for(var a in t)n.setAttribute(a,t[a]);return e.appendChild(n),e.appendChild(i),e.appendChild(s),e}function Tr(r){try{if(typeof r.composedPath=="function"){var t=r.composedPath();return t[0]}return r.target}catch(e){return r.target}}var cb=function(){},xu=function(r,t,e){return e.months[t?"shorthand":"longhand"][r]},AD={D:cb,F:function(r,t,e){r.setMonth(e.months.longhand.indexOf(t))},G:function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},H:function(r,t){r.setHours(parseFloat(t))},J:function(r,t){r.setDate(parseFloat(t))},K:function(r,t,e){r.setHours(r.getHours()%12+12*br(new RegExp(e.amPM[1],"i").test(t)))},M:function(r,t,e){r.setMonth(e.months.shorthand.indexOf(t))},S:function(r,t){r.setSeconds(parseFloat(t))},U:function(r,t){return new Date(parseFloat(t)*1e3)},W:function(r,t,e){var n=parseInt(t),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek),i},Y:function(r,t){r.setFullYear(parseFloat(t))},Z:function(r,t){return new Date(t)},d:function(r,t){r.setDate(parseFloat(t))},h:function(r,t){r.setHours((r.getHours()>=12?12:0)+parseFloat(t))},i:function(r,t){r.setMinutes(parseFloat(t))},j:function(r,t){r.setDate(parseFloat(t))},l:cb,m:function(r,t){r.setMonth(parseFloat(t)-1)},n:function(r,t){r.setMonth(parseFloat(t)-1)},s:function(r,t){r.setSeconds(parseFloat(t))},u:function(r,t){return new Date(parseFloat(t))},w:cb,y:function(r,t){r.setFullYear(2e3+parseFloat(t))}},Ci={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},ko={Z:function(r){return r.toISOString()},D:function(r,t,e){return t.weekdays.shorthand[ko.w(r,t,e)]},F:function(r,t,e){return xu(ko.n(r,t,e)-1,!1,t)},G:function(r,t,e){return Kt(ko.h(r,t,e))},H:function(r){return Kt(r.getHours())},J:function(r,t){return t.ordinal!==void 0?r.getDate()+t.ordinal(r.getDate()):r.getDate()},K:function(r,t){return t.amPM[br(r.getHours()>11)]},M:function(r,t){return xu(r.getMonth(),!0,t)},S:function(r){return Kt(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,t,e){return e.getWeek(r)},Y:function(r){return Kt(r.getFullYear(),4)},d:function(r){return Kt(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return Kt(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,t){return t.weekdays.longhand[r.getDay()]},m:function(r){return Kt(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}};var db=function(r){var t=r.config,e=t===void 0?is:t,n=r.l10n,i=n===void 0?df:n,s=r.isMobile,a=s===void 0?!1:s;return function(o,l,u){var c=u||i;return e.formatDate!==void 0&&!a?e.formatDate(o,l,c):l.split("").map(function(d,f,p){return ko[d]&&p[f-1]!=="\\"?ko[d](o,c,e):d!=="\\"?d:""}).join("")}},mf=function(r){var t=r.config,e=t===void 0?is:t,n=r.l10n,i=n===void 0?df:n;return function(s,a,o,l){if(!(s!==0&&!s)){var u=l||i,c,d=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var f=a||(e||is).dateFormat,p=String(s).trim();if(p==="today")c=new Date,o=!0;else if(e&&e.parseDate)c=e.parseDate(s,f);else if(/Z$/.test(p)||/GMT$/.test(p))c=new Date(s);else{for(var b=void 0,T=[],_=0,O=0,D="";_<f.length;_++){var A=f[_],j=A==="\\",Y=f[_-1]==="\\"||j;if(Ci[A]&&!Y){D+=Ci[A];var se=new RegExp(D).exec(s);se&&(b=!0)&&T[A!=="Y"?"push":"unshift"]({fn:AD[A],val:se[++O]})}else j||(D+=".")}c=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),T.forEach(function(H){var Z=H.fn,ye=H.val;return c=Z(c,ye,u)||c}),c=b?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){e.errorHandler(new Error("Invalid date provided: "+d));return}return o===!0&&c.setHours(0,0,0,0),c}}};function _r(r,t,e){return e===void 0&&(e=!0),e!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):r.getTime()-t.getTime()}var PD=function(r,t,e){return r>Math.min(t,e)&&r<Math.max(t,e)},hf=function(r,t,e){return r*3600+t*60+e},ND=function(r){var t=Math.floor(r/3600),e=(r-t*3600)/60;return[t,e,r-t*3600-e*60]},ID={DAY:864e5};function gf(r){var t=r.defaultHour,e=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var i=r.minDate.getHours(),s=r.minDate.getMinutes(),a=r.minDate.getSeconds();t<i&&(t=i),t===i&&e<s&&(e=s),t===i&&e===s&&n<a&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var o=r.maxDate.getHours(),l=r.maxDate.getMinutes();t=Math.min(t,o),t===o&&(e=Math.min(l,e)),t===o&&e===l&&(n=r.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(o){o&&Object.keys(o).forEach(function(l){return r[l]=o[l]})},i=0,s=t;i<s.length;i++){var a=s[i];n(a)}return r});var Xt=function(){return Xt=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Xt.apply(this,arguments)},FD=function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n},_j=300;function vj(r,t){var e={config:Xt(Xt({},is),pt.defaultConfig),l10n:ff};e.parseDate=mf({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=T,e._setHoursFromDate=f,e._positionCalendar=us,e.changeMonth=S,e.changeYear=$,e.clear=M,e.close=I,e.onMouseOver=Le,e._createElement=qe,e.createDay=se,e.destroy=W,e.isEnabled=de,e.jumpToDate=D,e.updateValue=mn,e.open=fn,e.redraw=oa,e.set=Ro,e.setDate=Ai,e.toggle=Ur;function n(){e.utils={getDaysInMonth:function(h,g){return h===void 0&&(h=e.currentMonth),g===void 0&&(g=e.currentYear),h===1&&(g%4===0&&g%100!==0||g%400===0)?29:e.l10n.daysInMonth[h]}}}function i(){e.element=e.input=r,e.isOpen=!1,ee(),it(),ua(),Au(),n(),e.isMobile||Y(),O(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&f(e.config.noCalendar?e.latestSelectedDateObj:void 0),mn(!1)),o();var h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&h&&us(),Xe("onReady")}function s(){var h;return((h=e.calendarContainer)===null||h===void 0?void 0:h.getRootNode()).activeElement||document.activeElement}function a(h){return h.bind(e)}function o(){var h=e.config;h.weekNumbers===!1&&h.showMonths===1||h.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var g=(e.days.offsetWidth+1)*h.showMonths;e.daysContainer.style.width=g+"px",e.calendarContainer.style.width=g+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function l(h){if(e.selectedDates.length===0){var g=e.config.minDate===void 0||_r(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),k=gf(e.config);g.setHours(k.hours,k.minutes,k.seconds,g.getMilliseconds()),e.selectedDates=[g],e.latestSelectedDateObj=g}h!==void 0&&h.type!=="blur"&&No(h);var R=e._input.value;d(),mn(),e._input.value!==R&&e._debouncedChange()}function u(h,g){return h%12+12*br(g===e.l10n.amPM[1])}function c(h){switch(h%24){case 0:case 12:return 12;default:return h%12}}function d(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var h=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,g=(parseInt(e.minuteElement.value,10)||0)%60,k=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(h=u(h,e.amPM.textContent));var R=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&_r(e.latestSelectedDateObj,e.config.minDate,!0)===0,G=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&_r(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var X=hf(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),_e=hf(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),te=hf(h,g,k);if(te>_e&&te<X){var Oe=ND(X);h=Oe[0],g=Oe[1],k=Oe[2]}}else{if(G){var ie=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;h=Math.min(h,ie.getHours()),h===ie.getHours()&&(g=Math.min(g,ie.getMinutes())),g===ie.getMinutes()&&(k=Math.min(k,ie.getSeconds()))}if(R){var pe=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;h=Math.max(h,pe.getHours()),h===pe.getHours()&&g<pe.getMinutes()&&(g=pe.getMinutes()),g===pe.getMinutes()&&(k=Math.max(k,pe.getSeconds()))}}p(h,g,k)}}function f(h){var g=h||e.latestSelectedDateObj;g&&g instanceof Date&&p(g.getHours(),g.getMinutes(),g.getSeconds())}function p(h,g,k){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(h%24,g,k||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Kt(e.config.time_24hr?h:(12+h)%12+12*br(h%12===0)),e.minuteElement.value=Kt(g),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[br(h>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Kt(k)))}function b(h){var g=Tr(h),k=parseInt(g.value)+(h.delta||0);(k/1e3>1||h.key==="Enter"&&!/[^\d]/.test(k.toString()))&&$(k)}function T(h,g,k,R){if(g instanceof Array)return g.forEach(function(G){return T(h,G,k,R)});if(h instanceof Array)return h.forEach(function(G){return T(G,g,k,R)});h.addEventListener(g,k,R),e._handlers.push({remove:function(){return h.removeEventListener(g,k,R)}})}function _(){Xe("onChange")}function O(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(k){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+k+"]"),function(R){return T(R,"click",e[k])})}),e.isMobile){cs();return}var h=lb(jt,50);if(e._debouncedChange=lb(_,_j),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&T(e.daysContainer,"mouseover",function(k){e.config.mode==="range"&&Le(Tr(k))}),T(e._input,"keydown",He),e.calendarContainer!==void 0&&T(e.calendarContainer,"keydown",He),!e.config.inline&&!e.config.static&&T(window,"resize",h),window.ontouchstart!==void 0?T(window.document,"touchstart",P):T(window.document,"mousedown",P),T(window.document,"focus",P,{capture:!0}),e.config.clickOpens===!0&&(T(e._input,"focus",e.open),T(e._input,"click",e.open)),e.daysContainer!==void 0&&(T(e.monthNav,"click",Cf),T(e.monthNav,["keyup","increment"],b),T(e.daysContainer,"click",Lr)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var g=function(k){return Tr(k).select()};T(e.timeContainer,["increment"],l),T(e.timeContainer,"blur",l,{capture:!0}),T(e.timeContainer,"click",A),T([e.hourElement,e.minuteElement],["focus","click"],g),e.secondElement!==void 0&&T(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&T(e.amPM,"click",function(k){l(k)})}e.config.allowInput&&T(e._input,"blur",xe)}function D(h,g){var k=h!==void 0?e.parseDate(h):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),R=e.currentYear,G=e.currentMonth;try{k!==void 0&&(e.currentYear=k.getFullYear(),e.currentMonth=k.getMonth())}catch(X){X.message="Invalid date supplied: "+k,e.config.errorHandler(X)}g&&e.currentYear!==R&&(Xe("onYearChange"),C()),g&&(e.currentYear!==R||e.currentMonth!==G)&&Xe("onMonthChange"),e.redraw()}function A(h){var g=Tr(h);~g.className.indexOf("arrow")&&j(h,g.classList.contains("arrowUp")?1:-1)}function j(h,g,k){var R=h&&Tr(h),G=k||R&&R.parentNode&&R.parentNode.firstChild,X=ca("increment");X.delta=g,G&&G.dispatchEvent(X)}function Y(){var h=window.document.createDocumentFragment();if(e.calendarContainer=qe("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(h.appendChild(oe()),e.innerContainer=qe("div","flatpickr-innerContainer"),e.config.weekNumbers){var g=w(),k=g.weekWrapper,R=g.weekNumbers;e.innerContainer.appendChild(k),e.weekNumbers=R,e.weekWrapper=k}e.rContainer=qe("div","flatpickr-rContainer"),e.rContainer.appendChild(y()),e.daysContainer||(e.daysContainer=qe("div","flatpickr-days"),e.daysContainer.tabIndex=-1),K(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),h.appendChild(e.innerContainer)}e.config.enableTime&&h.appendChild(m()),Qt(e.calendarContainer,"rangeMode",e.config.mode==="range"),Qt(e.calendarContainer,"animate",e.config.animate===!0),Qt(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(h);var G=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!G&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var X=qe("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(X,e.element),X.appendChild(e.element),e.altInput&&X.appendChild(e.altInput),X.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function se(h,g,k,R){var G=de(g,!0),X=qe("span",h,g.getDate().toString());return X.dateObj=g,X.$i=R,X.setAttribute("aria-label",e.formatDate(g,e.config.ariaDateFormat)),h.indexOf("hidden")===-1&&_r(g,e.now)===0&&(e.todayDateElem=X,X.classList.add("today"),X.setAttribute("aria-current","date")),G?(X.tabIndex=-1,Ln(g)&&(X.classList.add("selected"),e.selectedDateElem=X,e.config.mode==="range"&&(Qt(X,"startRange",e.selectedDates[0]&&_r(g,e.selectedDates[0],!0)===0),Qt(X,"endRange",e.selectedDates[1]&&_r(g,e.selectedDates[1],!0)===0),h==="nextMonthDay"&&X.classList.add("inRange")))):X.classList.add("flatpickr-disabled"),e.config.mode==="range"&&xt(g)&&!Ln(g)&&X.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&h!=="prevMonthDay"&&R%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(g)+"</span>"),Xe("onDayCreate",X),X}function H(h){h.focus(),e.config.mode==="range"&&Le(h)}function Z(h){for(var g=h>0?0:e.config.showMonths-1,k=h>0?e.config.showMonths:-1,R=g;R!=k;R+=h)for(var G=e.daysContainer.children[R],X=h>0?0:G.children.length-1,_e=h>0?G.children.length:-1,te=X;te!=_e;te+=h){var Oe=G.children[te];if(Oe.className.indexOf("hidden")===-1&&de(Oe.dateObj))return Oe}}function ye(h,g){for(var k=h.className.indexOf("Month")===-1?h.dateObj.getMonth():e.currentMonth,R=g>0?e.config.showMonths:-1,G=g>0?1:-1,X=k-e.currentMonth;X!=R;X+=G)for(var _e=e.daysContainer.children[X],te=k-e.currentMonth===X?h.$i+g:g<0?_e.children.length-1:0,Oe=_e.children.length,ie=te;ie>=0&&ie<Oe&&ie!=(g>0?Oe:-1);ie+=G){var pe=_e.children[ie];if(pe.className.indexOf("hidden")===-1&&de(pe.dateObj)&&Math.abs(h.$i-ie)>=Math.abs(g))return H(pe)}e.changeMonth(G),we(Z(G),0)}function we(h,g){var k=s(),R=be(k||document.body),G=h!==void 0?h:R?k:e.selectedDateElem!==void 0&&be(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&be(e.todayDateElem)?e.todayDateElem:Z(g>0?1:-1);G===void 0?e._input.focus():R?ye(G,g):H(G)}function V(h,g){for(var k=(new Date(h,g,1).getDay()-e.l10n.firstDayOfWeek+7)%7,R=e.utils.getDaysInMonth((g-1+12)%12,h),G=e.utils.getDaysInMonth(g,h),X=window.document.createDocumentFragment(),_e=e.config.showMonths>1,te=_e?"prevMonthDay hidden":"prevMonthDay",Oe=_e?"nextMonthDay hidden":"nextMonthDay",ie=R+1-k,pe=0;ie<=R;ie++,pe++)X.appendChild(se("flatpickr-day "+te,new Date(h,g-1,ie),ie,pe));for(ie=1;ie<=G;ie++,pe++)X.appendChild(se("flatpickr-day",new Date(h,g,ie),ie,pe));for(var ze=G+1;ze<=42-k&&(e.config.showMonths===1||pe%7!==0);ze++,pe++)X.appendChild(se("flatpickr-day "+Oe,new Date(h,g+1,ze%G),ze,pe));var jr=qe("div","dayContainer");return jr.appendChild(X),jr}function K(){if(e.daysContainer!==void 0){Eu(e.daysContainer),e.weekNumbers&&Eu(e.weekNumbers);for(var h=document.createDocumentFragment(),g=0;g<e.config.showMonths;g++){var k=new Date(e.currentYear,e.currentMonth,1);k.setMonth(e.currentMonth+g),h.appendChild(V(k.getFullYear(),k.getMonth()))}e.daysContainer.appendChild(h),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Le()}}function C(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var h=function(R){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&R<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&R>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var g=0;g<12;g++)if(!!h(g)){var k=qe("option","flatpickr-monthDropdown-month");k.value=new Date(e.currentYear,g).getMonth().toString(),k.textContent=xu(g,e.config.shorthandCurrentMonth,e.l10n),k.tabIndex=-1,e.currentMonth===g&&(k.selected=!0),e.monthsDropdownContainer.appendChild(k)}}}function J(){var h=qe("div","flatpickr-month"),g=window.document.createDocumentFragment(),k;e.config.showMonths>1||e.config.monthSelectorType==="static"?k=qe("span","cur-month"):(e.monthsDropdownContainer=qe("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),T(e.monthsDropdownContainer,"change",function(_e){var te=Tr(_e),Oe=parseInt(te.value,10);e.changeMonth(Oe-e.currentMonth),Xe("onMonthChange")}),C(),k=e.monthsDropdownContainer);var R=Du("cur-year",{tabindex:"-1"}),G=R.getElementsByTagName("input")[0];G.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&G.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(G.setAttribute("max",e.config.maxDate.getFullYear().toString()),G.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var X=qe("div","flatpickr-current-month");return X.appendChild(k),X.appendChild(R),g.appendChild(X),h.appendChild(g),{container:h,yearElement:G,monthElement:k}}function q(){Eu(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var h=e.config.showMonths;h--;){var g=J();e.yearElements.push(g.yearElement),e.monthElements.push(g.monthElement),e.monthNav.appendChild(g.container)}e.monthNav.appendChild(e.nextMonthNav)}function oe(){return e.monthNav=qe("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=qe("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=qe("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,q(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(h){e.__hidePrevMonthArrow!==h&&(Qt(e.prevMonthNav,"flatpickr-disabled",h),e.__hidePrevMonthArrow=h)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(h){e.__hideNextMonthArrow!==h&&(Qt(e.nextMonthNav,"flatpickr-disabled",h),e.__hideNextMonthArrow=h)}}),e.currentYearElement=e.yearElements[0],da(),e.monthNav}function m(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var h=gf(e.config);e.timeContainer=qe("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var g=qe("span","flatpickr-time-separator",":"),k=Du("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=k.getElementsByTagName("input")[0];var R=Du("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=R.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?h.hours:c(h.hours)),e.minuteElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():h.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(k),e.timeContainer.appendChild(g),e.timeContainer.appendChild(R),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var G=Du("flatpickr-second");e.secondElement=G.getElementsByTagName("input")[0],e.secondElement.value=Kt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():h.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(qe("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(G)}return e.config.time_24hr||(e.amPM=qe("span","flatpickr-am-pm",e.l10n.amPM[br((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function y(){e.weekdayContainer?Eu(e.weekdayContainer):e.weekdayContainer=qe("div","flatpickr-weekdays");for(var h=e.config.showMonths;h--;){var g=qe("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(g)}return v(),e.weekdayContainer}function v(){if(!!e.weekdayContainer){var h=e.l10n.firstDayOfWeek,g=FD(e.l10n.weekdays.shorthand);h>0&&h<g.length&&(g=FD(g.splice(h,g.length),g.splice(0,h)));for(var k=e.config.showMonths;k--;)e.weekdayContainer.children[k].innerHTML=`
      <span class='flatpickr-weekday'>
        `+g.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function w(){e.calendarContainer.classList.add("hasWeeks");var h=qe("div","flatpickr-weekwrapper");h.appendChild(qe("span","flatpickr-weekday",e.l10n.weekAbbreviation));var g=qe("div","flatpickr-weeks");return h.appendChild(g),{weekWrapper:h,weekNumbers:g}}function S(h,g){g===void 0&&(g=!0);var k=g?h:h-e.currentMonth;k<0&&e._hidePrevMonthArrow===!0||k>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=k,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Xe("onYearChange"),C()),K(),Xe("onMonthChange"),da())}function M(h,g){if(h===void 0&&(h=!0),g===void 0&&(g=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,g===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var k=gf(e.config),R=k.hours,G=k.minutes,X=k.seconds;p(R,G,X)}e.redraw(),h&&Xe("onChange")}function I(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Xe("onClose")}function W(){e.config!==void 0&&Xe("onDestroy");for(var h=e._handlers.length;h--;)e._handlers[h].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var g=e.calendarContainer.parentNode;if(g.lastChild&&g.removeChild(g.lastChild),g.parentNode){for(;g.firstChild;)g.parentNode.insertBefore(g.firstChild,g);g.parentNode.removeChild(g)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(k){try{delete e[k]}catch(R){}})}function E(h){return e.calendarContainer.contains(h)}function P(h){if(e.isOpen&&!e.config.inline){var g=Tr(h),k=E(g),R=g===e.input||g===e.altInput||e.element.contains(g)||h.path&&h.path.indexOf&&(~h.path.indexOf(e.input)||~h.path.indexOf(e.altInput)),G=!R&&!k&&!E(h.relatedTarget),X=!e.config.ignoredFocusElements.some(function(_e){return _e.contains(g)});G&&X&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&l(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function $(h){if(!(!h||e.config.minDate&&h<e.config.minDate.getFullYear()||e.config.maxDate&&h>e.config.maxDate.getFullYear())){var g=h,k=e.currentYear!==g;e.currentYear=g||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),k&&(e.redraw(),Xe("onYearChange"),C())}}function de(h,g){var k;g===void 0&&(g=!0);var R=e.parseDate(h,void 0,g);if(e.config.minDate&&R&&_r(R,e.config.minDate,g!==void 0?g:!e.minDateHasTime)<0||e.config.maxDate&&R&&_r(R,e.config.maxDate,g!==void 0?g:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(R===void 0)return!1;for(var G=!!e.config.enable,X=(k=e.config.enable)!==null&&k!==void 0?k:e.config.disable,_e=0,te=void 0;_e<X.length;_e++){if(te=X[_e],typeof te=="function"&&te(R))return G;if(te instanceof Date&&R!==void 0&&te.getTime()===R.getTime())return G;if(typeof te=="string"){var Oe=e.parseDate(te,void 0,!0);return Oe&&Oe.getTime()===R.getTime()?G:!G}else if(typeof te=="object"&&R!==void 0&&te.from&&te.to&&R.getTime()>=te.from.getTime()&&R.getTime()<=te.to.getTime())return G}return!G}function be(h){return e.daysContainer!==void 0?h.className.indexOf("hidden")===-1&&h.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(h):!1}function xe(h){var g=h.target===e._input,k=e._input.value.trimEnd()!==fa();g&&k&&!(h.relatedTarget&&E(h.relatedTarget))&&e.setDate(e._input.value,!0,h.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function He(h){var g=Tr(h),k=e.config.wrap?r.contains(g):g===e._input,R=e.config.allowInput,G=e.isOpen&&(!R||!k),X=e.config.inline&&k&&!R;if(h.keyCode===13&&k){if(R)return e.setDate(e._input.value,!0,g===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),g.blur();e.open()}else if(E(g)||G||X){var _e=!!e.timeContainer&&e.timeContainer.contains(g);switch(h.keyCode){case 13:_e?(h.preventDefault(),l(),la()):Lr(h);break;case 27:h.preventDefault(),la();break;case 8:case 46:k&&!e.config.allowInput&&(h.preventDefault(),e.clear());break;case 37:case 39:if(!_e&&!k){h.preventDefault();var te=s();if(e.daysContainer!==void 0&&(R===!1||te&&be(te))){var Oe=h.keyCode===39?1:-1;h.ctrlKey?(h.stopPropagation(),S(Oe),we(Z(1),0)):we(void 0,Oe)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:h.preventDefault();var ie=h.keyCode===40?1:-1;e.daysContainer&&g.$i!==void 0||g===e.input||g===e.altInput?h.ctrlKey?(h.stopPropagation(),$(e.currentYear-ie),we(Z(1),0)):_e||we(void 0,ie*7):g===e.currentYearElement?$(e.currentYear-ie):e.config.enableTime&&(!_e&&e.hourElement&&e.hourElement.focus(),l(h),e._debouncedChange());break;case 9:if(_e){var pe=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Ot){return Ot}),ze=pe.indexOf(g);if(ze!==-1){var jr=pe[ze+(h.shiftKey?-1:1)];h.preventDefault(),(jr||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(g)&&h.shiftKey&&(h.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&g===e.amPM)switch(h.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],d(),mn();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],d(),mn();break}(k||E(g))&&Xe("onKeyDown",h)}function Le(h,g){if(g===void 0&&(g="flatpickr-day"),!(e.selectedDates.length!==1||h&&(!h.classList.contains(g)||h.classList.contains("flatpickr-disabled")))){for(var k=h?h.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),R=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),G=Math.min(k,e.selectedDates[0].getTime()),X=Math.max(k,e.selectedDates[0].getTime()),_e=!1,te=0,Oe=0,ie=G;ie<X;ie+=ID.DAY)de(new Date(ie),!0)||(_e=_e||ie>G&&ie<X,ie<R&&(!te||ie>te)?te=ie:ie>R&&(!Oe||ie<Oe)&&(Oe=ie));var pe=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+g));pe.forEach(function(ze){var jr=ze.dateObj,Ot=jr.getTime(),ds=te>0&&Ot<te||Oe>0&&Ot>Oe;if(ds){ze.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Pi){ze.classList.remove(Pi)});return}else if(_e&&!ds)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Pi){ze.classList.remove(Pi)}),h!==void 0&&(h.classList.add(k<=e.selectedDates[0].getTime()?"startRange":"endRange"),R<k&&Ot===R?ze.classList.add("startRange"):R>k&&Ot===R&&ze.classList.add("endRange"),Ot>=te&&(Oe===0||Ot<=Oe)&&PD(Ot,R,k)&&ze.classList.add("inRange"))})}}function jt(){e.isOpen&&!e.config.static&&!e.config.inline&&us()}function fn(h,g){if(g===void 0&&(g=e._positionElement),e.isMobile===!0){if(h){h.preventDefault();var k=Tr(h);k&&k.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Xe("onOpen");return}else if(e._input.disabled||e.config.inline)return;var R=e.isOpen;e.isOpen=!0,R||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Xe("onOpen"),us(g)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(h===void 0||!e.timeContainer.contains(h.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function vr(h){return function(g){var k=e.config["_"+h+"Date"]=e.parseDate(g,e.config.dateFormat),R=e.config["_"+(h==="min"?"max":"min")+"Date"];k!==void 0&&(e[h==="min"?"minDateHasTime":"maxDateHasTime"]=k.getHours()>0||k.getMinutes()>0||k.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(G){return de(G)}),!e.selectedDates.length&&h==="min"&&f(k),mn()),e.daysContainer&&(oa(),k!==void 0?e.currentYearElement[h]=k.getFullYear().toString():e.currentYearElement.removeAttribute(h),e.currentYearElement.disabled=!!R&&k!==void 0&&R.getFullYear()===k.getFullYear())}}function ee(){var h=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],g=Xt(Xt({},JSON.parse(JSON.stringify(r.dataset||{}))),t),k={};e.config.parseDate=g.parseDate,e.config.formatDate=g.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(pe){e.config._enable=Fn(pe)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(pe){e.config._disable=Fn(pe)}});var R=g.mode==="time";if(!g.dateFormat&&(g.enableTime||R)){var G=pt.defaultConfig.dateFormat||is.dateFormat;k.dateFormat=g.noCalendar||R?"H:i"+(g.enableSeconds?":S":""):G+" H:i"+(g.enableSeconds?":S":"")}if(g.altInput&&(g.enableTime||R)&&!g.altFormat){var X=pt.defaultConfig.altFormat||is.altFormat;k.altFormat=g.noCalendar||R?"h:i"+(g.enableSeconds?":S K":" K"):X+(" h:i"+(g.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:vr("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:vr("max")});var _e=function(pe){return function(ze){e.config[pe==="min"?"_minTime":"_maxTime"]=e.parseDate(ze,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:_e("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:_e("max")}),g.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,k,g);for(var te=0;te<h.length;te++)e.config[h[te]]=e.config[h[te]]===!0||e.config[h[te]]==="true";cf.filter(function(pe){return e.config[pe]!==void 0}).forEach(function(pe){e.config[pe]=pf(e.config[pe]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var te=0;te<e.config.plugins.length;te++){var Oe=e.config.plugins[te](e)||{};for(var ie in Oe)cf.indexOf(ie)>-1?e.config[ie]=pf(Oe[ie]).map(a).concat(e.config[ie]):typeof g[ie]=="undefined"&&(e.config[ie]=Oe[ie])}g.altInputClass||(e.config.altInputClass=Wt().className+" "+e.config.altInputClass),Xe("onParseConfig")}function Wt(){return e.config.wrap?r.querySelector("[data-input]"):r}function it(){typeof e.config.locale!="object"&&typeof pt.l10ns[e.config.locale]=="undefined"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=Xt(Xt({},pt.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?pt.l10ns[e.config.locale]:void 0),Ci.D="("+e.l10n.weekdays.shorthand.join("|")+")",Ci.l="("+e.l10n.weekdays.longhand.join("|")+")",Ci.M="("+e.l10n.months.shorthand.join("|")+")",Ci.F="("+e.l10n.months.longhand.join("|")+")",Ci.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var h=Xt(Xt({},t),JSON.parse(JSON.stringify(r.dataset||{})));h.time_24hr===void 0&&pt.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=db(e),e.parseDate=mf({config:e.config,l10n:e.l10n})}function us(h){if(typeof e.config.position=="function")return void e.config.position(e,h);if(e.calendarContainer!==void 0){Xe("onPreCalendarPosition");var g=h||e._positionElement,k=Array.prototype.reduce.call(e.calendarContainer.children,function(ps,ms){return ps+ms.offsetHeight},0),R=e.calendarContainer.offsetWidth,G=e.config.position.split(" "),X=G[0],_e=G.length>1?G[1]:null,te=g.getBoundingClientRect(),Oe=window.innerHeight-te.bottom,ie=X==="above"||X!=="below"&&Oe<k&&te.top>k,pe=window.pageYOffset+te.top+(ie?-k-2:g.offsetHeight+2);if(Qt(e.calendarContainer,"arrowTop",!ie),Qt(e.calendarContainer,"arrowBottom",ie),!e.config.inline){var ze=window.pageXOffset+te.left,jr=!1,Ot=!1;_e==="center"?(ze-=(R-te.width)/2,jr=!0):_e==="right"&&(ze-=R-te.width,Ot=!0),Qt(e.calendarContainer,"arrowLeft",!jr&&!Ot),Qt(e.calendarContainer,"arrowCenter",jr),Qt(e.calendarContainer,"arrowRight",Ot);var ds=window.document.body.offsetWidth-(window.pageXOffset+te.right),Pi=ze+R>window.document.body.offsetWidth,Io=ds+R>window.document.body.offsetWidth;if(Qt(e.calendarContainer,"rightMost",Pi),!e.config.static)if(e.calendarContainer.style.top=pe+"px",!Pi)e.calendarContainer.style.left=ze+"px",e.calendarContainer.style.right="auto";else if(!Io)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ds+"px";else{var Fo=pn();if(Fo===void 0)return;var Mf=window.document.body.offsetWidth,Lo=Math.max(0,Mf/2-R/2),F=".flatpickr-calendar.centerMost:before",he=".flatpickr-calendar.centerMost:after",hn=Fo.cssRules.length,fs="{left:"+te.left+"px;right:auto;}";Qt(e.calendarContainer,"rightMost",!1),Qt(e.calendarContainer,"centerMost",!0),Fo.insertRule(F+","+he+fs,hn),e.calendarContainer.style.left=Lo+"px",e.calendarContainer.style.right="auto"}}}}function pn(){for(var h=null,g=0;g<document.styleSheets.length;g++){var k=document.styleSheets[g];if(!!k.cssRules){try{k.cssRules}catch(R){continue}h=k;break}}return h!=null?h:Mo()}function Mo(){var h=document.createElement("style");return document.head.appendChild(h),h.sheet}function oa(){e.config.noCalendar||e.isMobile||(C(),da(),K())}function la(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Lr(h){h.preventDefault(),h.stopPropagation();var g=function(pe){return pe.classList&&pe.classList.contains("flatpickr-day")&&!pe.classList.contains("flatpickr-disabled")&&!pe.classList.contains("notAllowed")},k=ub(Tr(h),g);if(k!==void 0){var R=k,G=e.latestSelectedDateObj=new Date(R.dateObj.getTime()),X=(G.getMonth()<e.currentMonth||G.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=R,e.config.mode==="single")e.selectedDates=[G];else if(e.config.mode==="multiple"){var _e=Ln(G);_e?e.selectedDates.splice(parseInt(_e),1):e.selectedDates.push(G)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=G,e.selectedDates.push(G),_r(G,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(pe,ze){return pe.getTime()-ze.getTime()}));if(d(),X){var te=e.currentYear!==G.getFullYear();e.currentYear=G.getFullYear(),e.currentMonth=G.getMonth(),te&&(Xe("onYearChange"),C()),Xe("onMonthChange")}if(da(),K(),mn(),!X&&e.config.mode!=="range"&&e.config.showMonths===1?H(R):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var Oe=e.config.mode==="single"&&!e.config.enableTime,ie=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(Oe||ie)&&la()}_()}}var Ri={locale:[it,v],showMonths:[q,o,y],minDate:[D],maxDate:[D],positionElement:[Po],clickOpens:[function(){e.config.clickOpens===!0?(T(e._input,"focus",e.open),T(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Ro(h,g){if(h!==null&&typeof h=="object"){Object.assign(e.config,h);for(var k in h)Ri[k]!==void 0&&Ri[k].forEach(function(R){return R()})}else e.config[h]=g,Ri[h]!==void 0?Ri[h].forEach(function(R){return R()}):cf.indexOf(h)>-1&&(e.config[h]=pf(g));e.redraw(),mn(!0)}function Ao(h,g){var k=[];if(h instanceof Array)k=h.map(function(R){return e.parseDate(R,g)});else if(h instanceof Date||typeof h=="number")k=[e.parseDate(h,g)];else if(typeof h=="string")switch(e.config.mode){case"single":case"time":k=[e.parseDate(h,g)];break;case"multiple":k=h.split(e.config.conjunction).map(function(R){return e.parseDate(R,g)});break;case"range":k=h.split(e.l10n.rangeSeparator).map(function(R){return e.parseDate(R,g)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(h)));e.selectedDates=e.config.allowInvalidPreload?k:k.filter(function(R){return R instanceof Date&&de(R,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(R,G){return R.getTime()-G.getTime()})}function Ai(h,g,k){if(g===void 0&&(g=!1),k===void 0&&(k=e.config.dateFormat),h!==0&&!h||h instanceof Array&&h.length===0)return e.clear(g);Ao(h,k),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),D(void 0,g),f(),e.selectedDates.length===0&&e.clear(!1),mn(g),g&&Xe("onChange")}function Fn(h){return h.slice().map(function(g){return typeof g=="string"||typeof g=="number"||g instanceof Date?e.parseDate(g,void 0,!0):g&&typeof g=="object"&&g.from&&g.to?{from:e.parseDate(g.from,void 0),to:e.parseDate(g.to,void 0)}:g}).filter(function(g){return g})}function Au(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var h=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);h&&Ao(h,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function ua(){if(e.input=Wt(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=qe(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Po()}function Po(){e._positionElement=e.config.positionElement||e._input}function cs(){var h=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=qe("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=h,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=h==="datetime-local"?"Y-m-d\\TH:i:S":h==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch(g){}T(e.mobileInput,"change",function(g){e.setDate(Tr(g).value,!1,e.mobileFormatStr),Xe("onChange"),Xe("onClose")})}function Ur(h){if(e.isOpen===!0)return e.close();e.open(h)}function Xe(h,g){if(e.config!==void 0){var k=e.config[h];if(k!==void 0&&k.length>0)for(var R=0;k[R]&&R<k.length;R++)k[R](e.selectedDates,e.input.value,e,g);h==="onChange"&&(e.input.dispatchEvent(ca("change")),e.input.dispatchEvent(ca("input")))}}function ca(h){var g=document.createEvent("Event");return g.initEvent(h,!0,!0),g}function Ln(h){for(var g=0;g<e.selectedDates.length;g++){var k=e.selectedDates[g];if(k instanceof Date&&_r(k,h)===0)return""+g}return!1}function xt(h){return e.config.mode!=="range"||e.selectedDates.length<2?!1:_r(h,e.selectedDates[0])>=0&&_r(h,e.selectedDates[1])<=0}function da(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(h,g){var k=new Date(e.currentYear,e.currentMonth,1);k.setMonth(e.currentMonth+g),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[g].textContent=xu(k.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=k.getMonth().toString(),h.value=k.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function fa(h){var g=h||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(k){return e.formatDate(k,g)}).filter(function(k,R,G){return e.config.mode!=="range"||e.config.enableTime||G.indexOf(k)===R}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function mn(h){h===void 0&&(h=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=fa(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=fa(e.config.altFormat)),h!==!1&&Xe("onValueUpdate")}function Cf(h){var g=Tr(h),k=e.prevMonthNav.contains(g),R=e.nextMonthNav.contains(g);k||R?S(k?-1:1):e.yearElements.indexOf(g)>=0?g.select():g.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):g.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function No(h){h.preventDefault();var g=h.type==="keydown",k=Tr(h),R=k;e.amPM!==void 0&&k===e.amPM&&(e.amPM.textContent=e.l10n.amPM[br(e.amPM.textContent===e.l10n.amPM[0])]);var G=parseFloat(R.getAttribute("min")),X=parseFloat(R.getAttribute("max")),_e=parseFloat(R.getAttribute("step")),te=parseInt(R.value,10),Oe=h.delta||(g?h.which===38?1:-1:0),ie=te+_e*Oe;if(typeof R.value!="undefined"&&R.value.length===2){var pe=R===e.hourElement,ze=R===e.minuteElement;ie<G?(ie=X+ie+br(!pe)+(br(pe)&&br(!e.amPM)),ze&&j(void 0,-1,e.hourElement)):ie>X&&(ie=R===e.hourElement?ie-X-br(!e.amPM):G,ze&&j(void 0,1,e.hourElement)),e.amPM&&pe&&(_e===1?ie+te===23:Math.abs(ie-te)>_e)&&(e.amPM.textContent=e.l10n.amPM[br(e.amPM.textContent===e.l10n.amPM[0])]),R.value=Kt(ie)}}return i(),e}function So(r,t){for(var e=Array.prototype.slice.call(r).filter(function(a){return a instanceof HTMLElement}),n=[],i=0;i<e.length;i++){var s=e[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=vj(s,t||{}),n.push(s._flatpickr)}catch(a){console.error(a)}}return n.length===1?n[0]:n}typeof HTMLElement!="undefined"&&typeof HTMLCollection!="undefined"&&typeof NodeList!="undefined"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return So(this,r)},HTMLElement.prototype.flatpickr=function(r){return So([this],r)});var pt=function(r,t){return typeof r=="string"?So(window.document.querySelectorAll(r),t):r instanceof Node?So([r],t):So(r,t)};pt.defaultConfig={};pt.l10ns={en:Xt({},ff),default:Xt({},ff)};pt.localize=function(r){pt.l10ns.default=Xt(Xt({},pt.l10ns.default),r)};pt.setDefaults=function(r){pt.defaultConfig=Xt(Xt({},pt.defaultConfig),r)};pt.parseDate=mf({});pt.formatDate=db({});pt.compareDates=_r;typeof jQuery!="undefined"&&typeof jQuery.fn!="undefined"&&(jQuery.fn.flatpickr=function(r){return So(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window!="undefined"&&(window.flatpickr=pt);var LD=pt;Nt();Nt();Gi();sd();function UD(r){for(let e of fe.allDateFields()){let n=r[e];if(n&&!n.isValid())return!1}let t=r.happensDates.some(e=>!!(e!=null&&e.isValid()));return!r.isDone&&t}function Eo(r){return r.dueDate?"dueDate":r.scheduledDate?"scheduledDate":r.startDate?"startDate":null}function fb(r,t,e,n){let i=r[t];return $D(i,r,t,e,n)}function jD(r,t,e,n){let i=window.moment();return $D(i,r,t,e,n)}function WD(r,t,e,n){return qD(r,t,null)}function $D(r,t,e,n,i){let s=new It(r).postpone(n,i);return qD(t,e,s)}function qD(r,t,e){let n=Ft.removeInferredStatusIfNeeded(r,[new fe(me(U({},r),{[t]:e}))])[0];return{postponedDate:e,postponedTask:n}}function YD(r,t){if(r){let e=r==null?void 0:r.format("DD MMM YYYY");return`Task's ${t} changed to ${e}`}else return`Task's ${t} removed`}function HD(r,t,e){return`\u2139\uFE0F ${pb(r,t,e)} (right-click for more options)`}function pb(r,t,e){let n=Eo(r),i=r[n];return Do(n,i,t,e)}function GD(r,t,e){let n=Eo(r),i=window.moment().startOf("day");return Do(n,i,t,e)}function BD(r,t,e){let n=Eo(r);return mb(n,r)}function mb(r,t){return r==="scheduledDate"&&t.scheduledDateIsInferred?"Cannot remove inferred scheduled date":`Remove ${yf(r)}`}function wj(r){return Za(r.replace("Date",""))}function yf(r){return r.replace("Date"," date")}function Do(r,t,e,n){let s=new It(t).postpone(n,e).format("ddd Do MMM"),a=e!=1?e:"a";if(t.isSameOrBefore(window.moment(),"day")){let l=wj(r);return(e>=0?`${l} in ${a} ${n}, on ${s}`:`${l} ${-a} ${n} ago, on ${s}`).replace(" 1 day ago"," yesterday").replace(" in 0 days"," today").replace("in a day","tomorrow")}let o=yf(r);return e>=0?`Postpone ${o} by ${a} ${n}, to ${s}`:`Backdate ${o} by ${-a} ${n}, to ${s}`}sd();var ss=class{constructor(t,e,n){this.newDate=e,this.dateFieldToEdit=t,this.displayName=n!=null?n:`Set Date: ${this.newDate.toDateString()}`}apply(t){return this.isCheckedForTask(t)?[t]:[new fe(me(U({},t),{[this.dateFieldToEdit]:window.moment(this.newDate)}))]}instructionDisplayName(){return this.displayName}isCheckedForTask(t){var e;return((e=t[this.dateFieldToEdit])==null?void 0:e.isSame(window.moment(this.newDate)))||!1}},Pn=class extends ss{constructor(t,e,n,i){var l;let s=(l=e[t])!=null?l:window.moment(),a=Do(t,s,n,i),o=new It(window.moment(s)).postpone(i,n).toDate();super(t,o,a)}},Ou=class{constructor(t,e){this.dateFieldToEdit=t,this.displayName=mb(t,e)}apply(t){let e=this.dateFieldToEdit==="scheduledDate"&&t.scheduledDateIsInferred;return t[this.dateFieldToEdit]===null||e?[t]:[new fe(me(U({},t),{[this.dateFieldToEdit]:null}))]}instructionDisplayName(){return this.displayName}isCheckedForTask(t){return!1}};function VD(r,t){return KD(t,r,1)}function zD(r,t){return KD(t,r,-1)}function KD(r,t,e){let n=window.moment().startOf("day"),i=n.toDate(),s=new It(n.clone());return[new ss(t,i,Do(t,n,0,"days")),new ss(t,s.postpone("day",e).toDate(),Do(t,n,e,"day")),new wo,new Pn(t,r,e*2,"days"),new Pn(t,r,e*3,"days"),new Pn(t,r,e*4,"days"),new Pn(t,r,e*5,"days"),new Pn(t,r,e*6,"days"),new wo,new Pn(t,r,e,"week"),new Pn(t,r,e*2,"weeks"),new Pn(t,r,e*3,"weeks"),new Pn(t,r,e,"month"),new wo,new Ou(t,r)]}function XD(r,t,e,n){var a;let i=t[e];LD(r,{defaultDate:i?i.format("YYYY-MM-DD"):new Date,disableMobile:!0,enableTime:!1,dateFormat:"Y-m-d",locale:{firstDayOfWeek:(a=new Intl.Locale(navigator.language).weekInfo.firstDay)!=null?a:1},onClose:(o,l,u)=>L(this,null,function*(){if(o.length>0){let c=o[0],d=new ss(e,c).apply(t);yield n(t,d)}u.destroy()}),onReady:(o,l,u)=>{let c=document.createElement("div");c.style.display="flex",c.style.justifyContent="space-between",c.style.marginTop="10px",QD(c,u,t,n,"Clear",()=>new Ou(e,t).apply(t)),QD(c,u,t,n,"Today",()=>{let f=new Date;return new ss(e,f).apply(t)}),u.calendarContainer.appendChild(c)}}).open()}function QD(r,t,e,n,i,s){let a=document.createElement("button");a.type="button",a.textContent=i,a.classList.add("flatpickr-button"),a.addEventListener("click",()=>L(this,null,function*(){let o=s();yield n(e,o),t.destroy()})),r.appendChild(a)}function ZD(r){return["startDate","scheduledDate","dueDate"].includes(r)}var bf=class extends ns{constructor(t,e,n=ri){super(n);let i=ZD(t)?VD(t,e):zD(t,e);this.addItemsForInstructions(i,e)}};su();var Tf=class{constructor(){this.data=kj}addDataAttribute(t,e,n){this.data[n].addDataAttribute(t,e,n)}addClassName(t,e){let n=this.data[e].className;t.classList.add(n)}},hb=class{constructor(t,e,n){if(t==="")throw Error("Developer note: CSS class cannot be an empty string, please specify one.");this.className=t,this.attributeName=e,this.attributeValueCalculator=n}addDataAttribute(t,e,n){if(this.attributeName===hb.noAttributeName)return;let i=this.attributeValueCalculator(n,e);i!==""&&(t.dataset[this.attributeName]=i)}},Nn=hb;Nn.noAttributeName="",Nn.noAttributeValueCalculator=()=>"",Nn.dateAttributeCalculator=(t,e)=>{let i="far";function s(o){let u=window.moment().startOf("day").diff(o,"days");if(isNaN(u))return null;if(u===0)return"today";let c="";return u>0?c+="past-":u<0&&(c+="future-"),Math.abs(u)<=7?c+=Math.abs(u).toString()+"d":c+=i,c}let a=e[t];if(!Array.isArray(a)&&a instanceof window.moment){let o=s(a);if(o)return o}return""};function xo(r){return new Nn(r,Nn.noAttributeName,Nn.noAttributeValueCalculator)}function Oo(r,t){return new Nn(r,t,Nn.dateAttributeCalculator)}var kj={createdDate:Oo("task-created","taskCreated"),dueDate:Oo("task-due","taskDue"),startDate:Oo("task-start","taskStart"),scheduledDate:Oo("task-scheduled","taskScheduled"),doneDate:Oo("task-done","taskDone"),cancelledDate:Oo("task-cancelled","taskCancelled"),priority:new Nn("task-priority","taskPriority",(r,t)=>Mr.priorityNameUsingNormal(t.priority).toLocaleLowerCase()),description:xo("task-description"),recurrenceRule:xo("task-recurring"),onCompletion:xo("task-onCompletion"),dependsOn:xo("task-dependsOn"),id:xo("task-id"),blockLink:xo("task-block-link")};function ot(r,t){let e=document.createElement(r);return t.appendChild(e),e}var Mi=class{static obsidianMarkdownRenderer(t,e,n,i){return L(this,null,function*(){!i||(yield JD.MarkdownRenderer.renderMarkdown(t,e,n,i))})}constructor({textRenderer:t=Mi.obsidianMarkdownRenderer,obsidianComponent:e,parentUlElement:n,taskLayoutOptions:i,queryLayoutOptions:s}){this.textRenderer=t,this.obsidianComponent=e,this.parentUlElement=n,this.taskLayoutOptions=i,this.queryLayoutOptions=s}renderTaskLine(t,e,n){return L(this,null,function*(){let i=ot("li",this.parentUlElement);i.classList.add("task-list-item","plugin-tasks-list-item");let s=ot("span",i);s.classList.add("tasks-list-text"),yield this.taskToHtml(t,s,i);let a=ot("input",i);return a.classList.add("task-list-item-checkbox"),a.type="checkbox",t.status.symbol!==" "&&(a.checked=!0,i.classList.add("is-checked")),t.taskLocation.hasKnownPath&&(a.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),a.disabled=!0;let u=t.toggleWithRecurrenceInUsersOrder();hr({originalTask:t,newTasks:u})}),a.addEventListener("contextmenu",l=>{new uf(Be.getInstance(),t).showAtPosition({x:l.clientX,y:l.clientY})}),a.setAttribute("title","Right-click for options")),i.prepend(a),i.setAttribute("data-task",t.status.symbol.trim()),i.setAttribute("data-line",e.toString()),i.setAttribute("data-task-status-name",t.status.name),i.setAttribute("data-task-status-type",t.status.type),a.setAttribute("data-line",e.toString()),this.queryLayoutOptions.shortMode&&this.addTooltip(t,s,n),i})}taskToHtml(t,e,n){return L(this,null,function*(){let i=new Tf,s=En.tasksPluginEmoji.taskSerializer;for(let a of this.taskLayoutOptions.shownComponents){let o=s.componentToString(t,this.queryLayoutOptions.shortMode,a);if(o){let l=ot("span",e),u=ot("span",l);if(yield this.renderComponentText(u,o,a,t),this.addInternalClasses(a,u),i.addClassName(l,a),i.addDataAttribute(l,t,a),i.addDataAttribute(n,t,a),fe.allDateFields().includes(a)){let c=a;l.addEventListener("click",d=>{d.preventDefault(),d.stopPropagation(),XD(l,t,c,ri)}),l.addEventListener("contextmenu",d=>{d.preventDefault(),d.stopPropagation(),new bf(c,t,ri).showAtPosition({x:d.clientX,y:d.clientY})}),l.setAttribute("title",`Click to edit ${yf(c)}, Right-click for more options`)}}}for(let a of this.taskLayoutOptions.hiddenComponents)i.addDataAttribute(n,t,a);n.dataset.taskPriority===void 0&&i.addDataAttribute(n,t,"priority")})}renderComponentText(t,e,n,i){return L(this,null,function*(){if(n==="description"){e=Fe.getInstance().removeAsWordFromDependingOnSettings(e);let{debugSettings:s}=le();s.showTaskHiddenData&&(e+=`<br>\u{1F41B} <b>${i.lineNumber}</b> . ${i.sectionStart} . ${i.sectionIndex} . '<code>${i.originalMarkdown}</code>'<br>'<code>${i.path}</code>' > '<code>${i.precedingHeader}</code>'<br>`),yield this.textRenderer(e,t,i.path,this.obsidianComponent);let a=t.querySelector("blockquote"),o=a!=null?a:t,l=o.querySelector("p");if(l!==null){for(;l.firstChild;)o.insertBefore(l.firstChild,l);l.remove()}t.querySelectorAll("p").forEach(u=>{u.hasChildNodes()||u.remove()}),t.querySelectorAll(".footnotes").forEach(u=>{u.remove()})}else t.innerHTML=e})}addInternalClasses(t,e){function n(i){let s=/["&\x00\r\n]/g,a=i.replace(s,"-");return a=a.replace(/^[-_]+/,""),a.length>0?a:null}if(t==="description"){let i=e.getElementsByClassName("tag");for(let s=0;s<i.length;s++){let a=i[s].textContent;if(a){let o=n(a),l=i[s];o&&(l.dataset.tagName=o)}}}}addTooltip(t,e,n){let{recurrenceSymbol:i,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,dueDateSymbol:l,cancelledDateSymbol:u,doneDateSymbol:c}=En.tasksPluginEmoji.taskSerializer.symbols;e.addEventListener("mouseenter",()=>{function d(T,_,O){_&&T.createDiv().setText(f({signifier:O,date:_}))}function f({signifier:T,date:_}){return`${T} ${_.format(ce.dateFormat)} (${_.from(window.moment().startOf("day"))})`}let p=e.createDiv();p.addClasses(["tooltip","pop-up"]),t.recurrence&&p.createDiv().setText(`${i} ${t.recurrence.toText()}`),d(p,t.createdDate,a),d(p,t.startDate,s),d(p,t.scheduledDate,o),d(p,t.dueDate,l),d(p,t.cancelledDate,u),d(p,t.doneDate,c);let b=t.getLinkText({isFilenameUnique:n});b&&p.createDiv().setText(`\u{1F517} ${b}`),e.addEventListener("mouseleave",()=>{p.remove()})})}};var _f=class{constructor({plugin:t}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);t.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(t,e){return L(this,null,function*(){var d;let n=new e0.MarkdownRenderChild(t);e.addChild(n);let i=t.findAll(".task-list-item").filter(f=>{var T;let p=(T=f.textContent)==null?void 0:T.split(`
`);if(p===void 0)return!1;let b=null;for(let _=0;_<p.length;_=_+1)if(p[_]!==""){b=p[_];break}return b===null?!1:Fe.getInstance().includedIn(b)});if(i.length===0)return;let s=e.sourcePath,a=e.getSectionInfo(t);if(a===null)return;let o=a.text.split(`
`),l=0,u=[];for(let f=a.lineStart;f<=a.lineEnd;f++){let p=o[f];if(p===void 0)continue;let b=null,T=fe.fromLine({line:p,taskLocation:new Lt(new mt(s),f,a.lineStart,l,b),fallbackDate:null});T!==null&&(u.push(T),l++)}let c=new Mi({obsidianComponent:n,parentUlElement:t,taskLayoutOptions:new Bn,queryLayoutOptions:new Ki});for(let f=0;f<i.length;f++){let p=u[f],b=i[f];if(p===void 0||b===void 0)continue;let T=(d=b.getAttr("data-line"))!=null?d:"0",_=Number.parseInt(T,10),O=yield c.renderTaskLine(p,_),D=b.childNodes;for(let Y=0;Y<D.length;Y=Y+1){let se=D[Y],H=se.nodeName.toLowerCase();H==="div"?O.prepend(se):(H==="ul"||H==="ol")&&O.append(se)}let A=b.querySelectorAll("[data-footnote-id]"),j=O.querySelectorAll("[data-footnote-id]");if(A.length===j.length)for(let Y=0;Y<A.length;Y++)j[Y].replaceWith(A[Y]);b.replaceWith(O)}})}};var t0=require("@codemirror/view"),r0=require("obsidian");Nt();var n0=()=>t0.ViewPlugin.fromClass(gb),gb=class{constructor(t){this.view=t,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(t){let{target:e}=t;if(!e||!(e instanceof HTMLInputElement)||e.type!=="checkbox")return!1;let n=e.closest("ul.plugin-tasks-query-result, div.callout-content");if(n){if(n.matches("div.callout-content")){let f=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(f),new r0.Notice(f,45e3)}return!1}let{state:i}=this.view,s=this.view.posAtDOM(e),a=i.doc.lineAt(s),o=fe.fromLine({line:a.text,taskLocation:Lt.fromUnknownPosition(new mt("")),fallbackDate:null});if(o===null)return!1;t.preventDefault();let l=o.toggleWithRecurrenceInUsersOrder(),u=l.map(f=>f.toFileLineString()).join(i.lineBreak),c=i.update({changes:{from:a.from,to:a.to,insert:u}});if(this.view.dispatch(c),l.length===1){let f=l[0].status.symbol!==" ";setTimeout(()=>{e.checked=f},1)}return!0}};var ia=require("obsidian"),s0=require("obsidian");function i0(r,t,e,n=void 0){let i="";t.isEmpty()||(i+=`Only tasks containing the global filter '${t.get()}'.

`);let s=new ao("  ");function a(c,d){return`${c}:

${s.explainQuery(d)}`}let o=new Ir(r,n),l=new Oi().query(n);if(!(o.ignoreGlobalQuery||l.ignoreGlobalQuery)&&e.hasInstructions()){let c=e.query(n);i+=a("Explanation of the global query",c)+`
`}return l.source!==""&&(i+=a("Explanation of the Query File Defaults (from properties/frontmatter in the query's file)",l)+`
`),i+=a("Explanation of this Tasks code block query",o),i}function vf(r,t,e){let i=new Oi().query(e).append(new Ir(r,e));return i.ignoreGlobalQuery?i:t.query(e).append(i)}Gi();Cr();function Cu(r,t,e){t&&r.push(Sj(e))}function Sj(r){return`tasks-layout-hide-${r}`}var wf=class{constructor(t){t?this.queryLayoutOptions=t:this.queryLayoutOptions=new Ki}getHiddenClasses(){let t=[],e=[[this.queryLayoutOptions.hideUrgency,"urgency"],[this.queryLayoutOptions.hideBacklinks,"backlinks"],[this.queryLayoutOptions.hideEditButton,"edit-button"],[this.queryLayoutOptions.hidePostponeButton,"postpone-button"]];for(let[n,i]of e)Cu(t,n,i);return this.queryLayoutOptions.shortMode&&t.push("tasks-layout-short-mode"),t}};Is();var kf=class{constructor(t){t?this.taskLayoutOptions=t:this.taskLayoutOptions=new Bn}generateHiddenClasses(){let t=[];return this.taskLayoutOptions.toggleableComponents.forEach(e=>{Cu(t,!this.taskLayoutOptions.isShown(e),e)}),Cu(t,!this.taskLayoutOptions.areTagsShown(),"tags"),t}};rr();var Mu=class{constructor(t){this.label=t,this.start()}start(){!this.recordTimings()||performance.mark(this.labelForStart())}finish(){!this.recordTimings()||(performance.mark(this.labelForEnd()),performance.measure(this.label,this.labelForStart(),this.labelForEnd()),this.printDuration())}printDuration(){let t=performance.getEntriesByName(this.label),e=t[t.length-1];e?console.log(this.label+":",e.duration.toFixed(2),"milliseconds"):console.log(`Measurement for ${this.label} not found`)}labelForStart(){return`${this.label} - start`}labelForEnd(){return`${this.label} - end`}recordTimings(){let{debugSettings:t}=le();return t.recordTimings}};Nt();var yb=require("obsidian");var as=class extends ns{constructor(t,e,n=ri){super(n);let i=(u,c,d,f,p,b)=>{var D;let T=!1,_=Eo(e);if(_){let{postponedDate:A}=b(e,_,d,f);(D=e[_])!=null&&D.isSame(A,"day")&&(T=!0)}let O=p(e,f,d);c.setChecked(T).setTitle(O).onClick(()=>as.postponeOnClickCallback(u,e,f,d,b,n))},s=GD,a=jD;this.addItem(u=>i(t,u,"days",0,s,a)),this.addItem(u=>i(t,u,"day",1,s,a)),this.addSeparator();let o=pb,l=fb;this.addItem(u=>i(t,u,"days",2,o,l)),this.addItem(u=>i(t,u,"days",3,o,l)),this.addItem(u=>i(t,u,"days",4,o,l)),this.addItem(u=>i(t,u,"days",5,o,l)),this.addItem(u=>i(t,u,"days",6,o,l)),this.addSeparator(),this.addItem(u=>i(t,u,"week",1,o,l)),this.addItem(u=>i(t,u,"weeks",2,o,l)),this.addItem(u=>i(t,u,"weeks",3,o,l)),this.addItem(u=>i(t,u,"month",1,o,l)),this.addSeparator(),this.addItem(u=>i(t,u,"days",2,BD,WD))}static postponeOnClickCallback(o,l,u,c){return L(this,arguments,function*(t,e,n,i,s=fb,a=ri){var b;let d=Eo(e);if(d===null){let T="\u26A0\uFE0F Postponement requires a date: due, scheduled or start.";return new yb.Notice(T,1e4)}let{postponedDate:f,postponedTask:p}=s(e,d,i,n);(b=e[d])!=null&&b.isSame(f,"day")||(yield a(e,p),as.postponeSuccessCallback(t,d,f))})}static postponeSuccessCallback(t,e,n){t.style.pointerEvents="none";let i=YD(n,e);new yb.Notice(i,2e3)}};var Sf=class{constructor(t,e,n,i,s,a=Mi.obsidianMarkdownRenderer){switch(this.source=e,this._tasksFile=n,this.renderMarkdown=i,this.obsidianComponent=s,this.textRenderer=a,t){case"block-language-tasks":this.query=this.makeQueryFromSourceAndTasksFile(),this.queryType="tasks";break;default:this.query=this.makeQueryFromSourceAndTasksFile(),this.queryType="tasks";break}}makeQueryFromSourceAndTasksFile(){return vf(this.source,dn.getInstance(),this.tasksFile)}get tasksFile(){return this._tasksFile}setTasksFile(t){this._tasksFile=t,this.query=this.makeQueryFromSourceAndTasksFile()}get filePath(){var t,e;return(e=(t=this.tasksFile)==null?void 0:t.path)!=null?e:void 0}render(t,e,n,i){return L(this,null,function*(){t==="Warm"&&this.query.error===void 0?yield this.renderQuerySearchResults(e,t,n,i):this.query.error!==void 0?this.renderErrorMessage(n,this.query.error):this.renderLoadingMessage(n)})}renderQuerySearchResults(t,e,n,i){return L(this,null,function*(){let s=this.explainAndPerformSearch(e,t,n);if(s.searchErrorMessage!==void 0){this.renderErrorMessage(n,s.searchErrorMessage);return}yield this.renderSearchResults(s,n,i)})}explainAndPerformSearch(t,e,n){let i=new Mu(`Search: ${this.query.queryId} - ${this.filePath}`);i.start(),this.query.debug(`[render] Render called: plugin state: ${t}; searching ${e.length} tasks`),this.query.queryLayoutOptions.explainQuery&&this.createExplanation(n);let s=this.query.applyQueryToTasks(e);return i.finish(),s}renderSearchResults(t,e,n){return L(this,null,function*(){let i=new Mu(`Render: ${this.query.queryId} - ${this.filePath}`);i.start(),yield this.addAllTaskGroups(t.taskGroups,e,n);let s=t.totalTasksCount;this.addTaskCount(e,t),this.query.debug(`[render] ${s} tasks displayed`),i.finish()})}renderErrorMessage(t,e){t.createDiv().innerHTML=`<pre>Tasks query: ${e.replace(/\n/g,"<br>")}</pre>`}renderLoadingMessage(t){t.setText("Loading Tasks ...")}createExplanation(t){let e=i0(this.source,Fe.getInstance(),dn.getInstance(),this.tasksFile),n=ot("pre",t);n.classList.add("plugin-tasks-query-explanation"),n.setText(e),t.appendChild(n)}addAllTaskGroups(t,e,n){return L(this,null,function*(){for(let i of t.groups){yield this.addGroupHeadings(e,i.groupHeadings);let s=new Set;yield this.createTaskList(i.tasks,e,n,s)}})}createTaskList(t,e,n,i){return L(this,null,function*(){let s=ot("ul",e);s.classList.add("contains-task-list","plugin-tasks-query-result"),s.classList.add(...new kf(this.query.taskLayoutOptions).generateHiddenClasses()),s.classList.add(...new wf(this.query.queryLayoutOptions).getHiddenClasses());let a=this.getGroupingAttribute();a&&a.length>0&&(s.dataset.taskGroupBy=a);let o=new Mi({textRenderer:this.textRenderer,obsidianComponent:this.obsidianComponent,parentUlElement:s,taskLayoutOptions:this.query.taskLayoutOptions,queryLayoutOptions:this.query.queryLayoutOptions});for(let[l,u]of t.entries())this.query.queryLayoutOptions.hideTree?u instanceof fe&&(yield this.addTask(s,o,u,l,n)):yield this.addTaskOrListItemAndChildren(s,o,u,l,n,t,i);e.appendChild(s)})}willBeRenderedLater(t,e,n){let i=t.findClosestParentTask();return i?!!(!e.has(i)&&n.includes(i)):!1}alreadyRendered(t,e){return e.has(t)}addTaskOrListItemAndChildren(t,e,n,i,s,a,o){return L(this,null,function*(){if(this.alreadyRendered(n,o)||this.willBeRenderedLater(n,o,a))return;let l=yield this.addTaskOrListItem(t,e,n,i,s);o.add(n),n.children.length>0&&(yield this.createTaskList(n.children,l,s,o),n.children.forEach(u=>{o.add(u)}))})}addTaskOrListItem(t,e,n,i,s){return L(this,null,function*(){return n instanceof fe?yield this.addTask(t,e,n,i,s):yield this.addListItem(t,n,i)})}addListItem(t,e,n){return L(this,null,function*(){var o,l;let i=ot("li",t);if(e.statusCharacter){let u=ot("input",i);u.classList.add("task-list-item-checkbox"),u.type="checkbox",u.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),u.disabled=!0;let d=e.checkOrUncheck();hr({originalTask:e,newTasks:d})}),e.statusCharacter!==" "&&(u.checked=!0,i.classList.add("is-checked")),i.classList.add("task-list-item"),i.setAttribute("data-task",e.statusCharacter.trim()),i.setAttribute("data-line",n.toString())}let s=ot("span",i);yield this.textRenderer(e.description,s,(l=(o=e.findClosestParentTask())==null?void 0:o.path)!=null?l:"",this.obsidianComponent);let a=s.querySelector("p");if(a!==null){for(;a.firstChild;)s.insertBefore(a.firstChild,a);a.remove()}return i})}addTask(t,e,n,i,s){return L(this,null,function*(){let a=this.isFilenameUnique({task:n},s.allMarkdownFiles),o=yield e.renderTaskLine(n,i,a);o.querySelectorAll("[data-footnote-id]").forEach(d=>d.remove());let u=ot("span",o);u.classList.add("task-extras"),this.query.queryLayoutOptions.hideUrgency||this.addUrgency(u,n);let c=this.query.queryLayoutOptions.shortMode;return this.query.queryLayoutOptions.hideBacklinks||this.addBacklinks(u,n,c,a,s),this.query.queryLayoutOptions.hideEditButton||this.addEditButton(u,n,s),!this.query.queryLayoutOptions.hidePostponeButton&&UD(n)&&this.addPostponeButton(u,n,c),t.appendChild(o),o})}addEditButton(t,e,n){let i=ot("a",t);i.classList.add("tasks-edit"),i.title="Edit task",i.href="#",i.addEventListener("click",s=>n.editTaskPencilClickHandler(s,e,n.allTasks))}addUrgency(t,e){let n=new Intl.NumberFormat().format(e.urgency),i=ot("span",t);i.textContent=n,i.classList.add("tasks-urgency")}addGroupHeadings(t,e){return L(this,null,function*(){for(let n of e)yield this.addGroupHeading(t,n)})}addGroupHeading(t,e){return L(this,null,function*(){let n="h6";e.nestingLevel===0?n="h4":e.nestingLevel===1&&(n="h5");let i=ot(n,t);i.classList.add("tasks-group-heading"),this.obsidianComponent!==null&&(yield this.renderMarkdown(e.displayName,i,this.tasksFile.path,this.obsidianComponent))})}addBacklinks(t,e,n,i,s){var u;let a=ot("span",t);a.classList.add("tasks-backlink"),n||a.append(" (");let o=ot("a",a);o.rel="noopener",o.target="_blank",o.classList.add("internal-link"),n&&o.classList.add("internal-link-short-mode");let l;n?l=" \u{1F517}":l=(u=e.getLinkText({isFilenameUnique:i}))!=null?u:"",o.text=l,o.addEventListener("click",c=>L(this,null,function*(){yield s.backlinksClickHandler(c,e)})),o.addEventListener("mousedown",c=>L(this,null,function*(){yield s.backlinksMousedownHandler(c,e)})),n||a.append(")")}addPostponeButton(t,e,n){let s="day",a=HD(e,1,s),o=ot("a",t);o.classList.add("tasks-postpone"),n&&o.classList.add("tasks-postpone-short-mode"),o.title=a,o.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),as.postponeOnClickCallback(o,e,1,s)}),o.addEventListener("contextmenu",l=>L(this,null,function*(){l.preventDefault(),l.stopPropagation(),new as(o,e).showAtPosition({x:l.clientX,y:l.clientY})}))}addTaskCount(t,e){if(!this.query.queryLayoutOptions.hideTaskCount){let n=ot("div",t);n.classList.add("task-count"),n.textContent=e.totalTasksCountDisplayText()}}isFilenameUnique({task:t},e){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let i=n[1];return e.filter(a=>{if(a.basename===i)return!0}).length<2}getGroupingAttribute(){let t=[];for(let e of this.query.grouping)t.push(e.property);return t.join(",")}};var Ef=class{constructor({plugin:t,events:e}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=t.app,this.plugin=t,this.events=e,t.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(t,e,n){return L(this,null,function*(){let i=this.app,s=n.sourcePath,a=i.vault.getAbstractFileByPath(s),o=null;a&&a instanceof ia.TFile&&(o=i.metadataCache.getFileCache(a));let l=new mt(s,o!=null?o:{}),u=new bb({app:i,plugin:this.plugin,events:this.events,container:e,source:t,tasksFile:l});n.addChild(u),u.load()})}},bb=class extends ia.MarkdownRenderChild{constructor({app:e,plugin:n,events:i,container:s,source:a,tasksFile:o}){super(s);this.queryResultsRenderer=new Sf(this.containerEl.className,a,o,ia.MarkdownRenderer.renderMarkdown,this),this.queryResultsRenderer.query.debug("[render] QueryRenderChild.constructor() entered"),this.app=e,this.plugin=n,this.events=i}onload(){this.queryResultsRenderer.query.debug("[render] QueryRenderChild.onload() entered"),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight(),this.registerEvent(this.app.metadataCache.on("changed",(e,n,i)=>{let s=e.path;s===this.queryResultsRenderer.filePath&&this.handleMetadataOrFilePathChange(s,i)})),this.registerEvent(this.app.vault.on("rename",(e,n)=>{let i=null;e&&e instanceof ia.TFile&&(i=this.app.metadataCache.getFileCache(e)),this.handleMetadataOrFilePathChange(e.path,i)}))}handleMetadataOrFilePathChange(e,n){let i=this.queryResultsRenderer.tasksFile,s=new mt(e,n!=null?n:{}),a=i.path!==s.path,o=!i.rawFrontmatterIdenticalTo(s);(a||o)&&(this.queryResultsRenderer.setTasksFile(s),this.events.triggerRequestCacheUpdate(this.render.bind(this)))}onunload(){this.queryResultsRenderer.query.debug("[render] QueryRenderChild.onunload() entered"),this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let e=new Date;e.setHours(24,0,0,0);let n=new Date,i=e.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.queryResultsRenderer.query=vf(this.queryResultsRenderer.source,dn.getInstance(),this.queryResultsRenderer.tasksFile),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},i+1e3)}render(i){return L(this,arguments,function*({tasks:e,state:n}){var a;let s=ot("div",this.containerEl);yield this.queryResultsRenderer.render(n,e,s,{allTasks:this.plugin.getTasks(),allMarkdownFiles:this.app.vault.getMarkdownFiles(),backlinksClickHandler:Dj(this.app),backlinksMousedownHandler:xj(this.app),editTaskPencilClickHandler:Ej(this.app)}),(a=this.containerEl.firstChild)==null||a.replaceWith(s)})}};function Ej(r){return function(e,n,i){e.preventDefault();let s=o=>L(this,null,function*(){yield hr({originalTask:n,newTasks:Ft.removeInferredStatusIfNeeded(n,o)})});new zi({app:r,task:n,onSubmit:s,allTasks:i}).open()}}function Dj(r){return function(e,n){return L(this,null,function*(){let i=yield Ay(n,r.vault);if(i){let[s,a]=i,o=r.workspace.getLeaf(s0.Keymap.isModEvent(e));e.preventDefault(),yield o.openFile(a,{eState:{line:s}})}})}}function xj(r){return function(e,n){return L(this,null,function*(){if(e.button===1){let i=yield Ay(n,r.vault);if(i){let[s,a]=i,o=r.workspace.getLeaf("tab");e.preventDefault(),yield o.openFile(a,{eState:{line:s}})}}})}}rr();var Ce=require("obsidian");Jr();wi();Sn();gs();Ga();var Df=class{constructor(t){this._markdown="";this.columnNames=t,this.addTitleRow()}get markdown(){return this._markdown}addTitleRow(){let t="|",e="|";this.columnNames.forEach(n=>{t+=` ${n} |`,e+=" ----- |"}),this._markdown+=`${t}
`,this._markdown+=`${e}
`}addRow(t){let e=this.makeRowText(t);this._markdown+=`${e}
`}addRowIfNew(t){let e=this.makeRowText(t);this._markdown.includes(e)||(this._markdown+=`${e}
`)}makeRowText(t){let e="|";return t.forEach(n=>{e+=` ${n} |`}),e}};gs();Jr();Sn();function a0(r,t){return r.findIndex(e=>e.symbol===t)}function os(r){return r===""?r:"`"+(r!==" "?r:"space")+"`"}function Oj(r,t){let e=ge.getTypeForUnknownSymbol(r.symbol);if(r.type===e||e==="TODO"&&r.symbol!==" ")return;let n=os(r.symbol),i=os(e);t.push(N.t("reports.statusRegistry.messages.notConventionalType",{symbol:n,type:i}))}function Cj(r,t,e){let n=t.nextStatusSymbol,i=a0(r,n);if(i===-1){let a=os(n);e.push(N.t("reports.statusRegistry.messages.nextSymbolUnknown",{symbol:a}));return}if(t.type!=="DONE")return;let s=r[i];if(s){if(s.type!=="TODO"&&s.type!=="IN_PROGRESS"){let a="https://publish.obsidian.md/tasks/Getting+Started/Statuses/Recurring+Tasks+and+Custom+Statuses",o=os(s.type),l=[N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line1",{nextType:o}),N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line2"),N.t("reports.statusRegistry.messages.wrongTypeAfterDone.line3",{helpURL:a})].join("<br>");e.push(l)}}else e.push(N.t("reports.statusRegistry.messages.cannotFindNextStatus"))}function Mj(r,t,e){let n=[];if(t.symbol===ge.EMPTY.symbol)return n.push(N.t("reports.statusRegistry.messages.emptySymbol")),n;if(a0(r,t.symbol)!=e){let s=os(t.symbol);return n.push(N.t("reports.statusRegistry.messages.duplicateSymbol",{symbol:s})),n}return Oj(t,n),Cj(r,t,n),n}function o0(r){let t=new Df([N.t("reports.statusRegistry.columnHeadings.statusSymbol"),N.t("reports.statusRegistry.columnHeadings.nextStatusSymbol"),N.t("reports.statusRegistry.columnHeadings.statusName"),N.t("reports.statusRegistry.columnHeadings.statusType"),N.t("reports.statusRegistry.columnHeadings.problems")]),e=et.allStatuses(r);return e.forEach((n,i)=>{t.addRow([os(n.symbol),os(n.nextStatusSymbol),n.name,os(n.type),Mj(e,n,i).join("<br>")])}),t.markdown}function l0(r,t,e,n){let s=o0(r),a=t.mermaidDiagram(!0);return`# ${e}

## ${N.t("reports.statusRegistry.about.title")}

${N.t("reports.statusRegistry.about.createdBy",{version:n})}

${N.t("reports.statusRegistry.about.updateReport.line1")}

- ${N.t("reports.statusRegistry.about.updateReport.line2")}
- ${N.t("reports.statusRegistry.about.updateReport.line3")}

${N.t("reports.statusRegistry.about.deleteFileAnyTime")}

## ${N.t("reports.statusRegistry.statusSettings.title")}

<!--
${N.t("reports.statusRegistry.statusSettings.comment.line1")}
${N.t("reports.statusRegistry.statusSettings.comment.line2")}
${N.t("reports.statusRegistry.statusSettings.comment.line3")}
-->

${N.t("reports.statusRegistry.statusSettings.theseAreStatusValues")}

${s}
## ${N.t("reports.statusRegistry.loadedSettings.title")}

<!-- ${N.t("reports.statusRegistry.loadedSettings.switchToLivePreview")} -->

${N.t("reports.statusRegistry.loadedSettings.settingsActuallyUsed")}
${a}`}gs();function u0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],['"',"Quote","x","TODO"],["0","Speech bubble 0","0","NON_TASK"],["1","Speech bubble 1","1","NON_TASK"],["2","Speech bubble 2","2","NON_TASK"],["3","Speech bubble 3","3","NON_TASK"],["4","Speech bubble 4","4","NON_TASK"],["5","Speech bubble 5","5","NON_TASK"],["6","Speech bubble 6","6","NON_TASK"],["7","Speech bubble 7","7","NON_TASK"],["8","Speech bubble 8","8","NON_TASK"],["9","Speech bubble 9","9","NON_TASK"]]}function c0(){return[[" ","incomplete","x","TODO"],["x","complete / done"," ","DONE"],["-","cancelled"," ","CANCELLED"],[">","deferred","x","TODO"],["/","in progress, or half-done","x","IN_PROGRESS"],["!","Important","x","TODO"],["?","question","x","TODO"],["R","review","x","TODO"],["+","Inbox / task that should be processed later","x","TODO"],["b","bookmark","x","TODO"],["B","brainstorm","x","TODO"],["D","deferred or scheduled","x","TODO"],["I","Info","x","TODO"],["i","idea","x","TODO"],["N","note","x","TODO"],["Q","quote","x","TODO"],["W","win / success / reward","x","TODO"],["P","pro","x","TODO"],["C","con","x","TODO"]]}function d0(){return[[" ","To Do","x","TODO"],["/","In Progress","x","IN_PROGRESS"],["x","Done"," ","DONE"],["-","Cancelled"," ","CANCELLED"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["i","Infomation","x","TODO"],["S","Amount","x","TODO"],["*","Star","x","TODO"],["b","Bookmark","x","TODO"],["\u201C","Quote","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["I","Idea","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function f0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],[">","Deferred","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["r","Review","x","TODO"]]}function p0(){return[[" ","Unchecked","x","TODO"],["x","Regular"," ","DONE"],["X","Checked"," ","DONE"],["-","Dropped"," ","CANCELLED"],[">","Forward","x","TODO"],["D","Date","x","TODO"],["?","Question","x","TODO"],["/","Half Done","x","IN_PROGRESS"],["+","Add","x","TODO"],["R","Research","x","TODO"],["!","Important","x","TODO"],["i","Idea","x","TODO"],["B","Brainstorm","x","TODO"],["P","Pro","x","TODO"],["C","Con","x","TODO"],["Q","Quote","x","TODO"],["N","Note","x","TODO"],["b","Bookmark","x","TODO"],["I","Information","x","TODO"],["p","Paraphrase","x","TODO"],["L","Location","x","TODO"],["E","Example","x","TODO"],["A","Answer","x","TODO"],["r","Reward","x","TODO"],["c","Choice","x","TODO"],["d","Doing","x","IN_PROGRESS"],["T","Time","x","TODO"],["@","Character / Person","x","TODO"],["t","Talk","x","TODO"],["O","Outline / Plot","x","TODO"],["~","Conflict","x","TODO"],["W","World","x","TODO"],["f","Clue / Find","x","TODO"],["F","Foreshadow","x","TODO"],["H","Favorite / Health","x","TODO"],["&","Symbolism","x","TODO"],["s","Secret","x","TODO"]]}function m0(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],["f","Fire","x","TODO"],["k","Key","x","TODO"],["w","Win","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function h0(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}function g0(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}rr();rr();Cr();Ga();var In=require("obsidian");Jr();Jr();Sn();wi();var sa=class{validate(t){let e=[];return e.push(...this.validateSymbol(t)),e.push(...this.validateName(t)),e.push(...this.validateNextSymbol(t)),e}validateStatusCollectionEntry(t){let[e,n,i,s]=t,a=[];if(a.push(...this.validateType(s)),e===i&&s!=="NON_TASK"&&a.push(`Status symbol '${e}' toggles to itself`),a.length>0)return a;let o=ge.createFromImportedValue(t).configuration;return a.push(...this.validateSymbolTypeConventions(o)),a.push(...this.validate(o)),a}validateSymbol(t){return sa.validateOneSymbol(t.symbol,"Task Status Symbol")}validateNextSymbol(t){return sa.validateOneSymbol(t.nextStatusSymbol,"Task Next Status Symbol")}validateName(t){let e=[];return t.name.length===0&&e.push("Task Status Name cannot be empty."),e}validateType(t){let e=tr[t],n=[];return e||n.push(`Status Type "${t}" is not a valid type`),e=="EMPTY"&&n.push('Status Type "EMPTY" is not permitted in user data'),n}validateSymbolTypeConventions(t){let e=[],n=t.symbol,i=new Be,s=n==="X"?"x":n,a=i.bySymbol(s);return a.type!=="EMPTY"&&(t.nextStatusSymbol!==a.nextStatusSymbol&&e.push(`Next Status Symbol for symbol '${n}': '${t.nextStatusSymbol}' is inconsistent with convention '${a.nextStatusSymbol}'`),t.type!==a.type&&e.push(`Status Type for symbol '${n}': '${t.type}' is inconsistent with convention '${a.type}'`)),e}static validateOneSymbol(t,e){let n=[];return t.length===0&&n.push(`${e} cannot be empty.`),t.length>1&&n.push(`${e} ("${t}") must be a single character.`),n}};Sn();gs();var aa=new sa,Fr=class extends In.Modal{constructor(e,n,i){super(e.app);this.plugin=e;this.saved=!1;this.error=!1;this.statusSymbol=n.symbol,this.statusName=n.name,this.statusNextSymbol=n.nextStatusSymbol,this.statusAvailableAsCommand=n.availableAsCommand,this.type=n.type,this.isCoreStatus=i}statusConfiguration(){return new gt(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}display(){return L(this,null,function*(){let{contentEl:e}=this;e.empty();let n=e.createDiv(),i;new In.Setting(n).setName(N.t("modals.customStatusModal.editStatusSymbol.name")).setDesc(N.t("modals.customStatusModal.editStatusSymbol.description")).addText(u=>{i=u,u.setValue(this.statusSymbol).onChange(c=>{this.statusSymbol=c,Fr.setValid(u,aa.validateSymbol(this.statusConfiguration()))})}).setDisabled(this.isCoreStatus).then(u=>{Fr.setValid(i,aa.validateSymbol(this.statusConfiguration()))});let s;new In.Setting(n).setName(N.t("modals.customStatusModal.editStatusName.name")).setDesc(N.t("modals.customStatusModal.editStatusName.description")).addText(u=>{s=u,u.setValue(this.statusName).onChange(c=>{this.statusName=c,Fr.setValid(u,aa.validateName(this.statusConfiguration()))})}).then(u=>{Fr.setValid(s,aa.validateName(this.statusConfiguration()))});let a;new In.Setting(n).setName(N.t("modals.customStatusModal.editNextStatusSymbol.name")).setDesc(N.t("modals.customStatusModal.editNextStatusSymbol.description")).addText(u=>{a=u,u.setValue(this.statusNextSymbol).onChange(c=>{this.statusNextSymbol=c,Fr.setValid(u,aa.validateNextSymbol(this.statusConfiguration()))})}).then(u=>{Fr.setValid(a,aa.validateNextSymbol(this.statusConfiguration()))}),new In.Setting(n).setName(N.t("modals.customStatusModal.editStatusType.name")).setDesc(N.t("modals.customStatusModal.editStatusType.description")).addDropdown(u=>{["TODO","IN_PROGRESS","DONE","CANCELLED","NON_TASK"].forEach(d=>{u.addOption(d,d)}),u.setValue(this.type).onChange(d=>{this.type=ge.getTypeFromStatusTypeString(d)})}),ge.tasksPluginCanCreateCommandsForStatuses()&&new In.Setting(n).setName(N.t("modals.customStatusModal.editAvailableAsCommand.name")).setDesc(N.t("modals.customStatusModal.editAvailableAsCommand.description")).addToggle(u=>{u.setValue(this.statusAvailableAsCommand).onChange(c=>L(this,null,function*(){this.statusAvailableAsCommand=c}))});let o=e.createDiv(),l=new In.Setting(o);l.addButton(u=>(u.setTooltip("Save").setIcon("checkmark").onClick(()=>L(this,null,function*(){let c=aa.validate(this.statusConfiguration());if(c.length>0){let d=c.join(`
`)+`

`+N.t("modals.customStatusModal.fixErrorsBeforeSaving");new In.Notice(d);return}this.saved=!0,this.close()})),u)),l.addExtraButton(u=>(u.setIcon("cross").setTooltip("Cancel").onClick(()=>{this.saved=!1,this.close()}),u))})}onOpen(){this.display()}static setValidationError(e){e.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(e){e.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(e,n){n.length===0?Fr.removeValidationError(e):Fr.setValidationError(e)}};var or=class extends Ce.PluginSettingTab{constructor({plugin:e}){super(e.app,e);this.customFunctions={insertTaskCoreStatusSettings:this.insertTaskCoreStatusSettings.bind(this),insertCustomTaskStatusSettings:this.insertCustomTaskStatusSettings.bind(this)};this.plugin=e}saveSettings(e){return L(this,null,function*(){yield this.plugin.saveSettings(),e&&this.display()})}display(){let{containerEl:e}=this;e.empty(),this.containerEl.addClass("tasks-settings"),e.createEl("p",{cls:"tasks-setting-important",text:N.t("settings.changeRequiresRestart")}),new Ce.Setting(e).setName(N.t("settings.format.name")).setDesc(or.createFragmentWithHTML(`<p>${N.t("settings.format.description.line1")}</p><p>${N.t("settings.format.description.line2")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Reference/Task+Formats/About+Task+Formats"))).addDropdown(c=>{for(let d of Object.keys(En))c.addOption(d,En[d].getDisplayName());c.setValue(le().taskFormat).onChange(d=>L(this,null,function*(){ft({taskFormat:d}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.globalFilter.heading")).setHeading();let n=null;new Ce.Setting(e).setName(N.t("settings.globalFilter.filter.name")).setDesc(or.createFragmentWithHTML(`<p><b>${N.t("settings.globalFilter.filter.description.line1")}</b></p><p>${N.t("settings.globalFilter.filter.description.line2")}<p><p>${N.t("settings.globalFilter.filter.description.line3")}</br>${N.t("settings.globalFilter.filter.description.line4")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Global+Filter"))).addText(c=>{c.setPlaceholder(N.t("settings.globalFilter.filter.placeholder")).setValue(Fe.getInstance().get()).onChange(d=>L(this,null,function*(){ft({globalFilter:d}),Fe.getInstance().set(d),yield this.plugin.saveSettings(),ni(n,d.length>0)}))}),n=new Ce.Setting(e).setName(N.t("settings.globalFilter.removeFilter.name")).setDesc(N.t("settings.globalFilter.removeFilter.description")).addToggle(c=>{let d=le();c.setValue(d.removeGlobalFilter).onChange(f=>L(this,null,function*(){ft({removeGlobalFilter:f}),Fe.getInstance().setRemoveGlobalFilter(f),yield this.plugin.saveSettings()}))}),ni(n,le().globalFilter.length>0),new Ce.Setting(e).setName(N.t("settings.globalQuery.heading")).setHeading(),Pj(new Ce.Setting(e).setDesc(or.createFragmentWithHTML(`<p>${N.t("settings.globalQuery.query.description")}</p>`+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Queries/Global+Query"))).addTextArea(c=>{let d=le();c.inputEl.rows=4,c.setPlaceholder("# "+N.t("settings.globalQuery.query.placeholder")).setValue(d.globalQuery).onChange(f=>L(this,null,function*(){ft({globalQuery:f}),dn.getInstance().set(f),yield this.plugin.saveSettings()}))})),new Ce.Setting(e).setName(N.t("settings.statuses.heading")).setHeading();let{headingOpened:i}=le();[{text:N.t("settings.statuses.coreStatuses.heading"),level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>"+N.t("settings.statuses.coreStatuses.description.line1")+"</p><p>"+N.t("settings.statuses.coreStatuses.description.line2")+"</p>"},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertTaskCoreStatusSettings",featureFlag:"",notice:null}]},{text:N.t("settings.statuses.customStatuses.heading"),level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>"+N.t("settings.statuses.customStatuses.description.line1")+"</p><p>"+N.t("settings.statuses.customStatuses.description.line2")+"</p><p>"+N.t("settings.statuses.customStatuses.description.line3")+`</p><p></p><p><a href="https://publish.obsidian.md/tasks/Getting+Started/Statuses">${N.t("settings.statuses.customStatuses.description.line4")}</a></p>`},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertCustomTaskStatusSettings",featureFlag:"",notice:null}]}].forEach(c=>{var p;let d=(p=i[c.text])!=null?p:!0,f=this.addOneSettingsBlock(e,c,i);f.open=d}),new Ce.Setting(e).setName(N.t("settings.dates.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.dates.createdDate.name")).setDesc(or.createFragmentWithHTML(N.t("settings.dates.createdDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Created+date"))).addToggle(c=>{let d=le();c.setValue(d.setCreatedDate).onChange(f=>L(this,null,function*(){ft({setCreatedDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.dates.doneDate.name")).setDesc(or.createFragmentWithHTML(N.t("settings.dates.doneDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Done+date"))).addToggle(c=>{let d=le();c.setValue(d.setDoneDate).onChange(f=>L(this,null,function*(){ft({setDoneDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.dates.cancelledDate.name")).setDesc(or.createFragmentWithHTML(N.t("settings.dates.cancelledDate.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Dates#Cancelled+date"))).addToggle(c=>{let d=le();c.setValue(d.setCancelledDate).onChange(f=>L(this,null,function*(){ft({setCancelledDate:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.heading")).setHeading();let a=null,o=null;new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.toggle.name")).setDesc(or.createFragmentWithHTML(N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line1")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line2")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line3")+"</br>"+N.t("settings.datesFromFileNames.scheduledDate.toggle.description.line4")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Use+Filename+as+Default+Date"))).addToggle(c=>{let d=le();c.setValue(d.useFilenameAsScheduledDate).onChange(f=>L(this,null,function*(){ft({useFilenameAsScheduledDate:f}),ni(a,f),ni(o,f),yield this.plugin.saveSettings()}))}),a=new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.name")).setDesc(or.createFragmentWithHTML(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.description.line1")+`</br><p><a href="https://momentjs.com/docs/#/displaying/format/">${N.t("settings.datesFromFileNames.scheduledDate.extraFormat.description.line2")}</a></p>`)).addText(c=>{let d=le();c.setPlaceholder(N.t("settings.datesFromFileNames.scheduledDate.extraFormat.placeholder")).setValue(d.filenameAsScheduledDateFormat).onChange(f=>L(this,null,function*(){ft({filenameAsScheduledDateFormat:f}),yield this.plugin.saveSettings()}))}),o=new Ce.Setting(e).setName(N.t("settings.datesFromFileNames.scheduledDate.folders.name")).setDesc(N.t("settings.datesFromFileNames.scheduledDate.folders.description")).addText(c=>L(this,null,function*(){let d=le();yield this.plugin.saveSettings(),c.setValue(or.renderFolderArray(d.filenameAsDateFolders)).onChange(f=>L(this,null,function*(){let p=or.parseCommaSeparatedFolders(f);ft({filenameAsDateFolders:p}),yield this.plugin.saveSettings()}))})),ni(a,le().useFilenameAsScheduledDate),ni(o,le().useFilenameAsScheduledDate),new Ce.Setting(e).setName(N.t("settings.recurringTasks.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.recurringTasks.nextLine.name")).setDesc(or.createFragmentWithHTML(N.t("settings.recurringTasks.nextLine.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Recurring+Tasks"))).addToggle(c=>{let{recurrenceOnNextLine:d}=le();c.setValue(d).onChange(f=>L(this,null,function*(){ft({recurrenceOnNextLine:f}),yield this.plugin.saveSettings()}))}),new Ce.Setting(e).setName(N.t("settings.autoSuggest.heading")).setHeading();let l=null,u=null;new Ce.Setting(e).setName(N.t("settings.autoSuggest.toggle.name")).setDesc(or.createFragmentWithHTML(N.t("settings.autoSuggest.toggle.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Auto-Suggest"))).addToggle(c=>{let d=le();c.setValue(d.autoSuggestInEditor).onChange(f=>L(this,null,function*(){ft({autoSuggestInEditor:f}),yield this.plugin.saveSettings(),ni(l,f),ni(u,f)}))}),l=new Ce.Setting(e).setName(N.t("settings.autoSuggest.minLength.name")).setDesc(N.t("settings.autoSuggest.minLength.description")).addSlider(c=>{let d=le();c.setLimits(0,3,1).setValue(d.autoSuggestMinMatch).setDynamicTooltip().onChange(f=>L(this,null,function*(){ft({autoSuggestMinMatch:f}),yield this.plugin.saveSettings()}))}),u=new Ce.Setting(e).setName(N.t("settings.autoSuggest.maxSuggestions.name")).setDesc(N.t("settings.autoSuggest.maxSuggestions.description")).addSlider(c=>{let d=le();c.setLimits(3,20,1).setValue(d.autoSuggestMaxItems).setDynamicTooltip().onChange(f=>L(this,null,function*(){ft({autoSuggestMaxItems:f}),yield this.plugin.saveSettings()}))}),ni(l,le().autoSuggestInEditor),ni(u,le().autoSuggestInEditor),new Ce.Setting(e).setName(N.t("settings.dialogs.heading")).setHeading(),new Ce.Setting(e).setName(N.t("settings.dialogs.accessKeys.name")).setDesc(or.createFragmentWithHTML(N.t("settings.dialogs.accessKeys.description")+"</br>"+this.seeTheDocumentation("https://publish.obsidian.md/tasks/Getting+Started/Create+or+edit+Task#Keyboard+shortcuts"))).addToggle(c=>{let d=le();c.setValue(d.provideAccessKeys).onChange(f=>L(this,null,function*(){ft({provideAccessKeys:f}),yield this.plugin.saveSettings()}))})}seeTheDocumentation(e){return`<p><a href="${e}">${N.t("settings.seeTheDocumentation")}</a>.</p>`}addOneSettingsBlock(e,n,i){let s=e.createEl("details",{cls:"tasks-nested-settings",attr:U({},n.open||i[n.text]?{open:!0}:{})});s.empty(),s.ontoggle=()=>{i[n.text]=s.open,ft({headingOpened:i}),this.plugin.saveSettings()};let a=s.createEl("summary");if(new Ce.Setting(a).setHeading().setName(n.text),a.createDiv("collapser").createDiv("handle"),n.notice!==null){let o=s.createEl("div",{cls:n.notice.class,text:n.notice.text});n.notice.html!==null&&o.insertAdjacentHTML("beforeend",n.notice.html)}return n.settings.forEach(o=>{if(!(o.featureFlag!==""&&!NS(o.featureFlag))&&(o.type==="checkbox"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addToggle(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue),l.setValue(u.generalSettings[o.settingName]).onChange(c=>L(this,null,function*(){Ws(o.settingName,c),yield this.plugin.saveSettings()}))}):o.type==="text"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addText(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue);let c=d=>L(this,null,function*(){Ws(o.settingName,d),yield this.plugin.saveSettings()});l.setPlaceholder(o.placeholder.toString()).setValue(u.generalSettings[o.settingName].toString()).onChange((0,Ce.debounce)(c,500,!0))}):o.type==="textarea"?new Ce.Setting(s).setName(o.name).setDesc(o.description).addTextArea(l=>{let u=le();u.generalSettings[o.settingName]||Ws(o.settingName,o.initialValue);let c=d=>L(this,null,function*(){Ws(o.settingName,d),yield this.plugin.saveSettings()});l.setPlaceholder(o.placeholder.toString()).setValue(u.generalSettings[o.settingName].toString()).onChange((0,Ce.debounce)(c,500,!0)),l.inputEl.rows=8,l.inputEl.cols=40}):o.type==="function"&&this.customFunctions[o.settingName](s,this),o.notice!==null)){let l=s.createEl("p",{cls:o.notice.class,text:o.notice.text});o.notice.html!==null&&l.insertAdjacentHTML("beforeend",o.notice.html)}}),s}static parseCommaSeparatedFolders(e){return e.split(",").map(n=>n.trim()).map(n=>n.replace(/^\/|\/$/g,"")).filter(n=>n!=="")}static renderFolderArray(e){return e.join(",")}insertTaskCoreStatusSettings(e,n){let{statusSettings:i}=le();i.coreStatuses.forEach(a=>{y0(e,a,i.coreStatuses,i,n,n.plugin,!0)}),new Ce.Setting(e).addButton(a=>{let o=N.t("settings.statuses.coreStatuses.buttons.checkStatuses.name");a.setButtonText(o).setCta().onClick(()=>L(this,null,function*(){let u=window.moment().format("YYYY-MM-DD HH-mm-ss"),c=`Tasks Plugin - ${o} ${u}.md`,d=this.plugin.manifest.version,f=Be.getInstance(),p=l0(i,f,o,d),b=yield this.app.vault.create(c,p);yield this.app.workspace.getLeaf(!0).openFile(b)})),a.setTooltip(N.t("settings.statuses.coreStatuses.buttons.checkStatuses.tooltip"))}).infoEl.remove()}insertCustomTaskStatusSettings(e,n){let{statusSettings:i}=le();i.customStatuses.forEach(u=>{y0(e,u,i.customStatuses,i,n,n.plugin,!1)}),e.createEl("div"),new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.addNewStatus.name")).setCta().onClick(()=>L(this,null,function*(){et.addStatus(i.customStatuses,new gt("","","",!1,"TODO")),yield Co(i,n)}))}).infoEl.remove();let a=[[N.t("settings.statuses.collections.anuppuccinTheme"),u0()],[N.t("settings.statuses.collections.auraTheme"),c0()],[N.t("settings.statuses.collections.borderTheme"),d0()],[N.t("settings.statuses.collections.ebullientworksTheme"),f0()],[N.t("settings.statuses.collections.itsThemeAndSlrvbCheckboxes"),p0()],[N.t("settings.statuses.collections.minimalTheme"),h0()],[N.t("settings.statuses.collections.thingsTheme"),g0()],[N.t("settings.statuses.collections.lytModeTheme"),m0()]];for(let[u,c]of a)new Ce.Setting(e).addButton(f=>{let p=N.t("settings.statuses.collections.buttons.addCollection.name",{themeName:u,numberOfStatuses:c.length});f.setButtonText(p).onClick(()=>L(this,null,function*(){yield Aj(c,i,n)}))}).infoEl.remove();new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.addAllUnknown.name")).setCta().onClick(()=>L(this,null,function*(){let d=this.plugin.getTasks().map(p=>p.status),f=Be.getInstance().findUnknownStatuses(d);f.length!==0&&(f.forEach(p=>{et.addStatus(i.customStatuses,p)}),yield Co(i,n))}))}).infoEl.remove(),new Ce.Setting(e).addButton(u=>{u.setButtonText(N.t("settings.statuses.customStatuses.buttons.resetCustomStatuses.name")).setWarning().onClick(()=>L(this,null,function*(){et.resetAllCustomStatuses(i),yield Co(i,n)}))}).infoEl.remove()}},Ru=or;Ru.createFragmentWithHTML=e=>createFragment(n=>n.createDiv().innerHTML=e);function y0(r,t,e,n,i,s,a){let o=r.createEl("pre");o.addClass("row-for-status"),o.textContent=new ge(t).previewText();let l=new Ce.Setting(r);l.infoEl.replaceWith(o),a||l.addExtraButton(u=>{u.setIcon("cross").setTooltip("Delete").onClick(()=>L(this,null,function*(){et.deleteStatus(e,t)&&(yield Co(n,i))}))}),l.addExtraButton(u=>{u.setIcon("pencil").setTooltip("Edit").onClick(()=>L(this,null,function*(){let c=new Fr(s,t,a);c.onClose=()=>L(this,null,function*(){c.saved&&et.replaceStatus(e,t,c.statusConfiguration())&&(yield Co(n,i))}),c.open()}))}),l.infoEl.remove()}function Aj(r,t,e){return L(this,null,function*(){et.bulkAddStatusCollection(t,r).forEach(i=>{new Ce.Notice(i)}),yield Co(t,e)})}function Co(r,t){return L(this,null,function*(){ft({statusSettings:r}),et.applyToStatusRegistry(r,Be.getInstance()),yield t.saveSettings(!0)})}function Pj(r){let{settingEl:t,infoEl:e,controlEl:n}=r,i=n.querySelector("textarea");i!==null&&(t.style.display="block",e.style.marginRight="0px",i.style.minWidth="-webkit-fill-available")}function ni(r,t){r?r.setVisibility(t):console.warn("Setting has not be initialised. Can update visibility of setting UI - in setSettingVisibility")}wi();$s();var ls=require("obsidian");Jc();rr();ny();function Nj(r){console.error(r),new ls.Notice(r+`

This message has been written to the console.
`,1e4)}var xf=class extends ls.EditorSuggest{constructor(e,n,i){super(e);this.settings=n,this.plugin=i,e.scope.register([],"Tab",()=>{var a;let s=(a=this.context)==null?void 0:a.editor;return s?(s.exec("indentMore"),!1):!0})}onTrigger(e,n,i){if(!this.settings.autoSuggestInEditor)return null;let s=n.getLine(e.line);return OS(s,e,n)?{start:{line:e.line,ch:0},end:{line:e.line,ch:s.length},query:s}:null}getSuggestions(e){var c,d,f;let n=e.query,i=e.editor.getCursor(),s=this.plugin.getTasks(),a=s.find(p=>p.taskLocation.path==e.file.path&&p.taskLocation.lineNumber==i.line),o=this.getMarkdownFileInfo(e),l=this.canSaveEdits(o);return((f=(d=(c=au()).buildSuggestions)==null?void 0:d.call(c,n,i.ch,this.settings,s,l,a))!=null?f:[]).map(p=>me(U({},p),{context:e}))}getMarkdownFileInfo(e){return e.editor.cm.state.field(ls.editorInfoField)}canSaveEdits(e){return e instanceof ls.MarkdownView}renderSuggestion(e,n){n.setText(e.displayText)}selectSuggestion(e,n){return L(this,null,function*(){var u,c,d;let i=e.context.editor;if(e.suggestionType==="empty"){this.close();let f=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(c=(u=i==null?void 0:i.cm)==null?void 0:u.contentDOM)==null||c.dispatchEvent(f);return}if(e.taskItDependsOn!=null){let f=Zc(e.taskItDependsOn,this.plugin.getTasks().map(p=>p.id));if(e.appendText+=` ${f.id}`,e.taskItDependsOn!==f)if(e.context.file.path==f.path){let p=e.taskItDependsOn.originalMarkdown,b={line:e.taskItDependsOn.lineNumber,ch:0},T={line:e.taskItDependsOn.lineNumber,ch:p.length},_=e.context.editor.getRange(b,T);if(_!==p){let O=`Error adding new ID, due to mismatched data in Tasks memory and the editor:
task line in memory: '${e.taskItDependsOn.originalMarkdown}'

task line in editor: '${_}'

file: '${f.path}'
`;Nj(O);return}e.context.editor.replaceRange(f.toFileLineString(),b,T)}else hr({originalTask:e.taskItDependsOn,newTasks:f})}let s=e.context.editor.getCursor(),a={line:s.line,ch:(d=e.insertAt)!=null?d:s.ch},o=e.insertSkip?{line:s.line,ch:a.ch+e.insertSkip}:void 0;e.context.editor.replaceRange(e.appendText,a,o),e.context.editor.setCursor({line:s.line,ch:a.ch+e.appendText.length});let l=this.getMarkdownFileInfo(e.context);this.canSaveEdits(l)&&(yield l.save())})}};Ga();var b0=(r,t)=>{let e,n=new Promise((a,o)=>{e=a});return t(r,a=>{let o=a.map(l=>l.toFileLineString()).join(`
`);e(o)}).open(),n};var T0=(r,t)=>{let e=Sd({line:"",path:""});return new zi({app:r,task:e,onSubmit:t,allTasks:[]})};var _0=r=>({createTaskLineModal:()=>b0(r,T0),executeToggleTaskDoneCommand:(t,e)=>Uy(t,e).text});Cr();var Of=class extends v0.Plugin{get apiV1(){return _0(this.app)}onload(){return L(this,null,function*(){yield qb(),nr.registerConsoleLogger(),cy("info",N.t("main.loadingPlugin",{name:this.manifest.name,version:this.manifest.version})),yield this.loadSettings();let{loggingOptions:e}=le();nr.configure(e),this.addSettingTab(new Ru({plugin:this})),IE({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace}),yield this.loadTaskStatuses();let n=new lf({obsidianEvents:this.app.workspace});this.cache=new qs({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace,events:n}),this.inlineRenderer=new _f({plugin:this}),this.queryRenderer=new Ef({plugin:this,events:n}),this.setObsidianPropertiesTypes(),this.registerEditorExtension(n0()),this.registerEditorSuggest(new xf(this.app,le(),this)),new of({plugin:this})})}loadTaskStatuses(){return L(this,null,function*(){let{statusSettings:e}=le();et.applyToStatusRegistry(e,Be.getInstance())})}onunload(){var e;cy("info",N.t("main.unloadingPlugin",{name:this.manifest.name,version:this.manifest.version})),(e=this.cache)==null||e.unload()}loadSettings(){return L(this,null,function*(){let e=yield this.loadData();ft(e),e=le(),Fe.getInstance().set(e.globalFilter),Fe.getInstance().setRemoveGlobalFilter(e.removeGlobalFilter),dn.getInstance().set(e.globalQuery),yield this.loadTaskStatuses()})}saveSettings(){return L(this,null,function*(){yield this.saveData(le())})}getTasks(){return this.cache===void 0?[]:this.cache.getTasks()}setObsidianPropertiesTypes(){var e;try{let n=this.app.metadataTypeManager,i=n.getAllProperties(),s=new Oi;for(let a of s.allPropertyNamesSorted()){let o=s.propertyType(a);((e=i[a])==null?void 0:e.type)!==o&&n.setType(a,o)}}catch(n){console.error("setObsidianPropertiesTypes error",n)}}};
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
